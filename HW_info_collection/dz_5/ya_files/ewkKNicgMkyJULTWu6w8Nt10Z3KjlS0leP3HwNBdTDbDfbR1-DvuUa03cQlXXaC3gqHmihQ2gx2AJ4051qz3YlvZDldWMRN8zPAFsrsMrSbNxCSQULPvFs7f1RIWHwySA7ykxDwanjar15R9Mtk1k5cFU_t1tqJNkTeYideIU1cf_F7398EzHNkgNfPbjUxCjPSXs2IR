!function(){function e(r){var n=i[r];if(void 0!==n)return n.exports;var o=i[r]={id:r,exports:{}};return t[r](o,o.exports,e),o.exports}var t={1256:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".vbo6275P{display:inline-block;color:#000;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.jbo0WJrwho{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,HoneypotButton:"vbo6275P",HoneypotButton__content:"jbo0WJrwho"},e.exports=a},6383:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".pXeBrVWuW{background-color:#000;opacity:.5}",""]),n.locals={HoneypotOverlay:"pXeBrVWuW"},e.exports=n},5046:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".DYkVSmT4n{position:relative}.Sw2WzYP2{cursor:pointer}.QghVBjU{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.rSQZ6rQD0I{position:absolute;top:0;left:0}",""]),n.locals={HoneypotScreen:"DYkVSmT4n",HoneypotScreen_clickable:"Sw2WzYP2",HoneypotScreen__buttonWrapper:"QghVBjU",HoneypotScreen__honeypotOverlayWrapper:"rSQZ6rQD0I"},e.exports=n},9881:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,":root{}.dphbK3J7iM{display:flex;flex-grow:1;flex-shrink:1;align-items:center;justify-content:center;box-shadow:none}.OoH3{z-index:10000}.NNsh{box-sizing:content-box;padding-top:32px;background-color:#ecf4f9;border-radius:4px;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)}.NNsh .IxU{position:absolute;top:0;left:0;width:100%;height:32px}.NpFTJoF1Z{box-shadow:0 0 20px 20px rgba(96,109,128,.15)}.xn8wMo{background-color:#fff}.EUNW{background-color:#283459}.aur8sk6nsh{position:relative;z-index:2;flex-shrink:0;width:100%;height:100%;overflow:hidden;font-size:0}.oJ7lo2hEQw{position:relative;display:flex;flex-grow:1;flex-shrink:1;align-items:stretch;visibility:hidden}.IBLNZhPVX{position:absolute;top:0;left:0;display:block;width:100%;height:100%;margin:0;padding:0}.zhpfSEe,.hHPwh{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.zhpfSEe{display:none;background-position:50%;background-size:cover}.ql5RYs{position:absolute;top:0;right:0;bottom:0;left:0;margin:0;padding:0;overflow:hidden}.IxU{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0;transition:opacity .2s}.V0FQ3mFnN{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.V0FQ3mFnN svg{width:12px;height:12px;vertical-align:top}.xJZUzlIu .weE8zdMqCm{min-width:0;max-width:44vh;margin:0 3.5vh 0 3vh}.weE8zdMqCm{font-size:18px}.ZvENv59b{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.krx,.OwezuI8Lo{cursor:pointer}.OwezuI8Lo{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.krx{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.krx:hover{background-color:#d9e9ff}.VAwe4y{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.YZS2ZkYAZT .OwezuI8Lo{color:#fff}.YZS2ZkYAZT .krx{color:#fff;background-color:#535c7a}.YZS2ZkYAZT .krx:hover{background-color:#5d6682}.xJZUzlIu{transition:box-shadow .2s linear,background-color .2s linear,width .4s ease,height .4s ease,left .4s ease,top .4s ease,bottom .4s ease,right .4s ease;will-change:width,height,left,top,bottom,right}.hfhcLHE{transition:box-shadow .2s linear,background-color .2s linear,margin-top .2s linear,transform .4s ease}.xJZUzlIu .aur8sk6nsh{transition:width .4s,height .4s;will-change:width,height}.MMz1l{transition:none}.H7Z2t5VCe .IxU{display:block;opacity:0}.dphbK3J7iM:not(.CFBqt5G) .IxU,.EyCf .IxU{opacity:0}.dphbK3J7iM:not(.CFBqt5G) .V0FQ3mFnN,.EyCf .V0FQ3mFnN{display:none}.P2N.CFBqt5G.hfhcLHE{margin-top:32px}.OoH3 .IxU{opacity:1}.OoH3 .V0FQ3mFnN{display:block}.NpFTJoF1Z .aur8sk6nsh{width:auto}",""]),n.locals={yaInPageStickyWrapper:"dphbK3J7iM",yaInPageStickyWrapper__sticky:"OoH3",yaInPageStickyWrapper__sticky__flyroll:"NNsh",yaInpageAdditionalContentContainer:"IxU",yaInPageStickyWrapper__sticky__covering:"NpFTJoF1Z",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"xn8wMo",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"EUNW",yaInPageWrapper:"aur8sk6nsh",yaInPagePlaceholderElement:"oJ7lo2hEQw",InPageLayout__videoSlot:"IBLNZhPVX",InPageLayout__packshotContainer:"zhpfSEe",InPageLayout__slot:"hHPwh",InPageLayout__videoSlotContainer:"ql5RYs",yaInpageCross:"V0FQ3mFnN",yaInPageStickyWrapper__variant__covering:"xJZUzlIu",yaInpageAdditionalContent:"weE8zdMqCm",yaInpageAdditionalContent__adTitle:"ZvENv59b",yaInpageAdditionalContent__button:"krx",yaInpageAdditionalContent__description:"OwezuI8Lo",yaInpageAdditionalContent__buttonClickableArea:"VAwe4y",yaInpageAdditionalContent_dark:"YZS2ZkYAZT",yaInPageStickyWrapper__variant__flyroll:"hfhcLHE",yaInPageStickyWrapper__unAnimated:"MMz1l",yaInPageStickyWrapper__additionalContent_enabled:"H7Z2t5VCe",yaInPageStickyWrapper__detached:"CFBqt5G",yaInPageStickyWrapper__inline:"EyCf",yaInPageStickyWrapper__isAnimating:"P2N"},e.exports=n},5432:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".mfU1{color:inherit;text-decoration:none}",""]),n.locals={ClickThroughLink:"mfU1"},e.exports=n},7480:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".PiBgbupxSM{display:inline-block;color:#000;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.O27lnZIlD{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotButton:"PiBgbupxSM",PackshotButton__content:"O27lnZIlD"},e.exports=a},4368:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".poDjc95M{background-color:#000;opacity:.5}",""]),n.locals={PackshotOverlay:"poDjc95M"},e.exports=n},2670:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".S77Lmgh4F{position:relative}.mCLLHRCmU2{cursor:pointer}.WQE{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.dyf93lzoXY{position:absolute;top:0;left:0}.wvw5TdG{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+o.locals.AD_FONT+"}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotScreen:"S77Lmgh4F",PackshotScreen_clickable:"mCLLHRCmU2",PackshotScreen__buttonWrapper:"WQE",PackshotScreen__packshotOverlayWrapper:"dyf93lzoXY",PackshotScreen__textBlock:"wvw5TdG"},e.exports=a},8866:function(e,t,i){var r=i(5580),n=i(98),o=i(9792),a=i(2840),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".qPtv{border-radius:16px;cursor:pointer;transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+";will-change:background-color}.qPtv:not(.RlJaOu),.RlJaOu{background-color:rgba(35,37,38,.1)}.qPtv:not(.RlJaOu):hover,.RlJaOu:hover{background-color:rgba(35,37,38,.4)}.KNkJBMCmQ{transform:translate(12px,12px);will-change:transform}.oYe6YFO{transform:rotate(45deg);opacity:0}.q2ess,.oYe6YFO{transition:"+o.locals.default_transition_duration+" transform "+a.locals.default_transition_timing_function+","+o.locals.default_transition_duration+" opacity "+a.locals.default_transition_timing_function+";will-change:transform,opacity}.RlJaOu .q2ess{opacity:0}.RlJaOu .oYe6YFO{opacity:1}.RlJaOu .Z9Wxgfo2u{transform:translateY(6px)}.RlJaOu .DIVmS{transform:translateY(-6px)}.RlJaOu .htjCAA{transform:rotate(0deg)}.RlJaOu .mFK{transform:rotate(90deg)}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseAnimationIcon:"qPtv",AbuseAnimationIcon_cross:"RlJaOu",AbuseAnimationIcon__lines:"KNkJBMCmQ",AbuseAnimationIcon__line:"oYe6YFO",AbuseAnimationIcon__dot:"q2ess",AbuseAnimationIcon__dot_top:"Z9Wxgfo2u",AbuseAnimationIcon__dot_bottom:"DIVmS",AbuseAnimationIcon__line_left:"htjCAA",AbuseAnimationIcon__line_right:"mFK"},e.exports=s},2013:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".pT4{}.OheCe3assG{fill:rgba(35,37,38,.1)}.pT4:hover .OheCe3assG{fill:rgba(35,37,38,.4)}.GvGrvDd3M,.jk7{}.driT,.pW1X0yt9tC{visibility:hidden}",""]),n.locals={AbuseNoAnimationIcon:"pT4",AbuseNoAnimationIcon__circle:"OheCe3assG",AbuseNoAnimationIcon__dots:"GvGrvDd3M",AbuseNoAnimationIcon__lines:"jk7",AbuseNoAnimationIcon__dots_Hidden:"driT",AbuseNoAnimationIcon__lines_Hidden:"pW1X0yt9tC"},e.exports=n},5170:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(5092),s=i(1307),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Z0958H8pQW{position:absolute;top:4px;left:4px;display:inline-flex;align-items:center;padding:4px 6px;color:#b1b1b1;font-weight:400;font-size:6px;font-family:"+o.locals.AD_FONT+";line-height:normal;letter-spacing:.075em;text-transform:uppercase;text-decoration:none;text-shadow:0 2px 2px rgba(0,0,0,.1);background:rgba(38,38,38,.65);border-radius:24px;transform-origin:bottom left;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.p7gKEN9{font-size:8px}.LUJrvRa31{cursor:pointer}.YPYz{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}.kMKw9lhB{margin:0 3px;font-weight:700;font-size:4px;line-height:1.5}.p7gKEN9 .kMKw9lhB{font-size:6px}.HBNs6{}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,AD_LABEL_SMALL_HEIGHT:""+a.locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+s.locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"Z0958H8pQW",AdLabel_middle:"p7gKEN9",AdLabel_clickable:"LUJrvRa31",AdLabel__icon:"YPYz",AdLabel__delimiter:"kMKw9lhB",AdLabel__ageLabel:"HBNs6"},e.exports=l},2256:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(7441),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".uLort6GzCj{display:inline-block;box-sizing:content-box;min-width:1em;min-height:1em;padding:0;overflow:hidden;color:#000;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:inherit;font-family:"+o.locals.AD_FONT+";line-height:inherit;white-space:nowrap;text-align:center;text-decoration:none;text-overflow:ellipsis;background-color:#ffdc00;border:.05em solid transparent;border-radius:1em;outline:none;box-shadow:0 6px 8px rgba(255,220,0,.53);cursor:pointer}.HTx92wO{display:flex;align-items:center;justify-content:center;height:1em;padding:0 .3em}.f9xy{display:inline;min-width:1em;min-height:1em;padding-right:.4em;font-size:.47em}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,ArrowButton:"uLort6GzCj",ArrowButton__content:"HTx92wO",ArrowButton__textContent:"f9xy"},e.exports=s},2020:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(7441),s=i(1154),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".LNd{display:inline-block;color:#000;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+o.locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ustdGpee3v{cursor:pointer}.oDXPC{text-decoration:none}.ustdGpee3v .j48oOjt8F{opacity:.915}.ustdGpee3v:hover .j48oOjt8F{opacity:1}.A2BLwAN{padding:4px;pointer-events:auto}.j48oOjt8F{display:flex;align-items:center;height:"+s.locals.SMALL_BUTTON_HEIGHT+";opacity:.6}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,SMALL_BUTTON_HEIGHT:""+s.locals.SMALL_BUTTON_HEIGHT,Button:"LNd",Button_active:"ustdGpee3v",Button_link:"oDXPC",Button__content:"j48oOjt8F",Button__clickable:"A2BLwAN"},e.exports=l},5050:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".ziEKwa{position:absolute;bottom:0;left:0;width:100%;height:88px;background-image:linear-gradient(-180deg,transparent,rgba(0,0,0,.3) 35%,rgba(0,0,0,.6) 99%);pointer-events:none}",""]),n.locals={ControlsBottomShadow:"ziEKwa"},e.exports=n},1796:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".mkPnE3jw2Z{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),n.locals={MuteIcon:"mkPnE3jw2Z"},e.exports=n},6937:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".mHa1wjAYKv{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+o.locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,SocialAdvertisingAdLabel:"mHa1wjAYKv"},e.exports=a},4115:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"@keyframes IHyNrrvu{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.CELP{animation-name:IHyNrrvu;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),n.locals={SpinnerIcon__css_animated:"CELP",spin:"IHyNrrvu"},e.exports=n},5751:function(e,t,i){var r=i(5580),n=i(98),o=i(1154),a=i(4430),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".GdmQCtMBd1{font-size:18px}.GdmQCtMBd1 .qQtwB{height:"+o.locals.MIDDLE_BUTTON_HEIGHT+"}.Y3ZN7nGfy{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.Y3ZN7nGfy .ApONopFF{position:relative;background-color:"+a.locals.BUTTON_INACTIVE_BACKGROUND_COLOR+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.Y3ZN7nGfy.QpN:hover .ApONopFF{background-color:"+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR+"}.QpN .j48oOjt8F{opacity:1}.QpN .ApONopFF{background-color:"+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+"}",""]),s.locals={MIDDLE_BUTTON_HEIGHT:""+o.locals.MIDDLE_BUTTON_HEIGHT,BUTTON_INACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_INACTIVE_BACKGROUND_COLOR,BUTTON_ACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,BUTTON_HOVERED_BACKGROUND_COLOR:""+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR,SquareButton_middle:"GdmQCtMBd1",SquareButton__basecontent:"qQtwB",SquareButton:"Y3ZN7nGfy",SquareButton__basebutton:"ApONopFF",SquareButton_active:"QpN",Button__content:"j48oOjt8F"},e.exports=s},1172:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".QZRvc{width:100%;transform-origin:0;will-change:transform}.QZRvc,.UYk{position:absolute;height:2px}.ZKCU2{background-color:#ff1a2d;transform:scaleX(0)}.J0fyK{background-color:#cdcdcd;transform:scaleX(1)}",""]),n.locals={TimelineBar:"QZRvc",TimelineBar__container:"UYk",TimelineBar__progress:"ZKCU2",TimelineBar__background:"J0fyK"},e.exports=n},1197:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".HAAkFARGT{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),n.locals={UnmuteIcon:"HAAkFARGT"},e.exports=n},1155:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".eaXoUL3{}",""]),n.locals={AbuseContainer:"eaXoUL3"},e.exports=n},7486:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(9792),s=i(2840),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".xkLNMsU{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" height "+s.locals.default_transition_timing_function+";pointer-events:none;will-change:opacity,height}.xkLNMsU:not(.nnle){visibility:hidden}.nnle{opacity:1;pointer-events:auto}.xkLNMsU:not(.BoiT0S){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.BoiT0S{top:0;right:0;bottom:0;left:0}.xhhvg9BwxO{box-sizing:border-box;padding:8px}.BoiT0S .xhhvg9BwxO{height:100%;overflow:auto}.NFQM{display:flex;align-items:center;height:36px}.di7To{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:3px;outline:none;resize:none;pointer-events:auto}.di7To:focus{border-color:#498bff}.mivSS{margin-top:8px;background-color:#498bff;border-radius:8px}.mivSS:hover{background-color:#2e71e5}.aCDNrRBEBY{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.miyN5J6E{padding:8px;color:#3a3d40}.aCDNrRBEBY,.ckalw2XU,.miyN5J6E{font-size:15px}.ckalw2XU{color:#a3acbf;line-height:16px;word-break:break-word}.v1ASgBF .ckalw2XU,.TVfAAngvPb .ckalw2XU{padding:10px 8px}.rmBchBdgO .ckalw2XU{margin-right:15px;margin-left:10px}.ckalw2XU,.miyN5J6E{font-weight:600;font-family:"+o.locals.AD_FONT+";line-height:16px}.szGtWtHeS{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:"+a.locals.default_transition_duration+" background-color "+s.locals.default_transition_timing_function+";pointer-events:auto}.szGtWtHeS:hover{background-color:#f4f8ff}.ZFJdT{display:flex;flex-direction:column}.kGdRlDS{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+o.locals.AD_FONT+";line-height:14px;white-space:pre-line}.BoiT0S .kGdRlDS{margin-right:18px}.BoiT0S .ZFJdT{height:calc(100% - 36px);min-height:120px}.BoiT0S .rmBchBdgO,.BoiT0S .di7To{height:100%}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,AbuseDisplay:"xkLNMsU",AbuseDisplay_visible:"nnle",AbuseDisplay_fullSize:"BoiT0S",AbuseDisplay__content:"xhhvg9BwxO",AbuseDisplay__customReasonDisplayHeader:"NFQM",AbuseDisplay__customReasonDisplayTextarea:"di7To",AbuseDisplay__customReasonDisplayButton:"mivSS",AbuseDisplay__customReasonDisplayButtonContent:"aCDNrRBEBY",AbuseDisplay__text:"miyN5J6E",AbuseDisplay__hint:"ckalw2XU",AbuseDisplay__complaintDisplay:"v1ASgBF",AbuseDisplay__hideDisplay:"TVfAAngvPb",AbuseDisplay__customReasonDisplay:"rmBchBdgO",AbuseDisplay__arrowLeftIcon:"szGtWtHeS",AbuseDisplay__messageBox:"ZFJdT",AbuseDisplay__legal:"kGdRlDS"},e.exports=l},8561:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".lAi2NJdh6{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;background:#f4f6fb;pointer-events:none}.xUQ42J6xZ{justify-content:center}.cxq6pP{justify-content:left}.cxq6pP .sDPrh{max-width:200px;margin-left:20px}.xUQ42J6xZ .sDPrh{text-align:center}.lyTs{color:#3a3d40;font-weight:600;font-size:16px;font-family:"+o.locals.AD_FONT+";line-height:22px}.v2Bl2{margin-top:8px;color:#a3acbf;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,AbusePlaceholder:"lAi2NJdh6",AbusePlaceholder_place_center:"xUQ42J6xZ",AbusePlaceholder_place_left:"cxq6pP",AbusePlaceholder__container:"sDPrh",AbusePlaceholder__text:"lyTs",AbusePlaceholder__hint:"v2Bl2"},e.exports=a},2990:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".Szwpzt5HSO{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-flow:column nowrap;justify-content:flex-end;color:#fff}.gfM0x5nk{display:flex;align-items:flex-end;margin:2px 6px 10px}.e4lf{position:relative}.VmryW7t{visibility:visible;opacity:1}.EDCkWgE{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.OuMv{visibility:visible;opacity:1}.RTMSDAl{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}",""]),n.locals={BottomControls__container:"Szwpzt5HSO",ButtonControls:"gfM0x5nk",DisclaimerContainer:"e4lf",ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:"VmryW7t",ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden:"EDCkWgE",ComboVideoControls__controlsBottomShadow_visible:"OuMv",ComboVideoControls__controlsBottomShadow_hidden:"RTMSDAl"},e.exports=n},9976:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".JOss8VW{display:flex}.ZY0oX9,.rE2Qk5t{flex:1;align-items:center}.Pdog0,.FlaYKnqK{align-items:flex-end}.Pdog0,.ZY0oX9{flex-direction:row-reverse}.Oa9{display:flex;align-items:flex-end;padding:0 6px}.F7H696{display:flex;flex-direction:column;padding:0 6px}.Ibc{display:flex;align-items:flex-end;justify-content:space-between}",""]),n.locals={CallToActionControls:"JOss8VW",CallToActionControls__leftCenter:"ZY0oX9",CallToActionControls__rightCenter:"rE2Qk5t",CallToActionControls__leftBottom:"Pdog0",CallToActionControls__rightBottom:"FlaYKnqK",CallToActionControls__actionPanelLayoutOneLine:"Oa9",CallToActionControls__actionPanelLayoutTwoLines:"F7H696",CallToActionControls__actionPanelLayoutTwoLines__buttonsLine:"Ibc"},e.exports=n},7012:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".vJ2u5s2N{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),n.locals={CenterControls:"vJ2u5s2N"},e.exports=n},4061:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(4430),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".W4zGySLDTa{display:flex;flex-flow:column nowrap;padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+o.locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.aNhWqH{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:"+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";border-radius:4px}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,BUTTON_ACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,Subtitles__container:"W4zGySLDTa",Subtitles__subtitle:"aNhWqH"},e.exports=s},4499:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".Pwb{position:absolute;top:0;right:0;left:0}",""]),n.locals={TopControls:"Pwb"},e.exports=n},8971:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".P8Ydjo1TVD{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.CkOyKd{z-index:2}",""]),n.locals={AbuseBurgerButton:"P8Ydjo1TVD",AbuseBurgerButton_inFullSize:"CkOyKd"},e.exports=n},2645:function(e,t,i){var r=i(5580),n=i(98),o=i(9792),a=i(2840),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".Cj9{display:block;width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+"}.FW0{display:flex;align-items:center;margin-right:13px}.WYO8bews{margin-left:auto}.Cj9:hover{background-color:#e5f2ff}.Cj9 .A2BLwAN{padding:0}.uSd9RapY{padding:8px}.UJbLRc{height:auto;font-size:15px;line-height:16px}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseOptionButton:"Cj9",AbuseOptionButton__leftIcon:"FW0",AbuseOptionButton__rightIcon:"WYO8bews",Button__clickable:"A2BLwAN",AbuseOptionButton__clickable:"uSd9RapY",AbuseOptionButton__content:"UJbLRc"},e.exports=s},7276:function(e,t,i){var r=i(5580),n=i(98),o=i(1154),a=n(r);a.i(o,"",!0),a.push([e.id,".LBUsnoK{cursor:pointer}.NOE8{font-size:18px}.NOE8 .JuMTIe1{height:"+o.locals.MIDDLE_BUTTON_HEIGHT+"}.JKYz{width:60px;height:60px}.VVbJ{width:80px;height:80px}",""]),a.locals={MIDDLE_BUTTON_HEIGHT:""+o.locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"LBUsnoK",CirclePlayButton_middle:"NOE8",CirclePlayButton__basecontent:"JuMTIe1",CirclePlayButton__icon:"JKYz",CirclePlayButton__icon_middle:"VVbJ"},e.exports=a},4659:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".kWbH8H0{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.iwbABtj{text-transform:uppercase}",""]),n.locals={DisclaimerSvg:"kWbH8H0",DisclaimerSvg_text:"iwbABtj"},e.exports=n},550:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".iiELZ{display:flex;box-sizing:border-box;width:100%;padding:2px .2em;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),n.locals={Disclaimer:"iiELZ"},e.exports=n},3366:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".uEK{display:flex;justify-content:center;color:#fff;font-family:"+o.locals.AD_FONT+";opacity:.7;filter:drop-shadow(0 0 1px #000)}.B5AEiN4V{position:relative;bottom:32px;height:0}.PYHCCxouh8{cursor:pointer;pointer-events:auto}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,Domain_container:"uEK",Domain_container__lifted:"B5AEiN4V",Domain_greenUrl:"PYHCCxouh8"},e.exports=a},5037:function(e,t,i){var r=i(5580),n=i(98),o=i(2100),a=n(r);a.i(o,"",!0),a.push([e.id,".YxSjdrlIJR{position:static;margin-left:auto}.Nk7JjH{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.uVOQEGC{opacity:.5;-webkit-backdrop-filter:"+o.locals.BUTTON_BACKDROP_FILTER+";backdrop-filter:"+o.locals.BUTTON_BACKDROP_FILTER+"}.jDOxpAmLy3{width:17px}",""]),a.locals={BUTTON_BACKDROP_FILTER:""+o.locals.BUTTON_BACKDROP_FILTER,SkipButtonSmall:"YxSjdrlIJR",SkipButtonSmall__content:"Nk7JjH",SkipButtonSmall__disabled:"uVOQEGC",SkipButtonSmall__timeToSkipString__icon:"jDOxpAmLy3"},e.exports=a},8712:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".RtI2S{position:static;margin-left:auto}.MsZvdly9{position:relative;margin-left:4px}.GULBq{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.bmD{position:relative;justify-content:center;width:35px;text-align:center}.vgI8NQ{display:flex}.vgI8NQ>span:first-child{width:16px;text-align:right}.iJf{position:relative;top:0;width:19px;height:13px}",""]),n.locals={SkipButtonWithText:"RtI2S",SkipButtonWithText__text:"MsZvdly9",SkipButtonWithText__content:"GULBq",SkipButtonWithText__timeToSkipString:"bmD",SkipButtonWithText__digitsContainer:"vgI8NQ",SkipButtonWithText__icon:"iJf"},e.exports=n},9130:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".TQRxi0l0g3{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),n.locals={Spinner:"TQRxi0l0g3"},e.exports=n},8774:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".XBEuxk{display:flex;align-items:center;box-sizing:border-box;min-width:0;height:100%;padding:10px 0}.bVXEv6J5{display:flex;align-items:center;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";line-height:3;white-space:nowrap;background-color:#ffd500;border-radius:4px;cursor:pointer;pointer-events:auto}.JRdI,.xkCk{height:2.1em;font-size:.9em}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,ActionButton:"XBEuxk",ActionButton__content:"bVXEv6J5",ActionButton__content_middle:"JRdI",ActionButton__content_small:"xkCk"},e.exports=a},9286:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".pfB1q{-ms-flex:1 1 0;flex:1 1 0;margin-right:10pt;color:#fff;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";line-height:1.3}.tbPTy0AIJV{line-height:1.3;-webkit-line-clamp:2}.Pwk43v .tbPTy0AIJV{font-size:.9em}.cZMK{position:fixed;white-space:nowrap;visibility:hidden}.xf6ndat{white-space:-moz-pre-wrap;white-space:pre-wrap;white-space:-o-pre-wrap;word-break:break-all;-webkit-line-clamp:1}.rnJ5pNb,.xf6ndat{font-weight:400;font-size:.8em}.xf6ndat,.tbPTy0AIJV{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,InfoBlock:"pfB1q",InfoBlock__title:"tbPTy0AIJV",InfoBlock_multiline:"Pwk43v",InfoBlock__titleSpy:"cZMK",InfoBlock__greenUrl:"xf6ndat",InfoBlock__ageRestriction:"rnJ5pNb"},e.exports=a},398:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(2100),s=i(4430),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Lkoo{height:100%;font-family:"+o.locals.AD_FONT+"}.lqOU{padding:4px;overflow:hidden;cursor:pointer;pointer-events:auto}.LkHf{position:relative;min-width:42px;height:100%}.lsNOt5{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;background-color:"+s.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";border-radius:4px;-webkit-backdrop-filter:"+a.locals.BUTTON_BACKDROP_FILTER+";backdrop-filter:"+a.locals.BUTTON_BACKDROP_FILTER+"}.zOFXyR4Nz{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.KR41QKuN{display:flex;flex-wrap:nowrap;align-items:center;margin-left:35pt;overflow:hidden}.dWgj{margin-left:10px}.zOFXyR4Nz img{border-radius:2px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,BUTTON_BACKDROP_FILTER:""+a.locals.BUTTON_BACKDROP_FILTER,BUTTON_ACTIVE_BACKGROUND_COLOR:""+s.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,ActionPanel:"Lkoo",ActionPanel__clickableLayer:"lqOU",ActionPanel__content:"LkHf",ActionPanel__mask:"lsNOt5",ActionPanel__favicon:"zOFXyR4Nz",ActionPanel__wrapper:"KR41QKuN",ActionPanel__wrapper_wide:"dWgj"},e.exports=l},2820:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(4430),s=i(1154),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".S3oshfWC{padding:4px;color:#fff;font-family:"+o.locals.AD_FONT+";cursor:pointer;pointer-events:auto}.awlUK6p{position:relative;display:flex;align-items:center;height:"+s.locals.SMALL_BUTTON_HEIGHT+";font-size:.8em;background-color:"+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.awlUK6p.ScGXf59BJ{height:"+s.locals.MIDDLE_BUTTON_HEIGHT+";font-size:1em}.RKpS:hover .awlUK6p{background-color:"+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR+"}.JASDTJG{width:100%;height:100%;border-radius:4px}.IerpnAw{display:flex;align-items:center;width:20px;height:20px;margin-right:.65em;font-size:2em}.ScGXf59BJ .IerpnAw{width:26px;height:26px}.tXGNE{display:inline-block;max-width:90px;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ScGXf59BJ .tXGNE{max-width:120px;margin-left:17px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,BUTTON_HOVERED_BACKGROUND_COLOR:""+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR,BUTTON_ACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,MIDDLE_BUTTON_HEIGHT:""+s.locals.MIDDLE_BUTTON_HEIGHT,SMALL_BUTTON_HEIGHT:""+s.locals.SMALL_BUTTON_HEIGHT,ActionPanelSmall__clickableContainer:"S3oshfWC",ActionPanelSmall:"awlUK6p",ActionPanelSmall__middle:"ScGXf59BJ",ActionPanelSmall__container:"RKpS",ActionPanelSmall__favIcon:"JASDTJG",ActionPanelSmall__favIconContainer:"IerpnAw",ActionPanelSmall__label:"tXGNE"},e.exports=l},806:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=i(7441),s=i(2100),l=i(4430),d=n(r);d.i(o,"",!0),d.i(a,"",!0),d.i(s,"",!0),d.i(l,"",!0),d.push([e.id,".pwQvNRoLy{position:relative;display:inline-block;height:3em;padding:4px;color:#fff;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:12px;font-family:"+o.locals.AD_FONT+";text-shadow:0 2px 2px rgba(0,0,0,.1);cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.LFJ0kgD{position:relative;display:flex;box-sizing:border-box;height:100%;padding:.17em;background-color:"+l.locals.BUTTON_INACTIVE_BACKGROUND_COLOR+";border-radius:.5em;opacity:.7;-webkit-backdrop-filter:"+s.locals.BUTTON_BACKDROP_FILTER+";backdrop-filter:"+s.locals.BUTTON_BACKDROP_FILTER+"}.jqUHIl4l{cursor:pointer}.pwQvNRoLy.jqUHIl4l:hover>.LFJ0kgD{background-color:"+l.locals.BUTTON_HOVERED_BACKGROUND_COLOR+"}.jqUHIl4l>.LFJ0kgD{background-color:"+l.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";opacity:1}.fzeeE,.oF75L{display:flex;align-items:center;height:100%}.oF75L{justify-content:center;width:2.5em}.U0qOMbtT{margin-left:.8em}.bFZgRRv{height:100%;border-radius:4px}.WltXuca{width:100%}.EgDm4K6a{display:inline-block;width:50%;text-align:right}.eP1D1XM{display:inline-block;width:50%}.Kql{width:.8em;height:1.2em}",""]),d.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,BUTTON_BACKDROP_FILTER:""+s.locals.BUTTON_BACKDROP_FILTER,BUTTON_INACTIVE_BACKGROUND_COLOR:""+l.locals.BUTTON_INACTIVE_BACKGROUND_COLOR,BUTTON_ACTIVE_BACKGROUND_COLOR:""+l.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,BUTTON_HOVERED_BACKGROUND_COLOR:""+l.locals.BUTTON_HOVERED_BACKGROUND_COLOR,MultirollSkipButton__clickable:"pwQvNRoLy",MultirollSkipButton:"LFJ0kgD",MultirollSkipButton_active:"jqUHIl4l",MultirollSkipButton__contentLeft:"fzeeE",MultirollSkipButton__contentRight:"oF75L",MultirollSkipButton__skipText:"U0qOMbtT",MultirollSkipButton__leftImage:"bFZgRRv",MultirollSkipButton__timeToSkipString:"WltXuca",MultirollSkipButton__timeToSkipString__leftDigit:"EgDm4K6a",MultirollSkipButton__timeToSkipString__rightDigit:"eP1D1XM",MultirollSkipButton__icon:"Kql"},e.exports=d},3683:function(e,t,i){var r=i(5580),n=i(98),o=i(1154),a=n(r);a.i(o,"",!0),a.push([e.id,".s86jg,.gCwttoeRi,.iN3m9I4TP{}.L8KS2L3Zy{visibility:hidden}.Rik3,.TKRaI2{display:flex;align-items:center;justify-content:center}.TKRaI2{width:"+o.locals.SMALL_BUTTON_HEIGHT+";height:"+o.locals.SMALL_BUTTON_HEIGHT+"}.hGKGZsH{width:"+o.locals.MIDDLE_BUTTON_HEIGHT+";height:"+o.locals.MIDDLE_BUTTON_HEIGHT+"}.JWvM{width:29px;height:24px}.jh3{position:relative;bottom:1px;margin-right:"+o.locals.SMALL_BUTTON_LEFT_RIGHT_MARGIN+"}.JnGU5{white-space:nowrap;transform-origin:left center}.qSBcXe{margin-right:"+o.locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}",""]),a.locals={SMALL_BUTTON_HEIGHT:""+o.locals.SMALL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+o.locals.MIDDLE_BUTTON_HEIGHT,SMALL_BUTTON_LEFT_RIGHT_MARGIN:""+o.locals.SMALL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+o.locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,MuteButton:"s86jg",UnmuteButton:"gCwttoeRi",VolumeButton:"iN3m9I4TP",MuteButton__hidden:"L8KS2L3Zy",VolumeButton__content:"Rik3",VolumeButton__iconContainer:"TKRaI2",VolumeButton__iconContainer_middle:"hGKGZsH",VolumeButton__icon:"JWvM",UnmuteButton__text:"jh3",UnmuteButton__text_animation:"JnGU5",UnmuteButton__text_middle:"qSBcXe"},e.exports=a},8453:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".Lvk{width:28px;height:28px;padding:10px 10px 4px 21px;cursor:pointer;pointer-events:auto}",""]),n.locals={MuteUnmuteButtonWithoutBackground:"Lvk"},e.exports=n},7864:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,".uFQR7STZGp{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),n.locals={Timeline:"uFQR7STZGp"},e.exports=n},4993:function(e,t,i){var r=i(5580),n=i(98),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".BRU1txHVF{position:relative;flex:1;min-width:0;padding-bottom:10px;color:#fff;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.HoqBXInhi{position:relative;width:100%;padding:0 5px;font-family:"+o.locals.AD_FONT+";text-shadow:0 2px 3px rgba(0,0,0,.25);cursor:pointer}.BRU1txHVF:hover .HoqBXInhi{border-bottom:1px solid #fff;filter:drop-shadow(0 0 1px #000)}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,TitleAndBody:"BRU1txHVF",TitleAndBody_line:"HoqBXInhi"},e.exports=a},1154:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={SMALL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",SMALL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"},e.exports=n},6799:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'},e.exports=n},7441:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={AD_FONT_WEIGHT:"500"},e.exports=n},1307:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={AD_LABEL_MIDDLE_HEIGHT:"10px"},e.exports=n},5092:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={AD_LABEL_SMALL_HEIGHT:"10px"},e.exports=n},2100:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={BUTTON_BACKDROP_FILTER:"blur(8px)"},e.exports=n},4430:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={BUTTON_INACTIVE_BACKGROUND_COLOR:"rgba(38, 38, 38, 0.3)",BUTTON_ACTIVE_BACKGROUND_COLOR:"rgba(38, 38, 38, 0.65)",BUTTON_HOVERED_BACKGROUND_COLOR:"rgba(0, 0, 0, 0.65)"},e.exports=n},9792:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={default_transition_duration:"100ms"},e.exports=n},2840:function(e,t,i){var r=i(5580),n=i(98)(r);n.push([e.id,"",""]),n.locals={default_transition_timing_function:"ease-in"},e.exports=n},8767:function(e,t,i){"use strict";function r(e,t,i,r,n,o,a){var s,l,d=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:o},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{l=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,l=window}return l[t]=u,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+n+"/moat/"+r+"/moatvideo.js#"+t,u}i.r(t),i.d(t,{initMoatTracking:function(){return r}})},942:function(){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||o?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(o=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function n(e){(new Image).src=e}var o=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(r){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,o,a){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(o),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=a,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(o=0;o<s.length;o++)if(s[o]){var l=s[o].split(":");e[l[0]]=2!=l.length||("undefined"!==typeof e[l[0]]?isNaN(parseInt(l[1],10))?e[l[0]]:parseInt(l[1],10):l[1])}}}catch(c){}for(var d in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),n(r(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(d)&&a.subscribe(this.onVPAIDEvent.bind(this,d),d);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return n(r(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),n(r(i(c=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var o=t.playerSizeParams,a=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];(!l[0]||a>=l[0])&&(!l[1]||a<l[1])&&n(r(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(d=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(d=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&n(r(i("AdVideoClick"+parseInt(d,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var d=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);n(r(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&d.state&&n(r(i(e+d.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var c=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;n(r(i(t.eventsMap[e]+c),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters)),n(r(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&n(r(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var o=this;setTimeout((function(){o.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)n(r(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,n(r(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,r){if(this.intersectionSupport)return t.match(this.hasFocus(),r,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var n=this.realWindow,o=this.rootElement.getBoundingClientRect(),a=t.calculateArea(o,n);try{for(;n!==e.top;){var s=n.name||(n.name="wb-"+Math.round(1e6*Math.random()).toString(16));o=(n=n.parent).frames[s].frameElement.getBoundingClientRect(),a=Math.min(t.calculateArea(o,n),a)}}catch(l){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),r,a,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var o=[],a=0;a<this.observerData.length;a++){var s=this.observerData[a];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?n(r(i(s.name+t.VIEWABLE),this.adParameters)):o.push(s)}this.observerData=o},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,n(r(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,r,n){var o=t.NOT_VIEWABLE;return(e||!i)&&r>=n&&(o=t.VIEWABLE),{state:o,focus:e,percent:r}},t.calculateArea=function(e,t){var i=e.width*e.height,r=e.width,n=e.height;return 0>e.top&&(n+=e.top),e.bottom>t.innerHeight&&(n-=e.bottom-t.innerHeight),0>e.left&&(r+=e.left),e.right>t.innerWidth&&(r-=e.right-t.innerWidth),r*n/i},e.WBViewAbility=t}(window)},6419:function(e,t,i){"use strict";i.d(t,{M:function(){return r.M}});var r=i(6415)},8715:function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}i.d(t,{i:function(){return r}})},1311:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});const r=i(3206),n=function(e){void 0===e&&(e=window);const t=r(e);return"boolean"===typeof t?-1:t}},9369:function(e,t,i){"use strict";function r(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!function(e){void 0===e&&(e=window);return e.navigator.userAgent.indexOf("UCBrowser")>-1}(e)}i.d(t,{P:function(){return r}})},3960:function(e,t,i){"use strict";function r(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!function(e){void 0===e&&(e=window);return(0,a.N)(e)>11}(e)}function n(e,t){if(!(0,l.m)(e.matchMedia))return!1;const i=e.matchMedia(t);return(0,d.K)(i)&&Boolean(i.matches)}function o(e){return void 0===e&&(e=window),r(e)||function(e){return n(e,u)}(e)||function(e){return n(e,h)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}i.d(t,{$:function(){return m}});var a=i(1311);var s=i(669),l=i(7438),d=i(7878),c=i(9727);const u=(0,s.U)(c.p,(e=>"("+e+"any-pointer:coarse)")).join(","),h=(0,s.U)(c.p,(e=>"("+e+"touch-enabled)")).join(",");var p=i(9369),A=i(8715);const m=(void 0===v&&(v=window),function(e){void 0===e&&(e=window);const t=(0,A.i)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map((e=>e.trim().split("/")[0])).filter((e=>e&&"mobile"!==e));return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]}(v)||(0,p.P)(v)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&o(e)}(v));var v},5386:function(e,t,i){"use strict";function r(e){return void 0===e&&(e=window),void 0===u&&(u=function(e){void 0===e&&(e=window);return e.JSON&&(0,c.E)(e.JSON.stringify)&&(0,c.E)(e.JSON.parse)}(e)?e.JSON:{stringify:p("stringify"),parse:p("parse")}),u}function n(e){return r().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=(0,a.s)(t,(e=>e.value===i));return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if((0,s.m)(r))return(0,m.H)(r.name)?r.name:"[Function]";if(!(0,A.K)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const o=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:o,value:r}),t.set(r,o),r}}())}i.d(t,{s:function(){return T}});var o=i(1558),a=i(4877),s=i(7438),l=i(2017),d=i(6350),c=i(4410);let u;const h=function(e){void 0===e&&(e=document.body);const t=function(e){const t=(0,l.Q)(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",(0,d.L)(e)}(t)}},p=e=>t=>{const{JSON:i,clean:r}=h();try{return i[e](t)}finally{r()}};var A=i(7878),m=i(4778);const v="DEFAULT_ERROR_MESSAGE",_=0,f="",g="?:?:?",y=!0,E=i(1369);class T extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||v)};super(),E(this,T.prototype),this.message=t.message||i.message||v,this.code=t.code||i.code||i.id||_,this.isFatal=Boolean(function(e){const[t]=(0,o.h)(e,(e=>void 0!==e));return t}([t.isFatal,i.isFatal,y])),this.details=t.details||i.details||f;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:n,columnNumber:o,lineNumber:a}=e;return(t||n||"?")+":"+(i||a||"?")+":"+(r||o||"?")}(i);let a=r===g?this.stack:r;if(a&&a!==g)this.stack=a;else if(!this.stack)try{throw new Error(this.message)}catch(s){this.stack=a=s.stack||g}this.toString=()=>n(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:a})}}},8062:function(e,t,i){"use strict";function r(e){setTimeout((()=>{throw e}),0)}i.d(t,{L:function(){return r}})},2446:function(e,t,i){"use strict";i.d(t,{M:function(){return p}});const r=!(0,i(4410).E)(Math.random)||Math.random()===Math.random();var n=i(9421),o=i(7438);const a="undefined"===typeof window?void 0:window.performance,s=a&&(0,o.m)(a.now),l=a&&a.timing&&a.timing.navigationStart?a.timing.navigationStart:(0,n.m)();let d=0;const c=s?()=>a.now():()=>(()=>{const e=(0,n.m)()-l;return d=Math.max(e,d),d})(),u=2147483647;let h=Date.now()*c()%u;const p=r?function(){return h=16807*h%u,(h-1)/2147483646}:function(){return Math.random()}},4410:function(e,t,i){"use strict";function r(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}i.d(t,{E:function(){return r}})},8702:function(e,t,i){"use strict";function r(e,t){let i=e[t];if(!(0,n.E)(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(r){}}return i}i.d(t,{C:function(){return r}});var n=i(4410)},5095:function(e,t,i){"use strict";function r(e){const t={};return e.forEach((e=>{let[i,r]=e;t[i]=r})),t}i.d(t,{N:function(){return r}})},6415:function(e,t,i){"use strict";function r(e,t,i){for(const r in e)(0,n.n)(e,r)&&t.call(i,e[r],r,e)}i.d(t,{M:function(){return r}});var n=i(5951)},2387:function(e,t,i){"use strict";function r(e){return"function"===typeof Object.entries?Object.entries(e):(0,n.Z)(e).map((t=>[t,e[t]]))}i.d(t,{J:function(){return r}});var n=i(9330)},9330:function(e,t,i){"use strict";function r(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)(0,n.n)(e,i)&&t.push(i);return t}}i.d(t,{Z:function(){return r}});var n=i(5951)},5951:function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,{n:function(){return r}})},7878:function(e,t,i){"use strict";function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}i.d(t,{K:function(){return r}})},8304:function(e,t,i){"use strict";i.d(t,{U:function(){return n}});var r=i(7878);const n=(e,t)=>{for(const i of t.split(".")){if(!(0,r.K)(e)){e=void 0;break}e=e[i]}return e}},3396:function(e,t,i){"use strict";function r(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}i.d(t,{p:function(){return r}})},1731:function(e,t,i){"use strict";function r(e,t){e.forEach((e=>{(0,n.p)(e,t)}))}i.d(t,{M:function(){return o}});var n=i(3396);class o{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise((e=>this.addOne(e)))}dispatch(e){const{once:t}=this;this.once=[],r(this.on,e),r(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter((e=>t.indexOf(e)<0)),this.once=this.once.filter((e=>t.indexOf(e)<0))}}},3352:function(e,t,i){"use strict";i.d(t,{R:function(){return o}});var r=i(1731),n=i(3396);class o extends r.M{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add((i=>{e(i)&&(0,n.p)(t,i)}))}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,(e=>{i(),(0,n.p)(t,e)}));return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},1695:function(e,t,i){"use strict";i.d(t,{x:function(){return d}});var r=i(5251),n=i(7438),o=i(8304);const a={"blockToIframeSelectors": [], "detect": {"iframes": [], "links": [{"src": "https://an.yandex.ru/partner-code-bundles/3881/661d111915e190ce090e.js", "type": "get"}, {"src": "https://yastatic.net/pcode/adfox/loader.js", "type": "get"}, {"src": "https://yastatic.net/pcode/adfox/header-bidding.js", "type": "head"}, {"src": "https://an.yandex.ru/jserr/1", "type": "script"}, {"src": "https://an.yandex.ru/mapuid/yandex/", "type": "img"}, {"src": "https://static-mon.yandex.net/static/main.js?pid=yandex_news&test=1&_adbox_=1", "type": "head"}, {"src": "https://an.yandex.ru/system/context.js", "type": "get"}], "trusted": [], "custom": ["<div class=\"adbanner\" id=\"AdFox_banner\"></div>", "<div class=\"advblock\" id=\"yandex_ad\"></div>", "<div class=\"b-adv\" id=\"yandex_rtb\"></div>", "<div class=\"b-banner\"></div>", "<div class=\"bannerad\"></div>", "<div class=\"pagead\"></div>", "<div class=\"pub_300x250m\"></div>", "<div class=\"pub_728x90\"></div>", "<div class=\"reklama\"></div>", "<div class=\"sideads\"></div>", "<div class=\"smart-info-wrapper\"></div>", "<div class=\"sponsoredlinks\"></div>", "<div class=\"text-ad\"></div>", "<div class=\"serp-adv__head\" />", "<div class=\"search-direct-snippet-view\" />", "<div class=\"widgets\"><div class=\"container__banner\"></div></div>", "<div class=\"weather-maps__ad\"></div>", "<div><yatag><yatag><yatag></yatag></yatag></yatag></div>", "<div aria-label=\"\u0420\u0435\u043a\u043b\u0430\u043c\u0430\" class=\"container__banner\"></div>", "<div class=\"page-content__col_profit\"></div>", "<div class=\"page-content__fixed_footer-profit\"></div>", "<div id=\"_R-I-\" class=\"proffitttttttt\"></div>"]}, "log": {"percent": 0}, "removeAttributeId": false, "deprecatedCookies": ["JPIqApiY", "instruction", "computer", "Silicon", "Tennessine", "Zinc", "Sulfur", "Nickel", "Radon", "Manganese", "LBCBNrZSu", "VTouhmwR", "TbwgcPzRMgzVo", "liPkbtFdIkYqc", "HOhdORSx", "EMCzniGaQ", "PIwsfZeu", "FxuGQqNNo", "sMLIIeQQeFnYt", "pClnKCSBXcHUp", "tCTmkfFoXn", "zmFQeXtI", "ScSvCIlBC", "kNAcVGYFWhx", "jsOmqPGh", "OqYspIFcUpLY", "XcfPaDInQpzKj", "hcxWnzbUzfz", "MGphYZof", "NBgfDVFir", "qgZTpupNMGJBM", "mcBaGDt", "BgeeyNoBJuyII", "orrXTfJaS", "FgkKdCjPqoMFm", "EIXtkCTlX", "KIykI", "HgGedof", "ancQTZw", "involved", "engineering", "telecommunications", "discussion", "engineer", "adequate", "Silver", "Mercury"], "hideLinks": false, "pid": "yandex_news", "cookieDomain": {"type": 0, "list": []}, "treeProtection": {"enabled": true}, "encode": {"key": "-Bn9RhSKv4wbE3BQqeFiLkXUprdCtjEWWkp_szOirxhmKL6wQVWuKTvv25Y14lkguEHiOE4SJ0fDNgZVtGcL_g=="}, "countToXhr": true, "cookieTTL": 336, "disableShadow": false, "invertedCookieEnabled": true, "cookieName": "Bismuth", "additionalParams": {}, "extuidCookies": ["addruid", "yandexuid"], "cookieMatching": {"publisherKey": "eyJhbGciOi", "publisherTag": "yandex-news", "imageUrl": "https://statchecker.yandex.ru/mapuid/", "cryptedUidTTL": 336, "redirectUrl": "//an.yandex.ru/mapuid/", "cryptedUidCookie": "crookie", "types": [], "cryptedUidUrl": "https://http-check-headers.yandex.ru"}, "hideMetaArgsUrlMaxSize": 1900, "rtbRequestViaScript": true,"fn":{"encodeCSS":function(className){var base64alphabet='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=';function decodeUInt8String(input){var output=[];var i=0;while(i<input.length){var enc1=base64alphabet.indexOf(input.charAt(i++));var enc2=base64alphabet.indexOf(input.charAt(i++));var enc3=base64alphabet.indexOf(input.charAt(i++));var enc4=base64alphabet.indexOf(input.charAt(i++));var chr1=(enc1<<2)|(enc2 >> 4);var chr2=((enc2&15)<<4)|(enc3 >> 2);var chr3=((enc3&3)<<6)|enc4;output.push(String.fromCharCode(chr1));if(enc3!==64){output.push(String.fromCharCode(chr2));}if(enc4!==64){output.push(String.fromCharCode(chr3));}}return output.join('');}function encodeUInt8String(input){var output='';var i=0;while(i<input.length){var chr1=input.charCodeAt(i++);var chr2=input.charCodeAt(i++);var chr3=input.charCodeAt(i++);var enc1=chr1 >> 2;var enc2=((chr1&3)<<4)|(chr2 >> 4);var enc3=((chr2&15)<<2)|(chr3 >> 6);var enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;} else if(isNaN(chr3)){enc4=64;}output=output+base64alphabet.charAt(enc1)+base64alphabet.charAt(enc2)+base64alphabet.charAt(enc3)+base64alphabet.charAt(enc4);}return output;}function getKey(){return decodeUInt8String("-Bn9RhSKv4wbE3BQqeFiLkXUprdCtjEWWkp_szOirxhmKL6wQVWuKTvv25Y14lkguEHiOE4SJ0fDNgZVtGcL_g==");}function xor(data,key){var result=[];for(var i=0; i<data.length; i++){var xored=data.charCodeAt(i)^key.charCodeAt(i%key.length);result.push(String.fromCharCode(xored));}return result.join('');}function cropEquals(base64){return base64.replace(/=+$/,'');}function encode(url){var xoredUrl=xor(url,getKey());return cropEquals(encodeUInt8String(xoredUrl));}var encoded=encode(className);var CHAR_CODE_A='a'.charCodeAt(0);var firstChar=String.fromCharCode(getKey().charCodeAt(0)%26+CHAR_CODE_A);return(firstChar+encoded).replace(/-/g,'a');},"encodeUrl":function(url){var seed="b0ef54";var base64alphabet='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=';function decodeUInt8String(input){var output=[];var i=0;while(i<input.length){var enc1=base64alphabet.indexOf(input.charAt(i++));var enc2=base64alphabet.indexOf(input.charAt(i++));var enc3=base64alphabet.indexOf(input.charAt(i++));var enc4=base64alphabet.indexOf(input.charAt(i++));var chr1=(enc1<<2)|(enc2 >> 4);var chr2=((enc2&15)<<4)|(enc3 >> 2);var chr3=((enc3&3)<<6)|enc4;output.push(String.fromCharCode(chr1));if(enc3!==64){output.push(String.fromCharCode(chr2));}if(enc4!==64){output.push(String.fromCharCode(chr3));}}return output.join('');}function encodeUInt8String(input){var output='';var i=0;while(i<input.length){var chr1=input.charCodeAt(i++);var chr2=input.charCodeAt(i++);var chr3=input.charCodeAt(i++);var enc1=chr1 >> 2;var enc2=((chr1&3)<<4)|(chr2 >> 4);var enc3=((chr2&15)<<2)|(chr3 >> 6);var enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;} else if(isNaN(chr3)){enc4=64;}output=output+base64alphabet.charAt(enc1)+base64alphabet.charAt(enc2)+base64alphabet.charAt(enc3)+base64alphabet.charAt(enc4);}return output;}function repeat(str,count){var result=[];for(var i=0; i<count; i++){result.push(str);}return result.join('');}function getKey(){return decodeUInt8String("-Bn9RhSKv4wbE3BQqeFiLkXUprdCtjEWWkp_szOirxhmKL6wQVWuKTvv25Y14lkguEHiOE4SJ0fDNgZVtGcL_g==");}function xor(data,key){var result=[];for(var i=0; i<data.length; i++){var xored=data.charCodeAt(i)^key.charCodeAt(i%key.length);result.push(String.fromCharCode(xored));}return result.join("");}function cropEquals(base64){return base64.replace(/=+$/,"");}function encode(url){var xoredUrl=xor(url,getKey());return cropEquals(encodeUInt8String(xoredUrl));}var sdr=623065663534;function getRandomInt(min,max){sdr=(sdr*73)%9949;var rand=min+(sdr/9950)*(max+1-min);rand=Math.floor(rand);return rand;}function getRandomChar(from,to){from=from||"a";to=to||"z";var charCode=getRandomInt(from.charCodeAt(0),to.charCodeAt(0));return String.fromCharCode(charCode);}function mixWithSlashes(encodedUrl){var CHUNK_LENGTH=7;var urlParts=encodedUrl.match(/.{1,7}/g);if(urlParts===null){return encodedUrl;}var urlTemplate=[["/", 1]];var symbolsToInsert='';var symbolsToInsertSet='';for(var i=0; i<urlTemplate.length; i++){symbolsToInsert+=repeat(urlTemplate[i][0],urlTemplate[i][1]);symbolsToInsertSet+=urlTemplate[i][0];}for(var i=0; i<urlParts.length-1&&i<symbolsToInsert.length; i++){var positionToInsert=getRandomInt(1,CHUNK_LENGTH-1);var part=urlParts[i].split("");part.splice(positionToInsert,0,symbolsToInsert[i]);urlParts[i]=part.join("");}var url=urlParts.join("");if(symbolsToInsertSet.indexOf('&')!==-1){return url.replace(/&(lt|gt)/ig,'$1');}else{return url}}function cryptNumber(num,minEncryptedLength){var k=seed.charCodeAt(0);var b=seed.charCodeAt(5);var result=(num*k+b).toString().split("");while(result.length<minEncryptedLength){var positionToInsert=getRandomInt(0,result.length);var charToInsert=getRandomChar();result.splice(positionToInsert,0,charToInsert);}result.push("/");return result.join("");}function expandUrl(url,minLengthDecoded){if(minLengthDecoded > url.length){var symbolsToGenerate=Math.max(minLengthDecoded-url.length-1,0); var randomSymbols="";for(var i=0; i<symbolsToGenerate; i++){randomSymbols+=getRandomChar();}return url+" "+randomSymbols;}return url;}function isEncodedUrl(url){if(url.indexOf("b0ef54")===-1){return false;}if(/^(?:https?:)?\/\/[^/]+?(?:\/news\/\_nzp\/|\/|\/news\/|\/)\w{9}\/b0ef54./.test(url)){return true;}return false;}if(isEncodedUrl(url)){return url;}var expandedUrl=url+"__AAB_ORIGINyandex.ru__";var url_is_subdocument=false;if(/^(?:https?:)?\/\/yastat(?:ic)?\.net\/safeframe-bundles\/[\d.\-\/]*\/(?:protected\/)?render(?:_adb)?\.html$/.test(url)){expandedUrl=expandUrl(expandedUrl,1862); url_is_subdocument=true;} else if(!/^(?:https?:)?\/\/cryprox\.yandex\.net\/bamboozled/.test(url)){expandedUrl=expandUrl(expandedUrl,1412); }var encoded=encode(expandedUrl);var encodedLink=mixWithSlashes(encoded);var linkLength=encoded.length;var url_prefix="https://yandex.ru/news/_nzp/";if(/avatars\.mds\.yandex\.net\/(?:get-ynews|get-yabs_performance|get-direct|get-yapic)\/.*?|yastatic\.net\/s3\/frontend\/news\/.*\.bundle\.(?:js|css)|yastatic\.net\/news(?:\-touch\-phone)?\/\S+?\/_search(?:\.dev)?\.css|aab\-pub\.s3\.yandex\.net\/iframe\.html|favicon\.yandex\.net\/favicon.*?|(?:st\.)?yandexadexchange\.net\/.*?|avatars\-fast\.yandex\.net\/.*?|direct\.yandex\.ru\/\?partner|yastatic\.net\/islands\/.*?|yastat(?:ic)?\.net\/(?:partner-code|safeframe|pcode(?:-native)?|awaps-ad-sdk-js)(?:-bundles)\/.*?|yastat(?:ic)?\.net\/pcode\/media\/.*?|(?:betastatic\.)?yastat(?:ic)?\.net\/.*(?:\.|%2[Ee])(?:(?:s|%73)(?:w|%77)(?:f|%66)|(?:h|%68)(?:t|%74)(?:m|%6[Dd])(?:l|%6[Cc])?)(?:(?:\?|%3[Ff]).*)?|(?:storage|avatars)\.mds\.yandex\.net\/.*?/.test(url)){url_prefix="https://yandex-news.clstorage.net/"; }if(url.indexOf('//')===0){url_prefix=url_prefix.replace(/^https?:/,'');}var prefix=url_prefix+cryptNumber(linkLength,9)+seed;var lastSlash=false?"/":"";var result=prefix+encodedLink+lastSlash;if(false&&url_is_subdocument){return result.replace(/^https?:/,'').replace(/(^\/\/)/,'').replace(/(.*?\/)/,'/');} else{return result;}},"decodeUrl":function(url){var base64alphabet='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=';function decodeUInt8String(input){var output=[];var i=0;input=input.replace(/[^A-Za-z0-9\-_=]/g,'');while(i<input.length){var enc1=base64alphabet.indexOf(input.charAt(i++));var enc2=base64alphabet.indexOf(input.charAt(i++));var enc3=base64alphabet.indexOf(input.charAt(i++));var enc4=base64alphabet.indexOf(input.charAt(i++));var chr1=(enc1<<2)|(enc2 >> 4);var chr2=((enc2&15)<<4)|(enc3 >> 2);var chr3=((enc3&3)<<6)|enc4;output.push(String.fromCharCode(chr1));if(enc3!==64){output.push(String.fromCharCode(chr2));}if(enc4!==64){output.push(String.fromCharCode(chr3));}}return output.join('');}function addEquals(base64){while(base64.length%4!==0){base64+='=';}return base64;}function getKey(){return decodeUInt8String("-Bn9RhSKv4wbE3BQqeFiLkXUprdCtjEWWkp_szOirxhmKL6wQVWuKTvv25Y14lkguEHiOE4SJ0fDNgZVtGcL_g==");}function xor(data,key){var result=[];for(var i=0; i<data.length; i++){var xored=data.charCodeAt(i)^key.charCodeAt(i%key.length);result.push(String.fromCharCode(xored));}return result.join('');}function decode(encodedUrl){var fullUrl=addEquals(encodedUrl);return xor(decodeUInt8String(fullUrl),getKey());}function isEncodedUrl(url){if(url.indexOf("b0ef54")===-1){return false;}if(/^(?:https?:)?\/\/[^/]+?(?:\/news\/\_nzp\/|\/|\/news\/|\/)\w{9}\/b0ef54./.test(url)){return true;}return false;}if(!isEncodedUrl(url)){return url;}var lastSymbolInUrl=url.slice(-1);var encodedUrl=url;if(false&&lastSymbolInUrl==="/"){encodedUrl=encodedUrl.slice(0,-1);}encodedUrl=encodedUrl.split("b0ef54")[1];encodedUrl=addEquals(encodedUrl.replace(/[\/?.=&!$()|*~\[\]^<>\\]/g,""));return decode(encodedUrl).replace(/\s[a-zA-Z]*$/,"").replace(/__AAB_ORIGIN.*?__/,"");},"isEncodedUrl":function(url){if(url.indexOf("b0ef54")===-1){return false;}if(/^(?:https?:)?\/\/[^/]+?(?:\/news\/\_nzp\/|\/|\/news\/|\/)\w{9}\/b0ef54./.test(url)){return true;}return false;}}},s=(0,i(7878).K)(a)&&a.fn&&(0,n.m)(a.fn.encodeUrl)?a.fn.encodeUrl:void 0,l=void 0!==s?e=>s(e):void 0,d=function(e){if(void 0===e&&(e=window),l)return l;const t=(0,r.T)(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=(0,o.U)(e,"ya.videoAd.encodeUrl");if((0,n.m)(i))return i}}},5054:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});const r=(0,i(1695).x)(window)},1558:function(e,t,i){"use strict";i.d(t,{h:function(){return r}});const r=(e,t,i)=>{const r=[];for(let n=0;n<e.length;n++){const o=e[n];t.call(i,o,n,e)&&r.push(o)}return r}},4877:function(e,t,i){"use strict";i.d(t,{s:function(){return o}});var r=i(4410);const n=[].find,o=(0,r.E)(n)?(e,t)=>n.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}}},9327:function(e,t,i){"use strict";i.d(t,{E:function(){return r}});const r=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)}},466:function(e,t,i){"use strict";function r(e,t){return-1!==(0,n.c)(e,t)}i.d(t,{q:function(){return r}});var n=i(5563)},5563:function(e,t,i){"use strict";i.d(t,{c:function(){return r}});const r=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=n);for(let n=i;n<e.length;n++)if(r(e[n],t))return n;return-1},n=(e,t)=>e===t},7539:function(e,t,i){"use strict";i.d(t,{k:function(){return o}});var r=i(1477);const n=(0,i(8702).C)(Array,"isArray"),o=Boolean(n)?e=>n.call(Array,e):e=>"Array"===(0,r.M)(e)},669:function(e,t,i){"use strict";i.d(t,{U:function(){return r}});const r=(e,t,i)=>{const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t.call(i,e[n],n,e);return r}},8579:function(e,t,i){"use strict";i.d(t,{u:function(){return r}});const r=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i}},7671:function(e,t,i){"use strict";function r(e,t,i){return e>i?i:e<t?t:e}i.d(t,{u:function(){return r}})},2017:function(e,t,i){"use strict";function r(e,t){let{content:i,size:r}=void 0===t?{}:t;const n=e.ownerDocument.createElement("iframe");n.scrolling="no",n.setAttribute("allowfullscreen",""),n.style.display="block",r&&(n.height=r.height,n.width=r.width),e.appendChild(n);const o=n.contentDocument;return o.open(),i&&o.write(i),o.close(),o.body.style.margin="0",n.style.borderWidth="0",n}i.d(t,{Q:function(){return r}})},9727:function(e,t,i){"use strict";i.d(t,{q:function(){return r},p:function(){return n}});const r=["","webkit","moz","o","ms"],n=["","-webkit-","-ms-","-moz-","-o-"]},9421:function(e,t,i){"use strict";i.d(t,{m:function(){return n}});var r=i(7438);const n=Date&&(0,r.m)(Date.now)?()=>Date.now():()=>(new Date).getTime()},5686:function(e,t,i){"use strict";i.d(t,{h:function(){return o}});var r=i(4190);const{length:n}=r.z,o=n>0?r.z[n-1].ownerDocument.defaultView:window},5251:function(e,t,i){"use strict";i.d(t,{T:function(){return n}});var r=i(9623);const n=e=>{const t=[];for(;e;)try{if((0,r.b)(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t}},5962:function(e,t,i){"use strict";i.d(t,{h:function(){return n},f:function(){return o}});var r=i(8702);let n=function(e,t,i){e.attachEvent("on"+t,i)},o=function(e,t,i){e.detachEvent("on"+t,i)};(0,r.C)(document,"addEventListener")&&(0,r.C)(document,"removeEventListener")&&(n=function(e,t,i,n){const o=e&&(0,r.C)(e,"addEventListener");o&&o.call(e,t,i,n)},o=function(e,t,i,n){const o=e&&(0,r.C)(e,"removeEventListener");o&&o.call(e,t,i,n)})},3452:function(e,t,i){"use strict";i.d(t,{FF:function(){return s},vE:function(){return o}});var r=i(9321),n=i(5962);let o=!1,a=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>o=!0}),Object.defineProperty(t,"passive",{get:()=>a=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),(0,n.h)(e,"click",r.Z,t)}}catch(l){}},1116:function(e,t,i){"use strict";function r(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}i.d(t,{r:function(){return r}})},5758:function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];(0,n.k)(e)&&e.forEach((e=>{"function"===typeof e&&e(...i)}))}i.d(t,{p:function(){return r}});var n=i(7539)},6976:function(e,t,i){"use strict";i.d(t,{H:function(){return n}});class r{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const n=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new r({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const n=e.apply(this,arguments);return i.set(r,n),n}}},2950:function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}i.d(t,{I:function(){return r}})},2529:function(e,t,i){"use strict";i.d(t,{B:function(){return h},K:function(){return u}});var r=i(5686),n=i(1116),o=i(4217),a=i(8355),s=i(5082),l=i(3623);const{topAncestor:d,isTrusted:c}=function(e){void 0===e&&(e=window);const t=(0,l.Y)(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:d}=(0,o.w)(e.document),c=a.g?d:i,u=!a.g||(0,n.r)(r.h).length<2,{protocol:h,hostname:p,host:A,port:m}=(0,s.en)(c);return{topAncestor:(0,s.hA)({protocol:h,hostname:p,host:A,port:m,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:u}}(),u=d,h=c},3623:function(e,t,i){"use strict";function r(e){return n?(0,o.w)(e.location.ancestorOrigins):[]}i.d(t,{Y:function(){return r}});const n=Boolean(window.location.ancestorOrigins);var o=i(5749)},1477:function(e,t,i){"use strict";i.d(t,{M:function(){return o}});const r={}.toString,n=/\[object (\w+)\]/,o=e=>{const t=r.call(e);if(!t)return null;const i=t.match(n);if(!i)return null;const o=i[1];return o||null}},7740:function(e,t,i){"use strict";function r(e){const t=(0,o.A)(e.documentElement).map((e=>e.ownerDocument));return t.unshift(e),t.map((e=>({location:(0,n.b)(e.defaultView),referrer:e.referrer})))}i.d(t,{F:function(){return r}});var n=i(9623),o=i(9843)},4217:function(e,t,i){"use strict";function r(e){let t="",i="";if(e){(0,n.F)(e).reverse().forEach((e=>{let{location:r,referrer:n}=e;t=t||r,i=i||n}))}return{location:t,referrer:i}}i.d(t,{w:function(){return r}});var n=i(7740)},9623:function(e,t,i){"use strict";function r(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}i.d(t,{b:function(){return r}})},6388:function(e,t,i){"use strict";i.d(t,{K:function(){return r}});i(5251),i(5758);const r=i(9321).Z},976:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{n:function(){return l}});var n=i(6388),o=i(9321);const a=o.Z,s=o.Z,l=e=>{let{win:t,propertyName:i}=e;return{call:e=>(0,n.K)(r({win:t,propertyName:i},e)),subscribe:e=>s(r({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise((e=>{s({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t,win:i})}))})(r({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:r}=e;return new Promise((e=>{s({propertyName:t,win:i,callback:function(){r(...arguments)&&e()}})}))})(r({win:t,propertyName:i},e)),clear:e=>a(r({win:t,propertyName:i},e))}}},4904:function(e,t,i){"use strict";function r(e){let t="";for(let i=0;i<e;i++)t+=(16*(0,n.M)()|0).toString(16);return t}i.d(t,{a:function(){return r}});var n=i(2446)},9201:function(e,t,i){"use strict";i.d(t,{V:function(){return n}});var r=i(1477);const n=e=>e instanceof Error||"Error"===(0,r.M)(e)},7438:function(e,t,i){"use strict";function r(e){return"function"===typeof e||"Function"===(0,n.M)(e)}i.d(t,{m:function(){return r}});var n=i(1477)},8355:function(e,t,i){"use strict";i.d(t,{g:function(){return o}});var r=i(669),n=i(4190);const o=function(){const e=(0,r.U)(n.z,(e=>e.ownerDocument)),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}()},5749:function(e,t,i){"use strict";function r(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}i.d(t,{w:function(){return r}})},5582:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}function n(e){const{method:t,url:i,async:d=!0,data:c,responseType:u="text",onBeforeSend:h=a.Z,onRetry:p=a.Z,checkStatus:A=(e=>l===e),headers:m={},xhrConstructor:v=XMLHttpRequest,retries:_=0,timeout:f=0,withCredentials:g,onAbort:y,onSetup:E}=e;if(!v)return;const T=e.onSuccess?(0,o.I)(e.onSuccess):a.Z,S=e.onError?(0,o.I)(e.onError):a.Z;let w,b=!1,C=0,O=e=>{b=!0,O=a.Z,w=e,I(new Error("Abort request")),"function"===typeof y&&y(e)};const I=t=>{P.onerror=null,P.onreadystatechange=null,C&&clearTimeout(C);if(C&&4!==P.readyState||b)try{P.abort()}catch(t){}if(!b)if(_>0){const i=p(t,P);if("boolean"!==typeof i||Boolean(i)||O(),b)return;n(r({},e,{onSetup:e=>{let{abort:t}=e;O=e=>t(e),b&&t(w)},retries:_-1}))}else O=a.Z,S(t,P)},P=new v;try{P.open(t,i,d)}catch(D){return void I(D)}if(P.responseType=u,P.withCredentials=Boolean(g),(0,s.M)(m,((e,t)=>{try{P.setRequestHeader(t,e)}catch(D){}})),f>0&&isFinite(f)&&(C=window.setTimeout((()=>{I(new Error("Request timeout, "+i))}),f)),P.onerror=I,P.onreadystatechange=()=>{if(4===P.readyState){const{status:e}=P;A(e)?(O=a.Z,clearTimeout(C),T(P)):I(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof E||(E({abort:e=>O(e)}),!b))&&(h(P,e),!b))try{P.send(c)}catch(D){I(D)}}i.d(t,{W:function(){return n}});var o=i(2950),a=i(9321),s=i(6415);const l=200},9321:function(e,t,i){"use strict";function r(){}i.d(t,{Z:function(){return r}})},6894:function(e,t,i){"use strict";function r(e){return"number"===typeof e&&isFinite(e)&&e>=0}i.d(t,{f:function(){return r}})},9843:function(e,t,i){"use strict";function r(e,t){if(void 0===t&&(t=!0),n.$&&t)return[];{const t=[];let r=e;for(;;)try{if(r=r.ownerDocument.defaultView.frameElement,!r)return t;t.push(r)}catch(i){return t}}}i.d(t,{A:function(){return r}});var n=i(3960)},4190:function(e,t,i){"use strict";i.d(t,{z:function(){return r}});const r=(0,i(9843).A)(document.documentElement)},3540:function(e,t,i){"use strict";i.d(t,{n:function(){return r}});const r=e=>{let t=0;return{promise:new Promise((i=>{t=window.setTimeout(i,e)})),clear(){clearTimeout(t)},timeoutId:t}}},6350:function(e,t,i){"use strict";function r(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}i.d(t,{L:function(){return r}})},4401:function(e,t,i){"use strict";i.d(t,{d:function(){return n}});var r=i(4410);const n=e=>(0,r.E)(e.navigator.sendBeacon)},7210:function(e,t,i){"use strict";function r(e){return(0,n.H)(e)&&e.length>0}i.d(t,{H:function(){return r}});var n=i(4778)},4778:function(e,t,i){"use strict";function r(e){return"string"===typeof e}i.d(t,{H:function(){return r}})},3398:function(e,t,i){"use strict";function r(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}i.d(t,{Q:function(){return r}})},3900:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});const r=document.createElement("a")},5082:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}function n(e){A.A.href=e;let t=A.A.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(A.A.search||"")+(A.A.hash||""),o=e.lastIndexOf(i),a=-1===o?e:e.slice(0,o);if(m.test(e)){const t=n(e.replace(m,"https:"));return A.A.href=e,r({},t,{originalPath:a,protocol:e.slice(0,e.indexOf(":")+1),href:A.A.href})}const s=A.A.protocol&&/^[a-z\-]+:/i.test(A.A.protocol)?A.A.protocol:"";return{originalPath:a,href:A.A.href,protocol:s,host:A.A.host,hostname:A.A.hostname,port:A.A.port,pathname:t,search:A.A.search,hash:A.A.hash}}function o(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function a(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let n,o;if(-1===e?(n=v(i[r]),o=""):(n=v(i[r].slice(0,e)),o=i[r].slice(e+1)),n){const e=Boolean(/(\[\])$/.exec(n));n=n.replace(/\[\]$/,""),e?void 0===t[n]?t[n]=[v(o)]:t[n]=[].concat(t[n],v(o)):t[n]=v(o)}}return t}function s(e){return a(n(e).search)}function l(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];(0,u.k)(r)?t.push(_(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function d(e,t,i){if(void 0===i)return e;const s=n(e),d=a(s.search);return d[t]=i,o(r({},s,{search:l(d)}))}function c(e,t,i){let{override:s=!0,saveOriginalPath:d=!1}=void 0===i?{}:i;const c=n(e),u=a(c.search);(0,p.M)(t,((e,t)=>{(void 0===u[t]||s)&&(u[t]=e)}));return o(r({},c,{search:l(u)}),d)}i.d(t,{en:function(){return n},hA:function(){return o},dD:function(){return a},FW:function(){return s},Ou:function(){return d},Sr:function(){return c}});var u=i(7539),h=i(6976),p=i(6415),A=i(3900);(0,h.H)((e=>r({},n(e))));const m=/^(android-app:|chrome-extension:)/,v=e=>{try{return decodeURIComponent(e)}catch(t){return e}},_=(e,t)=>t.map((t=>e+"[]="+encodeURIComponent(t))).join("&")},98:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",r="undefined"!==typeof t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,r,n,o){"string"===typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&a[c[0]]||("undefined"!==typeof o&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),t.push(c))}},t}},5580:function(e){"use strict";e.exports=function(e){return e[1]}},3206:function(e){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}},1369:function(e){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},8415:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{l:function(){return v}});var n=i(8579),o=i(5686),a=(i(7878),i(4778)),s=i(5082),l=i(6732),d=i(3746),c=i(9741);const u=l.M.flags;const h=(0,s.dD)(location.search).adsdkabflags,p=(0,c.O)(o.h,"adsdkabflags"),A=null!=h?h:p,m=(0,a.H)(A)?(0,n.u)(A.split(","),((e,t)=>{const[i,n]=t.split("=");return r({},e,{[i]:n})}),{}):{},v=r({},{},u,d.dG,m)},6933:function(e,t,i){"use strict";i.d(t,{V:function(){return o}});i(5386),i(4904),i(6821);var r=i(7643),n=i(6524);(0,i(976).n)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class o{get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){o.errorHandlers.push(e)}constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[n]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=n;try{(0,r.p)(this.destroyHandlers,...t)}catch(a){(0,r.p)(o.errorHandlers,a)}this.destroyHandlers.length=0}}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=n.Z);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];i.apply(t,r)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}o.errorHandlers=[]},4334:function(e,t,i){"use strict";i.d(t,{p:function(){return n}});var r=i(6401);const n=()=>new Promise(((e,t)=>{(0,r.$)({moduleName:"Rum",version:void 0,onSuccess:t=>{e(t)},onError:t,win:window,timeout:r.h})}))},9638:function(e,t,i){"use strict";i.d(t,{vz:function(){return o},Us:function(){return a},du:function(){return s}});var r=i(7878),n=i(4778);const o=e=>!!(0,r.K)(e)&&(!!(0,n.H)(e.name)&&!!(0,n.H)(e.message)),a=e=>({name:e.name,message:e.message,stack:e.stack}),s=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t}},6579:function(e,t,i){"use strict";i.d(t,{d:function(){return T}});var r=i(8415),n=i(731),o=i(9403),a=i(3025),s=i(5082);const l="AdSDKLoader"===i(4631).R0;var d=i(6821),c=i(3424),u=i(3746),h=i(6732);const p=d.D?(0,s.en)(d.D).hostname:void 0,{src_domain:A}=h.M,m=p===c.l3,v=l&&("an"===A||m)||u.vu;var _=i(4974),f=i(2300),g=i(9215),y=i(1614),E=i(5490);const T={SID:g.x,VSID:E.Q,VAS_USER_SESSION_RANDOM:y.$,AB_FLAGS:r.l,AB_FLAGS_STORE:o.L,ICOOKIE:a.N,TEST_IDS:_.z,VAS_UAAS_CONFIG:h.M,AdditionalStatsRootFields:n.r,RUM_WRAPPER:f.W,LOADER_LOADED_FROM_AN_YANDEX_RU:v}},3746:function(e,t,i){"use strict";i.d(t,{qq:function(){return a},bJ:function(){return s},Z:function(){return l},vu:function(){return d},$r:function(){return c},y7:function(){return u},dG:function(){return h},CL:function(){return p},zM:function(){return A},FV:function(){return m},mN:function(){return v}});var r=i(2236),n=i(9505);const o=r.Y?(0,n.NQ)(r.Y):void 0;r.Y&&(0,n.dm)(r.Y);const a=null==o?void 0:o.SID,s=null==o?void 0:o.VSID,l=null==o?void 0:o.ICOOKIE,d=null==o?void 0:o.LOADER_LOADED_FROM_AN_YANDEX_RU,c=null==o?void 0:o.TEST_IDS,u=null==o?void 0:o.VAS_UAAS_CONFIG,h=null==o?void 0:o.AB_FLAGS,p=null==o?void 0:o.AB_FLAGS_STORE,A=null==o?void 0:o.AdditionalStatsRootFields,m=null==o?void 0:o.VAS_USER_SESSION_RANDOM,v=null==o?void 0:o.RUM_WRAPPER},9403:function(e,t,i){"use strict";i.d(t,{L:function(){return c}});var r=i(6732),n=i(8415),o=i(4877),a=i(9327),s=i(466);const l=new class{constructor(e,t){this.activeTestIds=[],this.initialActiveTestIds=[],this.getFlagValueAndActivateTestId=e=>{const t=this.abFlags[e],i=this.vasUaasConfig.flagsMap,r=this.vasUaasConfig.testIds;return r&&i&&i[e]&&(0,a.E)(i[e],(e=>{let{value:i,testId:n}=e;if(i===t){const e=(0,o.s)(r.split(";"),(e=>0===e.indexOf(n)));e&&!(0,s.q)(this.activeTestIds,e)&&this.activeTestIds.push(e)}})),t},this.getActiveTestIds=()=>this.activeTestIds,this.__setAbFlags=e=>{this.abFlags=e},this.__restoreAbFlags=()=>{this.abFlags=this.initialAbFlags},this.__setActiveTestIds=e=>{this.initialActiveTestIds=this.activeTestIds,this.activeTestIds=e},this.__restoreActiveTestIds=()=>{this.activeTestIds=this.initialActiveTestIds},this.vasUaasConfig=e,this.abFlags=t,this.initialAbFlags=t}}(r.M,n.l);l.getFlagValueAndActivateTestId("ADSDKVER");var d=i(3746);const c=null!=d.CL?d.CL:l},3025:function(e,t,i){"use strict";i.d(t,{N:function(){return o}});var r=i(3746),n=i(6732);const o=r.Z||n.M.iCookie},4974:function(e,t,i){"use strict";i.d(t,{z:function(){return o}});var r=i(3746),n=i(6732);const o=r.$r||(null==n.M?void 0:n.M.testIds)||void 0},6732:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{M:function(){return E}});var n=i(5778),o=i(9327),a=i(7539),s=i(9201),l=i(9330),d=i(7878),c=i(4778);const u=(0,i(9741).O)(window,"adsdkuaas"),h=["expFlags"],p=(e,t)=>{if(!(0,d.K)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!(0,c.H)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0!==e.length){for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[r,,n]=i;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===n.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}}(t.testIds),!("flags"in t)||!(0,d.K)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},A=e=>{const t=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,h),i={},n={};return(0,o.E)(e.expFlags,(e=>{(0,o.E)(e,(e=>{let{CONTEXT:{FLAGS:t},TESTID:r}=e;(0,d.K)(t)&&(0,o.E)((0,l.Z)(t),(e=>{var o;const a=t[e];i[e]=a,n[e]=null!=(o=n[e])?o:[],n[e].push({value:a,testId:r[0]})}))}))})),r({flags:i,flagsMap:n},t)},m={testIds:"",flags:{}};const v=(0,n.I)((()=>{try{return null!=u?u:__UAAS_CFG__}catch(e){return e}})),_=e=>{if((0,s.V)(e))return{error:e,config:m};try{const t=(0,d.K)(e)?e:JSON.parse(""+(e||"")),i=(e=>!!(0,d.K)(e)&&!(!("expFlags"in e)||!(0,a.k)(e.expFlags)))(t)?A(t):t;if(!p(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:m}}},f=(0,n.I)((()=>_(v())));let g,y=i(3746).y7||m;try{const e=f();if(e.error)throw e.error;y=e.config}catch(T){g=T}const E=y},2300:function(e,t,i){"use strict";i.d(t,{W:function(){return p}});var r=i(466),n=i(2446),o=i(3352);var a=i(4395),s=i(6091),l=i(1690),d=i(6524),c=i(7221);const u={idle:["initializing"],initializing:["initialized","disabled"]};var h=i(3746);const p=null!=h.mN?h.mN:new class{constructor(e){this.state=new o.R({name:"idle"},((e,t)=>{const i=u[e.name];return!i||!(0,r.q)(i,t.name)||((0,c.q)("RumWrapperClass: change state from ["+e.name+"] to ["+t.name+"]"),!1)})),this.config=e,this.state.subscribeValueCondition((e=>"initializing"===e.name),(()=>this.loadRum())),this.state.subscribeValueCondition((e=>"disabled"===e.name),(()=>s.ot.event({name:"RumIsDisabled",data:void 0})))}init(){this.state.dispatch({name:"initializing"})}logBundleTiming(e,t){const i=this.state.getValue();"disabled"!==i.name&&("initialized"===i.name?this.sendResTiming({name:e,src:t,state:i}):this.state.subscribeValueCondition((e=>"initialized"===e.name),(i=>{this.sendResTiming({name:e,src:t,state:i})})))}logTimingAndLoadRum(e,t){"idle"===this.state.getValue().name&&this.init(),this.logBundleTiming(e,t)}isLoading(){return"initializing"===this.state.getValue().name}isLoaded(){return"initialized"===this.state.getValue().name}loadRum(){var e;let t=null==(e=this.config)?void 0:e.loadModule;t||(t=i(4334).p),t().then((e=>{this.initLoadedRum(e),e.isRumInited()?this.state.dispatch({name:"initialized",rum:e}):this.state.dispatch({name:"disabled"})})).catch(d.Z)}initLoadedRum(e){const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+(0,n.M)(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=(0,l.S)(window)?"touch":"desktop",r={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":window.location.host,"-version":a.b,"-platform":i,"-env":"production","-url":window.location.href,"-domain":window.location.host,"-blocker":void 0};e.init(t,r)}sendResTiming(e){let{state:t,name:i,src:r}=e;t.rum.sendResTiming(i,r)}}},9215:function(e,t,i){"use strict";i.d(t,{x:function(){return a}});var r=i(4904),n=i(7221),o=i(3746);const a=o.qq||(0,r.a)(64);(0,n.q)((o.qq?"Use existing SID":"Generate new SID")+" ["+a+"]")},1614:function(e,t,i){"use strict";i.d(t,{$:function(){return o}});var r=i(2446),n=i(3746);const o=null!=n.FV?n.FV:(0,r.M)()},5490:function(e,t,i){"use strict";i.d(t,{Q:function(){return c}});var r=i(4904),n=i(3398),o=i(4395);const a="VAS",s=e=>(0,n.Q)(String(e%Math.pow(10,4)),4,"0");var l=i(7221),d=i(3746);const c=(null==d.zM?void 0:d.zM.vsid)||d.bJ||(void 0===u&&(u=o.b),[(0,r.a)(44),a,s(u),(0,n.Q)(Date.now().toString().slice(0,10),10,"0")].join("x"));var u;(0,l.q)((null!=d.zM&&d.zM.vsid?"Use VSID from player":d.bJ?"Use VSID from session":"Generate new VSID")+" ["+c+"]")},9505:function(e,t,i){"use strict";i.d(t,{H4:function(){return n},O4:function(){return o},NQ:function(){return a},dm:function(){return s}});var r=i(7878);const n=e=>(0,r.K)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),o=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},a=e=>e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__,s=e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__}},637:function(e,t,i){"use strict";i.d(t,{O:function(){return o}});var r=i(9741),n=i(4395);const o=(0,r.i)(window,"adsdkver",n.w.code)},4279:function(e,t,i){"use strict";i.d(t,{E:function(){return r}});const r={ES5:"bundles",ES2017:"bundles-es2017"}},1889:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{AL:function(){return n},Q5:function(){return o}});const n={MotionTGO:"motion_ad_creative",MotionTailor:"motion_tailor_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",Survey:"survey_ad_creative"},o=r({},{InPage:"inpage",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},n)},6821:function(e,t,i){"use strict";i.d(t,{D:function(){return n}});var r=i(2236);const n=r.Y?r.Y.src:""},3354:function(e,t,i){"use strict";i.d(t,{O9:function(){return n},Ho:function(){return o},Az:function(){return a},_$:function(){return s},hm:function(){return l}});var r=i(9330);const n="aim-banner-id",o="aim-design-id",a="aim-design-name",s="aim-subdesign-id",l={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkabflags:0,adsdkuaas:0,[n]:0,[o]:0,[a]:0,[s]:0,adsdkhoneypotforced:0};(0,r.Z)(l)},8176:function(e,t,i){"use strict";function r(){return Math.random()<_}i.d(t,{yl:function(){return g},Vn:function(){return m},Uv:function(){return y},$D:function(){return r}});var n=i(7671),o=i(6894),a=i(9403);const s=Number(a.L.getFlagValueAndActivateTestId("VAS_EVENTS_MILLI_SAMPLING_RATIO")),l=(0,o.f)(s)?(0,n.u)(s,0,1):void 0,d=Number(a.L.getFlagValueAndActivateTestId("VAS_IMPORTANT_EVENTS_DEFAULT_SAMPLING_RATIO")),c=(0,o.f)(d)?(0,n.u)(d,0,1):void 0,u=Number(a.L.getFlagValueAndActivateTestId("VAS_USUAL_EVENTS_DEFAULT_SAMPLING_RATIO")),h=(0,o.f)(u)?(0,n.u)(u,0,1):void 0;var p=i(6732),A=i(253);const m=null!=c?c:1,v=null!=h?h:.01,_=null!=l?l:.001,f=A.O||p.M.isInternalNetwork||!1,g=f?m:v,y=f?m:_},9531:function(e,t,i){"use strict";i.d(t,{Q:function(){return r}});const r="adsdk-test-tag"},2410:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});const r=["aw","ap","s-a","d-sd","k-j","s"].join("")},3424:function(e,t,i){"use strict";i.d(t,{l3:function(){return r},FN:function(){return n},N9:function(){return o},tr:function(){return a},Cl:function(){return s}});const r=["a","n.ya","nd","ex.ru"].join(""),n=["y","a","nde","x.ru"].join(""),o=["ya","sta","tic.net"].join(""),a=["ver","ify.y","a","nde","x.ru"].join(""),s=[n,r,o]},4395:function(e,t,i){"use strict";let r;i.d(t,{w:function(){return r},b:function(){return n}});try{r={build:483689,code:[{id:483689,percent:100}]}}catch(o){r={}}const n=r.build},253:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});const r=(0,i(9741).O)(window,"adsdkdebug"),n=Boolean(r)},2236:function(e,t,i){"use strict";i.d(t,{Y:function(){return s}});var r=i(4877),n=i(5749),o=i(9505);let a=document.currentScript;if(!a){const e=(0,n.w)(document.getElementsByTagName("script"));a=(0,r.s)(e,o.H4),a||(a=e[e.length-1])}const s=a},8915:function(e,t,i){"use strict";function r(e){return n.m1||function(e){return a+"1.0-"+e+"/"}(e)}i.d(t,{a:function(){return r}});var n=i(4631),o=i(2410);const a="https://"+i(3424).N9+"/"+o.Z+"-bundles/"},6401:function(e,t,i){"use strict";function r(e,t,i){var r,n,o,a,s,l,d;const c=null==(r=i.ya)||null==(n=r.videoAd)||null==(o=n.loadedModules)?void 0:o[e];return c||(void 0!==t?null==(a=i.ya)||null==(s=a.videoAd)||null==(l=s.modules)||null==(d=l[t])?void 0:d[e]:void 0)}function n(e){let{moduleName:t,version:i=s.O,onSuccess:n,onError:_,win:f,timeout:g}=e,y="loading";const E=Date.now(),S=(0,m.I)((0,v.O)((e=>{y="success";const r=Date.now()-E;h.ot.values({name:"ModuleLoaded",probability:l.yl,labels:{bundleName:t},data:{olHacInH46elpsion:d.b,bundleVersion:i},values:{timeSpent:r}}),n(e)}),"LOAD_MODULE_CALLBACK_ERROR")),D=(0,m.I)((0,v.O)((e=>{y="error",h.ot.error({error:e}),_(e)}),"LOAD_MODULE_CALLBACK_ERROR")),R=r(t,i,f);if(R)return S(R),A.Z;const k=(e=>{let{bundleName:t,win:i,ecmaVersion:r,version:n}=e;const o=O.E[r],a=(0,b.x)(i),s=w(t),l=""+(0,I.a)(n)+o+"/"+s;return(0,C.m)(a)?a(l):l})({version:i,bundleName:t,win:f,ecmaVersion:T}),{promise:V,teardown:L}=(e=>{let{src:t,win:i}=e;return(0,P.C)({src:t,onBeforeLoad:N,win:i})})({src:k,win:f}),{promise:M,clear:B}=(0,o.n)(g),x=(0,p.V)({element:f,eventName:"unload",listener:()=>{D(new c.w({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:g}}))}}),U=()=>{x(),B()};return M.then((()=>{D(new c.w({code:"LOAD_MODULE_TIMEOUT",details:{moduleUrl:k,moduleName:t,version:i,timeout:g}}))})),V.then((()=>{U();const e=r(t,i,f),n=w(t);e?(u&&a.W.logTimingAndLoadRum(n,k),S(e)):D(new c.w({code:"CANNOT_INIT_MODULE",details:{moduleUrl:k,moduleName:t,version:i}}))})).catch((e=>{U(),D(new c.w(e,{code:"CANNOT_LOAD_MODULE",details:{moduleUrl:k,moduleName:t,version:i}}))})),()=>{U(),L(),"loading"===y&&h.ot.event({name:"LoadModuleTeardownCalled",data:void 0})}}i.d(t,{h:function(){return R},$:function(){return n}});var o=i(3540),a=i(2300),s=i(637),l=i(8176),d=i(4395),c=i(1877);const u=(0,i(3506).y)(l.yl);var h=i(6091),p=i(6839),A=i(6524),m=i(5778),v=i(7817),_=i(4401);const f=(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(g=window)&&(0,_.d)(g);var g;const y=(""+(0,i(9741).O)(window,"adsdkecmaver")).toUpperCase(),E="ES2017"===y||"ES5"===y?y:void 0,T="ES2017"===E?"ES2017":"ES5"===E?"ES5":f?"ES2017":"ES5";var S=i(1889);const w=e=>S.Q5[e]+".bundle.js";var b=i(1695),C=i(7438),O=i(4279),I=i(8915);var P=i(8941),D=i(2778);const N=e=>{(e=>{e.crossOrigin="anonymous"})(e),null==D.Q.onBeforeLoad||D.Q.onBeforeLoad(e)},R=3e4},1877:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{w:function(){return o}});var n=i(5386);class o extends n.s{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;super(e,r({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")}))}}},728:function(e,t,i){"use strict";function r(e){return(0,n.vz)(e)&&Boolean(e.code)}i.d(t,{S:function(){return r}});var n=i(9638)},731:function(e,t,i){"use strict";i.d(t,{r:function(){return o}});var r=i(3746),n=i(4590);const o=r.zM||n.d||void 0},9741:function(e,t,i){"use strict";function r(e,t){const i={UrlParams:()=>m[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const n of(0,a.T)(e)){var i,r;const e=null==(i=n.Ya)||null==(r=i.hardcodedParams)?void 0:r[t];if(e)return String(e)}}};for(const[r,n]of(0,l.J)(i)){const e=(0,p.Y)(n);if((0,d.H)(e))return(0,A.Z)("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+r+"]"),e}}function n(e,t,i){const n=r(e,t);return n?Number(n):function(e){const t=100*(0,u.M)();let i=0;for(let r=0;r<e.length;r++)if(i+=e[r].percent,t<i)return e[r].id;return e[0].id}(i)}i.d(t,{i:function(){return n},O:function(){return r}});var o=i(6419),a=i(5251),s=i(7740),l=i(2387),d=i(7210),c=i(5082),u=i(2446),h=i(3354),p=i(8315),A=i(554);const m={},v=(0,s.F)(document);for(const{location:_}of v){const e=(0,c.FW)(_);(0,o.M)(e,((e,t)=>{0===h.hm[t]&&(m[t]=e)}))}},6091:function(e,t,i){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}i.d(t,{lR:function(){return $},Zn:function(){return ee},gI:function(){return J},FO:function(){return Q},ot:function(){return te}});var n=i(8062);var o=i(5082),a=i(9215),s=i(1614);var l=i(4395),d=i(6933),c=i(1877),u=i(5778),h=i(5054),p=i(9327),A=i(5386);const m=(0,i(3623).Y)(window);var v=i(2529),_=i(4217),f=i(9623),g=i(4904),y=i(7438),E=i(8355),T=i(5582),S=i(5095),w=i(6415),b=i(2387);const C=(0,i(4401).d)(window);(0,i(976).n)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var O=i(8415),I=i(9403);const P="TRUE"===I.L.getFlagValueAndActivateTestId("VAS_AND_PCODE_COMMON_FLAG_DISABLE_STATS_LOGS")||void 0;var D=i(3025),N=i(4974),R=i(6821),k=i(8176),V=i(9531),L=i(4631),M=i(1690),B=i(1338),x=i(3638),U=i(9342),F=i(5208),H=i(554),W=i(4646),z=i(619),j=i(731),G=i(3506);const q=["onLogError"],K=r({},j.r,{[V.Q]:String(W.T.serialize()),bannerTypeFromNanpu:U.W,bundleName:L.R0,abFlags:O.l,iCookie:D.N,testIds:N.z,ecmaVer:"ES2017"}),Y="TRUE"===I.L.getFlagValueAndActivateTestId("VAS_DUPLICATE_LOGS_TO_GOGOL"),Z="TRUE"===I.L.getFlagValueAndActivateTestId("VAS_STOP_LOGS_TO_JSTRACER");class X{constructor(e){this.rootFields={},this.labels={},this.event=e=>{let{name:t,data:i,labels:r,probability:n,extraRootFields:o,queryParams:a}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:r,probability:n,extraRootFields:o,queryParams:a})},this.error=e=>{let{error:t,labels:i,probability:r,extraRootFields:n}=e;const o=new A.s(t);this.push({eventName:String(o.code),eventType:"fatal",data:o,additionalStatsLabels:i,probability:r,extraRootFields:n})},this.values=e=>{let{name:t,values:i,data:r,labels:n,probability:o,extraRootFields:a}=e;this.push({eventName:t,eventType:"values",data:r,additionalStatsLabels:n,probability:o,values:i,extraRootFields:a})},this.warning=e=>{let{name:t,message:i,probability:r,extraRootFields:n}=e;(0,H.Z)(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:r,extraRootFields:n})},this.getParams=()=>function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(this.params,q),this.setRootFields=e=>{const t=(0,b.J)(e);(0,p.E)(t,(e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i}))},this.setLabels=e=>{const t=(0,b.J)(e);(0,p.E)(t,(e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i}))},this.errorToStats=(e,t,i)=>{const r=new A.s(e);this.push({eventName:String(r.code),eventType:"fatal",data:r,additionalStatsLabels:t,extraRootFields:i})};const{onLogError:t}=e;this.params=r({},e,{sid:e.sid||(0,g.a)(64),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(i){(0,n.L)(i)}}:n.L}),this.isLogsDisabled=!0===P}push(e){let{eventName:t,eventType:i,data:n={},additionalStatsLabels:a,value:s=1,probability:l=k.Vn,values:d={},extraRootFields:c={},queryParams:u={}}=e;if(this.isLogsDisabled)return;if(!(0,G.y)(l))return;const{service:h,version:p}=this.params,m={service:h,version:p,data:n,eventName:t,eventType:i,additionalStatsLabels:a,value:s,values:d};if(void 0!==X.sendingEventName)throw new A.s({message:"RecursiveStatsRequests",details:{service:h,version:p,eventType:i,eventName:t,sendingEventName:X.sendingEventName}});X.sendingEventName=t;try{const e=r({[h]:p,[i]:t},a,u),n=(0,o.Sr)(J,e),s=this.createFullStatsObject(m,c),l=(0,F.Y)(s);if(Z||this.sendData(n,l),Y){const t=(0,o.Sr)($,e);this.sendData(t,l)}}catch(v){X.sendingEventName=void 0,this.params.onLogError(new A.s(v,{details:{service:h,version:p,eventType:i,eventName:t}}))}X.sendingEventName=void 0}sendData(e,t){const i=function(e,t){return!!C&&window.navigator.sendBeacon(e,t)}(e,t);i||(0,T.W)({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:n,eventName:o,eventType:a,data:s,additionalStatsLabels:l,value:d}=e,c=(e=>{let{eventType:t,eventName:i,value:n,values:o}=e;const a={};return(0,w.M)(o,((e,r)=>{a[t+"_"+i+"_"+r]=e})),r({[t+"_"+i]:n},a)})(e),u=r({},this.labels,l,{version:this.params.version}),p=(0,b.J)(c),A=(0,S.N)(p),g=(0,b.J)(u),T={service:i,tags:A,labels:(0,S.N)(g)},{location:C,referrer:O}=(0,_.w)(document),P=(0,M.S)(window)?(0,B.u)(window):void 0;return r({},t,K,this.rootFields,T,{timestamp:Date.now(),eventType:a,eventName:o,data:s,sid:this.params.sid,version:n,location:(0,f.b)(window),topLocation:C,topAncestor:v.K,isTopAncestorUndetermined:!v.B||void 0,ancestorOrigins:m,documentIsVisible:(0,z.s)(document),referrer:window.document.referrer,topReferrer:O,currentScriptSrc:R.D,secureIFrame:E.g,isVideoADB:(0,y.m)(h.O),value:d,rnd:this.params.rnd,topDocumentFocus:(0,x.x)(),pcodeActiveTestIds:I.L.getActiveTestIds(),deviceOrientation:P})}}const J="https://jstracer.yandex.ru/jstracer",Q=(0,o.en)(J).hostname,$="https://log.strm.yandex.ru/log",ee=(0,o.en)($).hostname,te=new X({service:"AdSDKJS",version:String(l.b),sid:a.x,rnd:s.$,onLogError:(0,u.I)((e=>{(0,n.L)(e),te.error({error:new c.w(e,{code:"STATS_LOG_ERROR",details:void 0})})}))});d.V.addErrorHandler((e=>{te.error({error:new c.w(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})}))},4590:function(e,t,i){"use strict";i.d(t,{d:function(){return d}});var r=i(9330),n=i(7878),o=i(7210),a=i(8315);const{rootFields:s,extractionError:l}=(e=>{let t;const i=(0,a.Y)((()=>(e=>{var t,i;const a=null==e||null==(t=e.ya)||null==(i=t.videoAd)?void 0:i.statsRootParams;if((0,n.K)(a)){const e={},{vsid:t,contentPlayerVersion:i,pom3aZI0LvzQsion:n,widgetVersion:s}=a;if((0,o.H)(t)&&(e.vsid=t),(0,o.H)(i)&&(e.contentPlayerVersion=i),(0,o.H)(n)&&(e.pom3aZI0LvzQsion=n),(0,o.H)(s)&&(e.widgetVersion=s),(0,r.Z)(e).length>0)return e}})(e)),(e=>{t=e}))||void 0;return{rootFields:i,extractionError:t}})(window),d=s},3506:function(e,t,i){"use strict";function r(e){return n.$<e}i.d(t,{y:function(){return r}});var n=i(1614)},4631:function(e,t,i){"use strict";i.d(t,{m1:function(){return r},R0:function(){return n}});const r="",n="InPage"},1690:function(e,t,i){"use strict";function r(e){return"ontouchstart"in e}i.d(t,{S:function(){return r}})},7643:function(e,t,i){"use strict";function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];(0,o.k)(e)&&(0,n.E)(e,(e=>{"function"===typeof e&&e(...i)}))}i.d(t,{p:function(){return r}});var n=i(9327),o=i(7539)},6524:function(e,t,i){"use strict";function r(){}i.d(t,{Z:function(){return r}})},5778:function(e,t,i){"use strict";function r(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}i.d(t,{I:function(){return r}})},8315:function(e,t,i){"use strict";function r(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}i.d(t,{Y:function(){return r}})},9342:function(e,t,i){"use strict";i.d(t,{W:function(){return n}});const r=i(5251).T,n=function(e){const t=r(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window)},7221:function(e,t,i){"use strict";function r(e){const t=(n.h||window).console;if(!o.O||void 0===t)return;const i="AdSDKJS["+s.R0+"]:";null==t.log||t.log(i,e)}i.d(t,{q:function(){return r}});var n=i(5686);(0,i(1116).r)(window);i(6821);var o=i(253);const a=(0,i(9741).O)(window,"adsdktracelogs");Boolean(a);var s=i(4631);(0,i(976).n)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window})},554:function(e,t,i){"use strict";function r(e){(0,o.K)(console)&&(0,n.m)(console.warn)&&console.warn(e)}i.d(t,{Z:function(){return r}});var n=i(7438),o=i(7878)},2778:function(e,t,i){"use strict";i.d(t,{Q:function(){return o}});var r=i(6579),n=i(9505);const o={onBeforeLoad:e=>{(0,n.O4)(e,r.d)}}},8941:function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=window);const{hostname:i}=(0,s.en)(e),r=(0,a.x)(t);return r?-1===l.Cl.indexOf(i)?e:r(e):e}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n.apply(this,arguments)}function o(e){const{src:t,win:i}=e;return(0,d.v)(n({},c.Q,e,{src:r(t,i)}))}i.d(t,{C:function(){return o}});var a=i(1695),s=i(5082),l=i(3424),d=i(44),c=i(2778)},6839:function(e,t,i){"use strict";function r(e){let{element:t,eventName:i,listener:r,options:d,ignoreBubbling:c=!1}=e;const u=c?function(e){e.target===t&&r.call(this,e)}:r,h=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(d),p=o.FF?h:h.capture,A=h.once&&!o.vE?function(e){m(),u.call(this,e)}:u,m=()=>{(0,n.f)(t,i,A,p)};try{(0,n.h)(t,i,A,p)}catch(v){const e=(0,s.S)(v)?v:new a.w({code:"ADD_EVENT_LISTENER_FUNCTION_CALL_ERROR",details:{error:v}});throw l.ot.error({error:e}),e}return m}i.d(t,{V:function(){return r}});var n=i(5962),o=i(3452),a=i(1877),s=i(728),l=i(6091)},1338:function(e,t,i){"use strict";function r(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}i.d(t,{u:function(){return r}})},3638:function(e,t,i){"use strict";function r(){if(n.h&&void 0!==n.h.document&&"function"===typeof n.h.document.hasFocus)try{return n.h.document.hasFocus()}catch(e){}}i.d(t,{x:function(){return r}});var n=i(5686)},5208:function(e,t,i){"use strict";function r(e){var t;return(void 0===t&&(t=window),void 0===c&&(c=t.JSON),c).stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=(0,n.s)(t,(e=>e.value===i));return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if((0,a.m)(r))return(0,l.H)(r.name)?r.name:"[Function]";if((0,o.V)(r))return(0,d.Us)(r);if(!(0,s.K)(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const c=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:c,value:r}),t.set(r,c),r}}())}i.d(t,{Y:function(){return r}});var n=i(4877),o=i(9201),a=i(7438),s=i(7878),l=i(4778),d=i(9638);let c},7817:function(e,t,i){"use strict";function r(e,t){return function(){try{e(...arguments)}catch(i){a.ot.error({error:new o.w(i,{code:t})}),(0,n.L)(i)}}}i.d(t,{O:function(){return r}});var n=i(8062),o=i(1877),a=i(6091)},44:function(e,t,i){"use strict";function r(e){return function(e){const{src:t,win:i,onBeforeLoad:r=s.Z}=e,l=new n.s({});let d=s.Z;return{promise:new Promise(((e,s)=>{const c=i.document.createElement("script");let u=!1;d=()=>{u=!0,(0,o.L)(c)};const h=()=>{u||e()},p=e=>{u||(s(new n.s(l,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),d())};c.type="text/javascript",c.async=!0,c.onload=h,c.onerror=p,c.src=t,c.charset=a,r(c),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(c)})),teardown:d}}(e)}i.d(t,{v:function(){return r}});i(5686);var n=i(5386),o=(i(7438),i(6350));const a="utf-8";var s=i(6524)},4646:function(e,t,i){"use strict";function r(e){const t=[];for(const[i,r]of e){const e=n(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function n(e,t){const i=function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2);return o(i,t)}function o(e,t){return(0,h.Q)(e,t,"0")}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},a.apply(this,arguments)}i.d(t,{T:function(){return _}});var s=i(5054),l=i(7438),d=i(9327),c=i(669),u=i(7878),h=i(3398);class p{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(a({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,n=o(e.toString(2),r).substr(-r,i);return parseInt(n,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return(0,u.K)(e)&&(0,d.E)(this.getTemplate(),(t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])}),this),this}getProps(){return a({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return r((e=this.getTemplate(),t=this.props,(0,c.U)(e,(e=>{let[i,r]=e;return[i,r&&t[r]||null]}))))}slice(e,t){return p.sliceBits(this.serialize(),e,t)}}var A=i(4395),m=i(4631);const v={AdSDKLoader:0,VpaidPlayerLoader:1,AdLoader:11,InPage:13,Multiroll:16,VideoBannerAd:17,MotionTailor:18,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,Rum:27,Survey:28,Examples:30,TestStand:29,Test:31,TestVpaid:31,LoaderFunctions:32};const _=new class extends p{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:A.b,BUNDLE:v[m.R0],UNUSED:0,ADBLOCK:(0,l.m)(s.O)}}}},7582:function(e,t,i){"use strict";i.d(t,{k:function(){return r}});const r=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},619:function(e,t,i){"use strict";function r(e,t){void 0===t&&(t=!0);const i=(0,n.k)(e);if(!i)return t;return!e[i]}i.d(t,{s:function(){return r}});var n=i(7582)},4738:function(e){"use strict";e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},3716:function(e){"use strict";e.exports=JSON.parse('{"be":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"en":{"adsdk":{"ABUSE_ADS_TEXT":"Ad","ABUSE_COPIED":"Copied","ABUSE_COPY_TEXT":"Copy link","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Enter your message","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"Submit","ABUSE_IMPROVE_REASON_TEXT":"State the reason:","ABUSE_OPTION_ABOUT":"Ads on Yandex","ABUSE_OPTION_ADVERTISER_INFO":"Advertiser info","ABUSE_OPTION_ALREADY_PURCHASED":"Already purchased","ABUSE_OPTION_ANOTHER_REASON":"Another reason","ABUSE_OPTION_COMPLAINT":"Report","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Speculation","ABUSE_OPTION_HIDE":"Hide","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Illegal goods or services","ABUSE_OPTION_NOT_INTERESTED":"Not interested","ABUSE_OPTION_OVERLAP_CONTENT":"Covers page content","ABUSE_OPTION_POLITICAL_SOCIAL":"Political ad","ABUSE_OPTION_SCAMMERS":"Scammers","ABUSE_OPTION_SEEN_TOO_OFTEN":"I see this ad too often","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Shocking content","ABUSE_OPTION_UNPLEASANT_CONTENT":"I don\'t like it","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Thanks! The moderators will review this ad","ABUSE_PLACEHOLDER_HINT_HIDE":"We use your responses to suggest ads that will be interesting for you","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"Report registered","ABUSE_PLACEHOLDER_TEXT_HIDE":"Ad hidden","ABUSE_SCREEN_DESCRIPTION":"We try to show you ads that match your interests. Tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_DESCRIPTION_SHORT":"Please tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_TITLE":"Report this ad","ABUSE_VARIANT_ANNOYING":"Intrusive or annoying","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"False information","ABUSE_VARIANT_NOT_INTERESTED":"I\'m not interested in this","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"I\'m not interested in this","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Political ad","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Shocking content","ABUSE_VARIANT_SPAM":"Inappropriate content or spam","ABUSE_VARIANT_SPAM_SHORT":"Looks like spam","AD_TITLE":"Ad","LEARN_MORE":"Learn more","MORE":"More","MOTION_BTN":"Learn more","MOTION_BTN_WITHOUT_GREEN_URL":"Address and phone number","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","REPEAT":"Repeat","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sec","SKIP":"Skip","SKIP_TIME_LEFT":"Skip ad","SOCIAL_ADVERTISING_AD_LABEL":"Social ad","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Read more","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Read more on the website","THEME_EMPTY_ACTION_BUTTON_LABEL":"Go","TIME_LEFT":"Ad","UNMUTE":"Unmute","UNMUTE_INVITE":"Move mouse over ad<br>to hear sound","VISIT_SITE":"Go to oo12Qiser\u2019s site","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"kk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"ru":{"adsdk":{"ABUSE_ADS_TEXT":"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435","ABUSE_COPIED":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e","ABUSE_COPY_TEXT":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","ABUSE_IMPROVE_REASON_TEXT":"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:","ABUSE_OPTION_ABOUT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435","ABUSE_OPTION_ADVERTISER_INFO":"\u041e \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u0435","ABUSE_OPTION_ALREADY_PURCHASED":"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e","ABUSE_OPTION_ANOTHER_REASON":"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430","ABUSE_OPTION_COMPLAINT":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f","ABUSE_OPTION_FALSE_INFO_SOCIAL":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_OPTION_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430","ABUSE_OPTION_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442","ABUSE_OPTION_OVERLAP_CONTENT":"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_POLITICAL_SOCIAL":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_OPTION_SCAMMERS":"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438","ABUSE_OPTION_SEEN_TOO_OFTEN":"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_UNPLEASANT_CONTENT":"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f","ABUSE_PLACEHOLDER_HINT_HIDE":"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u0416\u0430\u043b\u043e\u0431\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430","ABUSE_PLACEHOLDER_TEXT_HIDE":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u043e","ABUSE_SCREEN_DESCRIPTION":"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_DESCRIPTION_SHORT":"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_TITLE":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_VARIANT_ANNOYING":"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_VARIANT_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_VARIANT_SPAM":"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c","ABUSE_VARIANT_SPAM_SHORT":"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c","AD_TITLE":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","LEARN_MORE":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","MORE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN_WITHOUT_GREEN_URL":"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","MOTION_DIETARYSUPPL_DISCLAIMER":"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c","MOTION_DISTANCE_SALES":"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.","MOTION_DRUG_DISCLAIMER":"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.","MOTION_HIDE_DISCLAIMER":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443","MOTION_SHOW_DISCLAIMER":"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","REPEAT":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c","REWARDED_TIMER_1":"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b","REWARDED_TIMER_2":"\u0441\u0435\u043a","SECONDS":"\u0441\u0435\u043a","SKIP":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","SKIP_TIME_LEFT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443","SOCIAL_ADVERTISING_AD_LABEL":"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435","THEME_EMPTY_ACTION_BUTTON_LABEL":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438","TIME_LEFT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","UNMUTE":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","UNMUTE_INVITE":"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","VISIT_SITE":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","YANDEX_DIRECT":"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442","YANDEX_DIRECT_LINK":"https://yandex-news.clstorage.net/18UP45v86/b0ef54kG2JNm/ewkKN_egI1ypVMVyS6wtI6mENjdXUP0kHWwX0Ud-HxABfxZmmmnN97mzhO3CSaFjxneBjjQFYA_wJtt6tYvCpwz9jtb18lFfiyNnckpsneEf9pUwsLF8pc0ulBA0H5xRU39GJfuq74Z6YNZc0joFQEdWAMlXxDFt0DYa2sQa0tfejTwGx5OwHAlC9dN5n24QDyaGEpLhjxRPvFTTdc-v0MP_9LXY2xzGCDEXPpB6dUPFpQJaxcST3VE1ytk1CzM1PO9-5BUCQ5-6cSSQKE6M8XwXhlFDk7_Fzo_loIfPLhKxn2UHq2tNNgrj1CyBeKXxtVZQGGRGUT_jBvsZ5fngha7Nb8bEsdKNmjCHgXldfdFMFURh4EO9By1cZiAUPx6hkY2HF4irr1Y4wQd_sClUgbSl89hFlJGvYfapGsTI4Qfd3I-VJjCjnnpzpWD6Xt5zLFSX8MHDvdUMneUB5kz_80PMpidLyj_GCuPHrTJKBzIl1hJLZsUT3aIWyml2u3B2Ld_M9cdzc6-6wGSDyu3sEK0nBDOCAT0V7zwl8FWszlIC_lY1qfktxluyxu8ga6cxd2YSW3YmMZwy5-tYlruhdD6NDUcGoiGPyRJFkSgOHnIcZpRTI5PcRH98lQNlLt3A403WNMgZH7R5QPQtArg0o0WlU9hH5AAc0-f4a2aZ4wYPnIyU5iHAPOtQ58FKDg3hL9SUcKBgfrX9P_VA1M-PsNLOFvWLyLz0CRA0TeObZZIFFwNqR5bTrcAlmIlFWSKUP95e9Kej45-II2Wi6e7sMT0VlvOwAp52XgwlIJcdTiEwLBZnO8mvhflixV2zuzcjZ_fRK6WUI_wixpsoBQuA5Q28X4cF0EOOy7FGQPrvPcA-x1XgkFOsRXysV7D2L_4RUC4HpDvKvPQqU3Tv0CpEoaWHQhsF1vEOYEXbSXSLAIeeHU-m1rMTrCoCVFCI7M0xHDRXo3AinHQObZayRM9fw3F_Zscqi32l-zDEHQKLVyClxyN7tyYh_eAVqcuX2vKVDl_cN4dgMGx7QxagyC780K8V1nKiIl8XDa3lIQa8vbLR3MfVC7juBylwlO8Ayycj1ATgmue2okzSldmpNyuxBW-9XdVF8aGMCPFF0fs_DWMsx7cDk_NeVK59pIBE_9_RggwkFZiK7ZVqEjV_EFlVwHXlMvhG5QI80pcpSWf4wDWc7R6WxiBQDFjytdA4bE-gP1QWQfKzXGZ-DtQDV6_eo7Et5YbYOK4k-zGHXeCo59NGZXPax4Qj3lFHi3rlqrDHLn-Mh-Xz0B7o0NeRKT4M4sznVmOQgHwGnhzVs1atLHFRH5YW6KnPpRuDpX4SOsdAtjcj-2TkIGwjJmtZdSkiVswuzWXGIxEsO4DE0hkc_hIMFiWR4kDvpw2vx8EmPtwzA971NvvJn6Y44vSOozrEoNcW0WqWRJM-IiaLeCe4UKQtzOw3ZGFhfzuyp8FJbW2BPdQ18oCwX0afP7dgBw2Og1MvxuVYm8-G-tHVfsLIRWIUB-P5ZHYCXzNVisiHizDnfcy-dIYDY80JEsWTGzxdo71X59Mx0m42bW5mgrQ8r6JS3dbEKYsvFijxhwwTO1cgpwRCOaWGAk5RNilpt0hBBkxPjgX1I_CPmiI2UjgPbTGuZ8eyAvPttF1dddI2LE3jkRyWNol6jyV4kuTN8Vp3EqXGgVp2NTGfMDTImhaoQPe9PxzXlSIDfYlTdEJJb05hDdX2I5BxH4d_rFdCRcyfIAEcJbcYuX_16gMUHSObNbNHFWC4JyahfBFkGxnGG0Plf_3P1WfSEh6ogmVj2nwdAl315uMjwHyVvr6lsIae3HJifgUFiYuedEgClt_DKXXTRiajOIUHUwxi5nqrtStiQ/"}},"tr":{"adsdk":{"ABUSE_ADS_TEXT":"Reklam","ABUSE_COPIED":"Kopyaland\u0131","ABUSE_COPY_TEXT":"Ba\u011flant\u0131y\u0131 kopyala","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Mesaj\u0131n\u0131z\u0131 girin","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"G\xf6nder","ABUSE_IMPROVE_REASON_TEXT":"Nedenini a\xe7\u0131klay\u0131n:","ABUSE_OPTION_ABOUT":"Yandex\'te reklam","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"Zaten sat\u0131n al\u0131nd\u0131","ABUSE_OPTION_ANOTHER_REASON":"Ba\u015fka bir neden var","ABUSE_OPTION_COMPLAINT":"\u015eikayet et","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Yanl\u0131\u015f bilgi","ABUSE_OPTION_HIDE":"Gizle","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Yasad\u0131\u015f\u0131 mal/hizmet","ABUSE_OPTION_NOT_INTERESTED":"\u0130lgilenmiyorum","ABUSE_OPTION_OVERLAP_CONTENT":"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor","ABUSE_OPTION_POLITICAL_SOCIAL":"Siyasi i\xe7erikli reklam","ABUSE_OPTION_SCAMMERS":"Doland\u0131r\u0131c\u0131lar","ABUSE_OPTION_SEEN_TOO_OFTEN":"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Rahats\u0131z edici i\xe7erik","ABUSE_OPTION_UNPLEASANT_CONTENT":"Ho\u015fuma gitmiyor","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Te\u015fekk\xfcr ederiz! Moderat\xf6r k\u0131sa s\xfcre i\xe7erisinde reklam\u0131 kontrol edecektir","ABUSE_PLACEHOLDER_HINT_HIDE":"Size en uygun reklam\u0131 se\xe7mek i\xe7in yan\u0131tlar\u0131n\u0131z\u0131 de\u011ferlendiriyoruz","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u015eikayet kay\u0131t alt\u0131na al\u0131nd\u0131","ABUSE_PLACEHOLDER_TEXT_HIDE":"Reklam gizlendi","ABUSE_SCREEN_DESCRIPTION":"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_DESCRIPTION_SHORT":"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_TITLE":"Reklam\u0131 \u015fikayet et","ABUSE_VARIANT_ANNOYING":"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"Bu konuyla ilgilenmiyorum","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"G\xfcvenilir olmayan i\xe7erik veya spam","ABUSE_VARIANT_SPAM_SHORT":"Spam gibi g\xf6r\xfcn\xfcyor","AD_TITLE":"Reklam","LEARN_MORE":"Daha fazla bilgi edinin","MORE":"Daha fazla","MOTION_BTN":"Daha fazla bilgi","MOTION_BTN_WITHOUT_GREEN_URL":"Adres ve telefon","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","REPEAT":"Tekrarla","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sn","SKIP":"Atla","SKIP_TIME_LEFT":"Reklam\u0131 atla","SOCIAL_ADVERTISING_AD_LABEL":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"Reklam","UNMUTE":"Sesi a\xe7","UNMUTE_INVITE":"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin","VISIT_SITE":"Reklam verenin sitesine git","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uz":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}}}')}},i={};e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";function t(e,t){void 0===t&&(t=window);let i=za.Z;const r=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},n=(0,Ga.U)(Za,(e=>(0,qa.V)({element:t,eventName:e,listener:r})));return i=(0,Ya.I)((()=>{(0,Ka.p)(n)})),i}function i(e,t){return t===e.substring(e.length-t.length)}function r(e){const{hostname:t}=(0,Qa.en)(e);return t===$a||i(t,".adfox.ru")}function n(e){if(!e)return!1;const{hostname:t}=(0,Qa.en)(e);return!(!t||0===t.length)&&es(is,(e=>e===t||i(t,"."+e)))}function o(e){(new Image).src=e}function a(e,t){if(n(e)||r(e)){const i=function(e,t){return!!ns&&window.navigator.sendBeacon(e,t)}(e,t);if(i)return}else n(e)&&Wa.ot.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:Fa.Uv});o(e)}function s(e){return"number"===typeof e&&isFinite(e)}function l(e){return"number"===typeof e&&isFinite(e)&&e>0}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},d.apply(this,arguments)}function c(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if((0,as.K)(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?d({},ls,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):ls}(e),{droppedVideoFrames:i,totalVideoFrames:r}=t;let n=ds.droppedVideoFramesRatio;return l(r)&&s(i)&&(n=i/r),d({},t,{droppedVideoFramesRatio:n})}function u(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},h.apply(this,arguments)}function p(e){let{url:t,options:i,ignoreAbd:o=!1,win:a}=e;if((0,As.m)(hs.O)&&!o)return t;if(!n(t)&&!r(t))return t;const s=$s(i.size),l=Math.round(100*i.visibility),d=Math.round(100*i.videoVolume),c=Math.round(i.videoAvatarSize.width),u=Math.round(i.videoAvatarSize.height),h=(0,Js.x)();return(0,Qa.Sr)(t,{"adsdk-bundle-version":String(bs.b),"adsdk-bundle-name":Cs.R0,"adsdk-container-visibility":String(l),"adsdk-container-width":String(s.width),"adsdk-container-height":String(s.height),"video-avatar-width":String(c),"video-avatar-height":String(u),[fs.Q]:String(el.T.serialize()),"ad-session-id":Zs(),[gs]:vs.x,[ys]:_s.Q,shyid:Xs(a),"top-ancestor":ps.K,"top-ancestor-undetermined":ps.B?"0":"1","client-ts":String(Date.now()),"client-timezone-offset":String((new Date).getTimezoneOffset()),"viewability-undetermined":nl()?"0":"1","video-volume":String(d),"video-muted":i.videoMuted?"1":"0","pcode-active-testids":ms.L.getActiveTestIds().join(";")||void 0,"document-has-focus":void 0===h?"unknown":String(h),"is-fullscreen":void 0===i.isFullscreen?"unknown":String(i.isFullscreen),"device-orientation":(0,Os.S)(a)?(0,Is.u)(a):void 0,[ws]:void 0===i.adPodId?"unknown":i.adPodId},{override:!1})}function A(e){let{error:t,trackingUrls:i}=e;(0,ja.q)("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=(0,Ga.U)(e,(e=>p({url:e,options:us,win:window})));(0,Ja.E)(t,(e=>a(e)))}(i)}function m(e,t){void 0===t&&(t=[]),Wa.ot.errorToStats(e),A({error:e,trackingUrls:t})}function v(e,t){try{return e()}catch(Lm){"function"===typeof t&&t(Lm)}}function _(e){const t={};for(const i in e)(0,ll.n)(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function f(e,t){const i={};return(0,dl.Z)(e).forEach((r=>{i[r]=t(e[r],r)})),i}function g(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);let o;if(n<128?o=String.fromCharCode(n):n>127&&n<2048?(o=String.fromCharCode(n>>6|192),o+=String.fromCharCode(63&n|128)):(o=String.fromCharCode(n>>12|224),o+=String.fromCharCode(n>>6&63|128),o+=String.fromCharCode(63&n|128)),i.length+o.length>t)break;i+=o}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),n=e.charCodeAt(i++),o=e.charCodeAt(i++),a=r>>2,s=(3&r)<<4|n>>4;let l=(15&n)<<2|o>>6,d=63&o;isNaN(n)?l=d=64:isNaN(o)&&(d=64),t=t+Tl.charAt(a)+Tl.charAt(s)+Tl.charAt(l)+Tl.charAt(d)}return t}(i)}function y(e){const t=function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=Tl.indexOf(e.charAt(i++)),n=Tl.indexOf(e.charAt(i++)),o=Tl.indexOf(e.charAt(i++)),a=Tl.indexOf(e.charAt(i++)),s=r<<2|n>>4,l=(15&n)<<4|o>>2,d=(3&o)<<6|a;t.push(String.fromCharCode(s)),64!==o&&t.push(String.fromCharCode(l)),64!==a&&t.push(String.fromCharCode(d))}return t.join("")}(e);return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const n=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&n)),i+=2}else{const n=e.charCodeAt(i+1),o=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&n)<<6|63&o)),i+=3}}return t.join("")}(t)}function E(e,t){const i={};return(0,dl.Z)(e).forEach((r=>{const n=t(r,e[r]);i[n]=e[r]})),i}function T(e){if(!(0,as.K)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!(0,as.K)(t)||!(0,as.K)(t.data_params))return;const i=Il(t.data_params);if(!(0,as.K)(i))return;const r=i.target_url;return(0,wl.H)(r)?r:void 0}function S(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[Yl(r)]=t[r]}}function w(e,t){(0,dl.Z)(t).forEach((i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)}))}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},b.apply(this,arguments)}function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},C.apply(this,arguments)}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},O.apply(this,arguments)}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},I.apply(this,arguments)}function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},P.apply(this,arguments)}function D(e){return[].concat.apply([],e)}function N(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function R(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},k.apply(this,arguments)}function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},V.apply(this,arguments)}function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},L.apply(this,arguments)}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},M.apply(this,arguments)}function B(e){if(!(0,as.K)(e))return;const{width:t,height:i,url:r,type:n}=e;if(!(0,wl.H)(r))return;return M({},l(t)&&l(i)?{width:t,height:i}:void 0,(0,wl.H)(n)?{type:n}:void 0,{url:r})}function x(e){const t=[];if(!(0,fl.k)(e))return t;for(const i of e){const e=B(i);e&&t.push(e)}return t}function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},U.apply(this,arguments)}function F(e){if(!(0,as.K)(e))return Bd;const{type:t,poster:i}=e;return U({},t in Md?{type:t}:void 0,{poster:x(i)})}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},H.apply(this,arguments)}function W(e){return!!(0,as.K)(e)&&(!!e.id&&!!(0,wl.H)(e.description))}function z(e){try{return(0,Cl.H)(e)?JSON.parse(e):void 0}catch(Lm){return}}function j(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!=(r=null==i?void 0:i.trim())?r:""}return i}function G(e){var t,i;return null!=(t=null==e||null==(i=e.textContent)?void 0:i.trim())?t:""}function q(e){return Boolean(e&&G(e).length)}function K(e){const t=parseInt(j(e,"width",0),10),i=parseInt(j(e,"height",0),10),r=parseInt(j(e,"bitrate",0),10),n=j(e,"minBitrate",""),o=n?parseInt(n,10):void 0,a=j(e,"maxBitrate",""),s=a?parseInt(a,10):void 0,d=j(e,"vmafAvg",""),c=d?parseFloat(d):void 0,u=j(e,"codec",""),h={width:t,height:i,bitrate:r,type:j(e,"type"),url:G(e)};return(0,wl.H)(u)&&(h.codec=u),l(o)&&(h.minBitrate=o),l(s)&&(h.maxBitrate=s),l(o)&&l(s)&&o>s&&Wa.ot.error({error:new Ha.w({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:h}})}),l(c)&&(h.vmafAvg=c),h.url?h.type?h:(Wa.ot.error({error:new Ha.w({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:h}})}),null):(Wa.ot.error({error:new Ha.w({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:h}})}),null)}function Y(e){const t={};return(0,as.K)(e)&&(0,Ja.E)((0,dl.Z)(e),(i=>{const r=e[i];Array.isArray(r)&&(t[i]=(0,_l.h)(r,(e=>"string"===typeof e)))})),t}function Z(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(0,Ja.E)(i,(t=>{(0,Ja.E)((0,dl.Z)(t),(i=>{const r=e[i]||[],n=t[i]||[];e[i]=[...r,...n]}))})),e}function X(e){if(Gd&&"TRUE"===ms.L.getFlagValueAndActivateTestId("IGNORE_DESIRED_BITRATE_INAPP"))return;if(void 0===e)return;const t=Number(e);return l(t)?t:void 0}function J(e,t){const i={};return(0,dl.Z)(e).forEach((r=>{t(e[r],r)&&(i[r]=e[r])})),i}function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Q.apply(this,arguments)}function $(e){const t=Od(Jd);if(!(0,as.K)(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),(0,as.K)(e.controlsSettings)&&((0,as.K)(e.controlsSettings.controlsVisibility)&&(0,Kd.M)(e.controlsSettings.controlsVisibility,((e,i)=>{Zd.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)})),!1===e.controlsSettings.visibility)){const e=J(t.controlsVisibility,(e=>!0===e));t.controlsVisibility=Q({},Xd,e)}return delete t.visibility,t}function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ee.apply(this,arguments)}function te(e){const{packshotSettings:t}=e;if(!(0,as.K)(t))return Qd;const{isEnabled:i}=t;return ee({},Qd,{isEnabled:!1!==i&&void 0})}function ie(e){const t=(0,as.K)(e)?e:{},i=[],r="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,zd):void 0;let n;void 0!==t.skipDelay&&(s(t.skipDelay)&&t.skipDelay>=0?n=t.skipDelay:i.push(new Ha.w({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}})));return{config:{pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,skipDelay:n,videoTimeout:l(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:l(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:r,bufferEmptyLimit:l(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?Y(t.trackingEvents):{},controlsSettings:$(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:X(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:pl,packshotSettings:te(t),contentAfterAd:F(t.contentAfterAd)},errors:i}}function re(e){return"string"!==typeof e?NaN:(0,gl.u)(e.split(":").reverse(),((e,t,i)=>e+parseFloat(t)*60**i),0)}function ne(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return s(t)?{unit:"portion",value:t/100}:void 0}const t=re(e);if(s(t))return{unit:"seconds",value:t}}function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},oe.apply(this,arguments)}function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ae.apply(this,arguments)}function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},se.apply(this,arguments)}function le(e){let{url:t,data:i,timeout:r,doRequest:n=lc,withCredentials:o}=e;return new Promise((async(e,a)=>{"https:"===window.location.protocol&&(t=function(e){return sc.A.href=e,sc.A.protocol="https:",sc.A.href}(t));const s=ac(r),l=n({url:t,data:i,withCredentials:o});try{const t=await Promise.race([l,s]);if(t){return e(se({},t,{xml:R(t.responseText)}))}return a({reason:"timeout",error:new Error("XHR Timeout")})}catch(d){return a(d)}}))}function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},de.apply(this,arguments)}function ce(e){(0,Ja.E)(e,(e=>Wa.ot.error({error:e})))}function ue(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function he(e){let{win:t,methodName:i,data:r,id:n}=e;t.postMessage({methodName:i,data:r,id:n},"*")}function pe(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)(0,ll.n)(e,i)&&t.push(e[i]);return t}}function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ae.apply(this,arguments)}function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},me.apply(this,arguments)}function ve(e,t){const i=window,r=i.document;if(t&&(n=function(e){return e.location.host}(i))&&n&&0!==n.length&&es(Ec,(e=>{return e===n||(i="."+e)===(t=n).substring(t.length-i.length);var t,i})))return t;var n;let o=_e(e,r);if("t\n"===o&&i.top!==i.self)try{o=_e(e,i.parent.document)}catch(Lm){}return g(o,e)}function _e(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let n=1;n<4&&r<e;n++){const e=t.getElementsByTagName("h"+n),o=e.length;for(let t=0;t<o;t++){const o=fe(e[t]);r+=o.length,i.push(""+n+o)}}return i.join("\n")+"\n"}function fe(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function ge(e){let t;try{t=JSON.stringify(e)}catch(Lm){}return t}function ye(e){return Boolean(e.YA_TURBO_PAGES)}function Ee(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function Te(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return Ee(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.ou3aTMnHyyw&&r.ou3aTMnHyyw.ouX2LC3Xk3utaYQ&&r.ou3aTMnHyyw.ouX2LC3Xk3utaYQ.getSkipToken&&(t=r.ou3aTMnHyyw.ouX2LC3Xk3utaYQ.getSkipToken()),t}function Se(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case Cc.BLUETOOTH:return 3;case bc.CELL_2G:return.384;case bc.CELL_3G:case Cc.CELLULAR:return 2;case Cc.WIMAX:return 37;case Cc.NONE:return 0;case bc.ETHERNET:case Cc.ETHERNET:case bc.WIFI:case Cc.WIFI:case Cc.MIXED:return 10;case bc.UNKNOWN:case Cc.UNKNOWN:case Cc.OTHER:}return-1}function we(){const e={width:window.innerWidth,height:window.innerHeight},t=wc(),i={win_width:Oc(e.width),win_height:Oc(e.height),pixel_ratio:Tc(),bandwidth:Se()};return t&&(i.quirks=t),i}function be(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.ou3aTMnHyyw&&e.Ya.ou3aTMnHyyw.ouX2LC3Xk3utaYQ&&e.Ya.ou3aTMnHyyw.ouX2LC3Xk3utaYQ.getCapturedCount&&(t=e.Ya.ou3aTMnHyyw.ouX2LC3Xk3utaYQ.getCapturedCount()),t}();return Dc()+e}function Ce(e){return void 0===e&&(e=window),String(e.location)}function Oe(e){return void 0===e&&(e=window),g(((e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(Lm){}const r=/(%[0-9A-Z]{2})+/g;let n;for(let o=0;o<i.length;o++){const e=i[o].split("="),a=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(a.replace(r,decodeURIComponent),t===i){n=decodeURIComponent(a);break}}catch(Lm){return}}return n})(e.document,"_ym_uid")||"")}function Ie(e){return void 0===e&&(e=window),e.location.hostname}function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Pe.apply(this,arguments)}function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},De.apply(this,arguments)}function Ne(e,t){void 0===t&&(t="");const{params:i,bids:r,matchIdDirect:n=!1,reloadCounter:o}=e,a=De({},function(e){const t=e.win||window,i=void 0===e.isTurbo?ye(t):e.isTurbo,r=es(Lc,(e=>e.test(t.location.hostname)));return(e=>{let{win:t,date:i=new Date,pr1:r,pr:n,testtag:o,isTurbo:a=ye(t),addsSsSkipToken:s=!1,layoutConfig:l=new Ic,cookies:d,olHacInH46elp:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;l.set("req_no",(()=>{0;return Vc++})()),l.set("ad_no",be());const v=Pe({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:n=kc(),location:o,extid_loader:a,extid_tag_loader:s}=e;const l=Ee(t)&&t.context&&t.context.sourceUrl||void 0,d=l||t.document.referrer;return{dl:l||o||Ce(t),date:Rc(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:n,pr:i,prr:d,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===a?Oe(t):a,extid_tag_loader:void 0===s?Ie(t):s}})({win:t,date:i,pr1:r,pr:n,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:o?o.toString():"","is-turbo":Number(a),"skip-token":Te(),"ad-session-id":h||Ks(),"layout-config":l.toString(),"enable-flat-highlight":1},d);s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0);return v})(De({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},n?{"matchid-direct":1}:{},{"enable-page-options":65536});if((0,Ja.E)(Mc,(e=>{a[e]=void 0})),a.pk)try{a.pk=decodeURIComponent(a.pk)}catch(Lm){}if(r){const e=r.map((e=>De({},e,{placement_id:e.placement_id?String(e.placement_id):void 0})));e.toJSON&&(e.toJSON=void 0),a.bids=g(ge(e)||"")}return a.grab=ve(2048-t.length),a.utf8="\u2713",o&&(a.adf_refresh=o),a}function Re(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:n,domain:o=Bc}=e;return t=r?"getBulk/v2":i?"getCodeTest":"prepareCode","https://"+o+"/"+n+"/"+t}(e);return{base:t,queryParams:Ne(e,t)}}function ke(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ve.apply(this,arguments)}function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Le.apply(this,arguments)}function Me(e,t){const i=(0,xl.x)(window);let r;try{r=function(e){const{base:t,queryParams:i}=Re(e);return(0,Qa.Sr)(t,i)}(Le({},e,{layoutConfig:new Ic,useXhr:!0,domain:Hc}))}catch(o){throw new Ha.w(o,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!ke(r))throw new Ha.w({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const n=p({url:r,options:t,ignoreAbd:!0,win:window});return i?i(n):n}async function Be(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r}=e;const n=Me(t,i),o=yc({secureMode:r,url:n})?Sd:lc;try{const e=await o({url:n,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=z(e),i=[];if(!(0,as.K)(t))throw new Ha.w({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:r,data:n}=t;if(Array.isArray(r)&&r.length>0)throw new Ha.w({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(n))throw new Ha.w({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const o=(0,_l.h)(n,((e,r)=>{if(!(0,as.K)(e)||!(0,as.K)(e.attributes))return i.push(new Ha.w({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:n,vastBase64:o}=e.attributes;return"string"===typeof o&&o.length>0||"string"===typeof n&&n.length>0||(i.push(new Ha.w({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1)}));if(0===o.length)throw new Ha.w({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return o.length>1&&i.push(new Ha.w({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:o[0].attributes,errors:i}}(e.responseText);return ce(i),t}catch(a){if((0,kl.S)(a))throw a;throw new Ha.w(a,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:n}})}}function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},xe.apply(this,arguments)}function Ue(e){return!!(0,as.K)(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Fe.apply(this,arguments)}function He(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!(0,as.K)(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!(0,as.K)(i))return!1;const{data_params:r}=i;if(!(0,as.K)(r))return!1;const{misc:n}=r;if(!(0,as.K)(n))return!1;const{layout_type:o}=n;return"clickable_video"===o}function We(e){let t;try{t=JSON.parse(e)}catch(u){throw new Ha.w({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!(0,as.K)(t))throw new Ha.w({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!(0,fl.k)(i)||0===i.length)return{url:tu,adFormatType:"motion",isOldVastFormat:!0};const[r]=i;if(!Ue(r))throw new Ha.w({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const{type:n}=r;if(n===Kc)return{url:Vd,adFormatType:"motion",isOldVastFormat:!1};if(n===Yc)return{url:Vd,adFormatType:"themeEmpty",isOldVastFormat:!1};const{theme:o}=t,a=(0,wl.H)(o),s="video-banner_theme_empty"===o,l="video-banner_survey"===o,d=o===$c,c={url:Gc,adFormatType:"interactiveViewer",isOldVastFormat:Ac(i,(e=>e.url!==Qc.url))};if(d)return c;if(He(o,t))return{url:su,adFormatType:"clickableVideo",isOldVastFormat:!0};if(a){const e=(()=>{switch(!0){case s:return"themeEmpty";case l:return"survey";default:return"vpaidCreative"}})();return{url:s||l?su:au,adFormatType:e,isOldVastFormat:!0}}return Wa.ot.event({name:"DetectInteractiveViewerAsDefault",probability:Fa.yl,data:{adParametersObject:t}}),c}function ze(e){let{type:t}=e;return(0,wl.H)(t)&&Pd.indexOf(t)>-1?"js":"video"}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},je.apply(this,arguments)}function Ge(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=(0,_l.h)(i,(e=>"video"===ze(e)||n(e.url)))),i}function qe(e,t){const i=Ge(e,t);return(0,Ga.U)(i,(e=>"video"!==ze(e)?e:cu(e)))}function Ke(e){let{secureMode:t,vastAd:i}=e;const r=qe(i.mediaFiles,t);return!!r.length&&Ac(r,(e=>"video"===ze(e)))}function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ye.apply(this,arguments)}function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ze.apply(this,arguments)}function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Xe.apply(this,arguments)}function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Je.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function $e(e){const{adParametersObject:t,description:i}=e;if(!(0,as.K)(t))throw new Ha.w({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:r,interactiveElements:n,mediaFiles:o}=t,a=Qe(t,vu),s=r&&r.isVisible&&(0,wl.H)(r.text),l=Array.isArray(n)&&n.length>0,d=!s&&!l;const c=Je({},a,{adParameters:{description:i,tickerData:r,interactiveElements:n},mediaFiles:!("DO_NOT_LOAD"===ms.L.getFlagValueAndActivateTestId("IV_CONCEALED_ANIMATION_LOADING_POLICY"))||!d?[...o,Qc]:o});return Je({},e,{mediaFiles:[Ld],adParametersObject:c,adParameters:JSON.stringify(c),originallyConvertedFromVast:e})}function et(e){const{adParametersObject:t}=e;if(!(0,as.K)(t))throw new Ha.w({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_DOMAIN:n,HAS_AGE:o,HAS_LEGAL:a,LEGAL_TEXT:s}=t,l=Qe(t,_u),d=uu||"TRUE"!==ms.L.getFlagValueAndActivateTestId("VAS_ENABLE_HORIZONTAL_MOTION_TAILOR")?hu:pu,c=Je({},l,{adParameters:Je({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:n}:{},"HAS_AGE"in t?{HAS_AGE:o}:{},"HAS_LEGAL"in t?{HAS_LEGAL:a}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[d]});return Je({},e,{mediaFiles:[Ld],adParametersObject:c,adParameters:JSON.stringify(c),originallyConvertedFromVast:e})}function tt(e){const{adParametersObject:t}=e;if(!(0,as.K)(t))throw new Ha.w({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});let i;if(!((0,fl.k)(t.mediaFiles)&&t.mediaFiles.length>0))throw new Ha.w({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:e}});i=t.mediaFiles;const r=Je({},t,{mediaFiles:i,adParameters:Je({},t),adCreativeConversionType:"theme-empty"});return Je({},e,{mediaFiles:[Ld],adParametersObject:r,adParameters:JSON.stringify(r),originallyConvertedFromVast:e})}function it(e){let{secureMode:t,vastAd:i}=e;const{trackingEvents:r}=i,n=Ge(i.mediaFiles,t);if(0===n.length)throw new Ha.w({code:"CANNOT_CONVERT_VIDEO_VAST_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:i}});const o={adParameters:{},interactiveElements:[],mediaFiles:n,tickerData:{}},a=(0,mu.Y)(o);return Je({},i,{mediaFiles:[Ld],adParametersObject:o,adParameters:a,playbackAdParameters:{clickThroughUrl:i.clickThrough,trackingEvents:r,controlsSettings:{controlsVisibility:{}},lang:"ru",packshotSettings:{},contentAfterAd:Bd},originallyConvertedFromVast:i})}function rt(e){const{adParametersObject:t}=e;if(!(0,as.K)(t))throw new Ha.w({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!(0,as.K)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!(0,as.K)(t))return;const{data_params:i}=t;if(!(0,as.K)(i))return;const{misc:r}=i;if(!(0,as.K)(r))return;const{object_id:n}=r;if(!(0,Cl.H)(n))return;const o=i[n];if(!(0,as.K)(o))return;const{click_url:a}=o;if(!(0,as.K)(a))return;const{action_button:s}=a;return(0,Cl.H)(s)?s:void 0}(e.adParametersObject),r=Je({},e.adParametersObject,{adParameters:e.adParametersObject});return Je({},e,{mediaFiles:[Ld],adParametersObject:r,adParameters:JSON.stringify(r),playbackAdParameters:Je({clickThroughUrl:i},t.playbackParameters)})}function nt(e){var t,i;const{adParametersObject:r,clickThrough:n}=e;if(!(0,as.K)(r))throw new Ha.w({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const o="TRUE"===ms.L.getFlagValueAndActivateTestId("SHOULD_NOT_USE_SURVEY_CLICK_THROUGH_URL_AS_CLICK_TRACKING"),a=null!=(t=r.trackingEvents)?t:{};if(!o){const e=(0,fl.k)(a.clickThrough)?a.clickThrough:[];a.clickThrough=[...e,n],Wa.ot.event({name:"UseSurveyClickThroughUrlAsClickTracking",data:{adParametersObject:r},probability:Fa.yl})}const s=Je({},r,{mediaFiles:[Au,...null!=(i=r.mediaFiles)?i:[]],adParameters:Je({},r),trackingEvents:a});return Je({},e,{mediaFiles:[Ld],adParametersObject:s,adParameters:JSON.stringify(s)})}function ot(e){var t,i,r,n,o;let{vastAd:a,secureMode:s}=e;if(void 0===a.mediaFiles[0])return{vastAd:a,reason:void 0};let l;const d=Ke({secureMode:s,vastAd:a});try{l=d?void 0:We(a.adParameters)}catch(m){return Wa.ot.event({name:"PrepareYandexVastDetectionError",data:m}),{vastAd:a,reason:void 0}}const c="motion"===(null==(t=l)?void 0:t.adFormatType),u="themeEmpty"===(null==(i=l)?void 0:i.adFormatType),h="survey"===(null==(r=l)?void 0:r.adFormatType),p="interactiveViewer"===(null==(n=l)?void 0:n.adFormatType),A="clickableVideo"===(null==(o=l)?void 0:o.adFormatType);if(a.adParametersObject){const{mediaFiles:e}=a.adParametersObject;c&&Array.isArray(e)&&e.length>0&&Wa.ot.error({error:new Ha.w({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:a}})})}if(d)return{vastAd:it({secureMode:s,vastAd:a}),reason:"ConvertVideoVastIntoAdCreative"};if(!l||qc)return{vastAd:a,reason:void 0};if(l.isOldVastFormat){if(A)return{vastAd:rt(a),reason:"ConvertClickableOnlyVideo"};if(u)return{vastAd:tt(a),reason:"ConvertVideoBannerThemeEmpty"};if(p)return{vastAd:$e(a),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(c)return{vastAd:et(a),reason:"ConvertMotionVpaidIntoAdCreative"};if(h)return{vastAd:nt(a),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:a,reason:void 0}}function at(e){const{adParametersObject:t}=e;return!!t&&He(t.theme,t)}function st(e){const t=zc(e);return(0,bl.q)(ou,t)}function lt(e){let{mediaFiles:t,adParametersObject:i}=e;if("video-banner_survey"===(null==i?void 0:i.theme))return!0;const[r]=t;return void 0!==r&&function(e){const t=zc(e);return(0,bl.q)(fu,t)}(r.url)}function dt(e){const{adParametersObject:t}=e;return"video-banner_theme_empty"===(null==t?void 0:t.theme)&&gu(e)}function ct(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function ut(e){if(!(0,as.K)(e))return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function ht(){return ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ht.apply(this,arguments)}function pt(e){return"number"===typeof e.repeatNumber}function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},At.apply(this,arguments)}function mt(e){const{adBreak:t}=e;return(0,As.m)(hs.O)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:r}=t;return n(r)?p({url:(0,Qa.Sr)(r,Cu(e)),options:i,win:window}):r}(e)}function vt(e){const{text:t,textColor:i,isVisible:r}=e||Du;return{text:(0,wl.H)(t)?t:Du.text,textColor:i||Du.textColor,isVisible:"boolean"===typeof r?r:Du.isVisible}}function _t(e){const t=[];if(!Array.isArray(e))throw new Ha.w({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Ha.w({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=(0,_l.h)(e,Ue);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Ha.w({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const r=[],n=[];if((0,Ja.E)(i,(e=>{const{type:t}=e;switch(t){case Kc:case Yc:case Zc:r.push(e);break;default:n.push(e)}})),r.length>1)throw new Ha.w({code:"AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const o=r[0];return{errorCodes:t,videoMediaFiles:n,animationMediaFile:o}}function ft(e){const t=[];let i={};if("string"!==typeof e)throw new Ha.w({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(h){throw new Ha.w(h,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!(0,as.K)(i))throw new Ha.w({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:r,adParameters:n,interactiveElements:o=[],mediaFiles:a}=i,{errorCodes:s,animationMediaFile:l,videoMediaFiles:d}=_t(a),c=(0,Ga.U)(s,(t=>new Ha.w({code:t,details:{adParametersString:e}})));return t.push(...c),{raw:i,parsed:{tickerData:vt(r),animationMediaFile:l,videoMediaFiles:d,adParameters:(u=n,"string"===typeof u?u:(0,as.K)(u)?ge(u):void 0),interactiveElements:o},errors:t};var u}function gt(e){for(const{width:t,height:i}of e){const e=Number(t),r=Number(i);if(l(e)&&l(r))return{width:e,height:r}}}function yt(e,t){return(0,Nu.s)(qe(e,t),(e=>"js"===ze(e)))}function Et(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&function(e){let{url:t}=e;return t===Vd}(i)}function Tt(e){let{adParametersObject:t}=e;const i=null==t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return(0,as.K)(r)&&r.url===hu.url}function St(e,t){const i=[],r=[];return(0,Ja.E)(e,((n,o)=>{t(n,o,e)?i.push(n):r.push(n)})),[i,r]}function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},wt.apply(this,arguments)}function bt(e){let{animationMediaFile:t,win:i}=e;const{url:r}=t,n=Jc[r];if(r===Fd)return{teardown:za.Z,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t,adParametersString:i},duration:r}=e;const n=new Lu;let o;return{startAd(){if(!(0,wl.H)(i))throw new Ha.w({code:"NO_AIM_AD_CREATIVE_INVALID_PARAMETERS",details:{adParametersString:i}});const{filterReasons:e}=JSON.parse(i);o=t.ownerDocument.createElement("div"),S(o,Mu);const a=t.ownerDocument.createElement("h2");a.textContent="\u041d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e",S(a,Bu),o.appendChild(a);const s=t.ownerDocument.createElement("p");if(S(s,xu),s.textContent="\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435, \u043d\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0435",o.appendChild(s),e&&e.length){s.textContent=s.textContent+". \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u044b \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b:";const i=t.ownerDocument.createElement("ul");S(i,Uu),(0,Ja.E)(e,(e=>{let{id:r,description:n}=e;const o=t.ownerDocument.createElement("li");o.textContent="#"+r+": "+n,i.appendChild(o)})),o.appendChild(i)}return t.append(o),Wa.ot.event({name:"NoAimScreenShowStarted",data:void 0}),new Promise((e=>{n.start(),n.addCallback(r*Vu,(()=>{n.destroy(),Wa.ot.event({name:"NoAimScreenShowCompleted",data:void 0}),e({reason:"complete"})}))}))},stopAd(){n.destroy(),Wa.ot.event({name:"NoAimScreenShowStopped",data:void 0}),(0,Ua.L)(o)},pauseAd(){n.stop()},resumeAd(){n.start()},getAdRemainingTime:()=>Math.max(r-n.getTime()/Vu,0),getAdDuration:()=>r}}({adCreativeInitParameters:e,duration:15});return{promise:Promise.resolve(t),teardown:za.Z}}))};if(void 0!==n){0;let e=za.Z;const t=new Promise(((t,r)=>{e=(0,Ru.$)({moduleName:n,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:Ru.h})}));return{teardown:e,promise:t}}const{promise:o,teardown:a}=(0,ku.C)({src:r,win:i});return{promise:o.then((()=>i.initAdCreative)),teardown:a}}function Ct(e){let t;try{t=e.devicePixelRatio}catch(Lm){}return l(t)?t:1}function Ot(e){if(!(0,wl.H)(e))return;return e.split(",")[0].trim()}function It(e){return 0===e.indexOf("avc1.")}function Pt(e){return 0===e.indexOf("hvc1.")}function Dt(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function Nt(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function Rt(e){let{mediaFile:t,abFlags:{disableVp9:i,enableH265:r,disable144p:n}}=e;const o=Ot(t.codec);if((0,wl.H)(o)){if(n&&144===function(e){let{width:t,height:i}=e;if(l(t)&&l(i))return Math.min(t,i)}(t))return"quality144pIsDisabled";if(!It(o)&&!Dt(o))return function(e){return 0===e.indexOf("hev1.")}(o)||Pt(o)?r?void 0:"h265CodecIsDisabled":Nt(o)?i?"vp9CodecIsDisabled":void 0:"unsupportedVideoCodec"}}function kt(e){let{mediaFile:t,canPlayType:i}=e;const{type:r,codec:n}=t;if(!(0,Cl.H)(r))return"noType";if(r===fh&&Ah.$)return"cannotPlayWebmDueToMacOSLimitations";if(!i(gh({type:r,codec:n})))return"cannotPlay";const o=Rt({mediaFile:t,abFlags:{enableH265:!0===_h,disableVp9:vh,disable144p:!0===mh}});return o||void 0}function Vt(e){let{slotSize:t,videoSlotSize:i,videoContentSize:r}=e;const n=void 0===r?t.width/t.height:r.width/r.height,o=i.width/i.height>n,a=o?i.height*n:i.width/n,s=o?i.height:i.width,l={width:o?a:s,height:o?s:a},d=Math.min(t.width,l.width)/Math.min(t.height,l.height),c=t.width/t.height>d;return{adjacentSize:c?t.height*d:t.width/d,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function Lt(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!i)return yh;if(void 0===i.width&&void 0===i.height)return yh;const{innerSize:n,adjacentSize:o,extraHorizontalSpace:a}=Vt({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=n/(o/(a?t.width:t.height)),l=n/(1-r);return{multiplier:Math.min(s,l)/n,isVertical:a}}function Mt(e){let{videoContentSize:t,slotSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!t)return{reason:"unknownVideoContentSize",value:us.videoPixelRatio};let{width:n,height:o}=t;if((0,Cl.H)(n)&&(n=Number(n),Eh()),(0,Cl.H)(o)&&(o=Number(o),Eh()),!s(n)||!s(o))return{reason:"hasIncorrectWidthAndOrHeight",value:1e3};if(n<0||o<0)return{reason:"incorrect",value:us.videoPixelRatio};if(0===o||0===i.height)return{reason:"incorrect",value:us.videoPixelRatio};if(0===n||0===i.width)return{reason:"incorrect",value:us.videoPixelRatio};const a=n/o;return{reason:"normal",value:(i.width/i.height>a?o/i.height:n/i.width)/(r?Lt({slotSize:i,adContentSize:t,allowedToHideVideoSlotAreaPortion:r}).multiplier:1)}}function Bt(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&(0,As.m)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&(0,As.m)(t.prototype.appendBuffer)&&(0,As.m)(t.prototype.remove))}(e)?t:void 0}function xt(e){let{type:t}=e;return Ch||Oh?!Ch&&Oh?"noMse":Ch&&!Oh?"noFetch":(0,wl.H)(t)?-1===t.toLowerCase().indexOf(fh)?"isNotWebm":bh?void 0:"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function Ut(e){return!!(0,wl.H)(e)&&Ph.indexOf(e.toLowerCase())>-1}function Ft(e){let{mediaFile:t,opts:{desiredBitrate:i}}=e;if(function(e){return!!Ut(e.type)&&Ac(Dh,(t=>!l(e[t])))}(t))return 0;if(function(e){const{minBitrate:t,maxBitrate:i}=e;return l(t)&&l(i)}(t)){const{minBitrate:e,maxBitrate:r}=t;return i<e?e-i:i>r?r-i:0}const{bitrate:r}=t;return l(r)?r-i:2e4}function Ht(e,t){const{value:i,reason:r}=Mt({videoContentSize:e,slotSize:t.container,allowedToHideVideoSlotAreaPortion:t.allowedToHideVideoSlotAreaPortion}),n=function(e){let{videoPixelRatio:t,opts:{perfectVpr:i,vprMoreThanOneMultiplier:r}}=e;const n=t-i;return n<0?n:n*r}({videoPixelRatio:i,opts:t});let o;o=l(t.desiredBitrate)?Math.abs(n*t.vprPriorityFactor):Math.abs(n);const a=function(e){let t,{mediaFile:i,videoPixelRatioDistance:r,opts:{desiredBitrate:n,container:o,bitratePriorityFactor:a}}=e;if(l(n)){const e=Ft({mediaFile:i,opts:{desiredBitrate:n,container:o}});return(0,za.Z)(r),Math.abs(e)}return t=l(i.bitrate)?i.bitrate:2e4,a*t}({mediaFile:e,videoPixelRatioDistance:n,opts:t}),s=function(e){let{type:t,mediaFileTypePriorities:{webm:i,mp4:r,hls:n,unknown:o,unset:a}}=e;if(!(0,wl.H)(t))return a;const s=t.toLowerCase();return s===fh?i:"video/mp4"===s?r:Ut(t)?n:o}({type:e.type,mediaFileTypePriorities:t.mediaFileTypePriorities}),d=function(e,t){return t.isVideoADB?void 0===xt(e)?0:1:0}(e,t);return{videoPixelRatio:i,videoPixelRatioReason:r,videoPixelRatioSolution:o,mediaFileTypePrioritySolution:s,bitratePrioritySolution:a,adbCompatibilitySolution:d}}function Wt(e){if(!function(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}(e))return"invalidObject";const{type:t,codec:i,url:r,maxBitrate:n,minBitrate:o,vmafAvg:a,hasAudio:s}=e;let{width:d,height:c,bitrate:u}=e;if(d=null===d?void 0:d,c=null===c?void 0:c,u=null===u?void 0:u,void 0===u||l(u)||Nh(e),void 0===a||l(a)||Lh(e),void 0===i||(0,wl.H)(i)||Rh(e),void 0===d&&void 0===c||l(d)&&l(c)||Vh(e),(void 0!==o||void 0!==n)&&(!l(o)||!l(n)||o>=n))return"invalidMinMaxBitrate";if("string"!==typeof r)return"invalidUrl";if(!r.trim())return"emptyUrl";if(void 0!==t){if(!(0,Cl.H)(t))return"invalidType";0===t.trim().length&&Mh(e)}return void 0!==s&&"boolean"!==typeof s&&kh(e),{type:t,codec:i,url:r,width:d,height:c,bitrate:u,maxBitrate:n,minBitrate:o,vmafAvg:a,hasAudio:s}}function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},zt.apply(this,arguments)}function jt(e,t,i){const r=Date.now(),n=[],o=[],a=[];for(const l of e){const e=Wt(l);if((0,Cl.H)(e))n.push({mediaFile:l,reason:e});else{const i=e,r=kt({mediaFile:i,canPlayType:t.canPlayType});(0,Cl.H)(r)?o.push({mediaFile:i,reason:r}):a.push(i)}}const s=(0,Ga.U)(a,(e=>Ht(e,t))),d=l(t.desiredBitrate)?"desiredBitrate":"videoPixelRatio",c=(0,Ga.U)(s,(e=>{let{videoPixelRatioSolution:t,bitratePrioritySolution:i,mediaFileTypePrioritySolution:r,adbCompatibilitySolution:n}=e;return t+i+r+n})),u=(0,Ga.U)(c,((e,t)=>zt({},a[t],s[t],{prioritySolution:e}))),h=function(e,t,i){if(e.length<1)return;let[r]=e,n=t(r);for(let o=1;o<e.length;o++){const a=e[o],s=t(a);i(s,n)<0&&(r=a,n=s)}return r}(u,(e=>{let{prioritySolution:t}=e;return t}),((e,t)=>e-t));let p,A;var m;((0,ja.q)("prioritisedMediaFiles=["+JSON.stringify(u)+"]"),(0,ja.q)("invalidMediaFiles=["+JSON.stringify(n)+"]"),(0,ja.q)("notPlayableMediaFiles=["+JSON.stringify(o)+"]"),h)&&(p=Ot(h.codec),A=null==(m=h.type)?void 0:m.split("/")[1]);const v={codec_vp8:0,codec_vp9:0,codec_avc:0,codec_hvc:0,codec_unknown:0};(0,wl.H)(p)?Dt(p)?v.codec_vp8=1:Nt(p)?v.codec_vp9=1:It(p)?v.codec_avc=1:Pt(p)?v.codec_hvc=1:v.codec_unknown=1:v.codec_unknown=1;const _={type_webm:0,type_mp4:0,type_m3u8:0,type_unknown:0};(0,wl.H)(A)?"webm"===A?_.type_webm=1:"mp4"===A?_.type_mp4=1:"m3u8"===A?_.type_m3u8=1:_.type_unknown=1:_.type_unknown=1;const f={method_desiredBitrate:"desiredBitrate"===d?1:0,method_videoPixelRatio:"desiredBitrate"===d?0:1},{adBreak:g,adPodId:y,initiator:E}=i,T=zt({},Bh,{["initiator_"+E]:1});return Wa.ot.values({name:"PrioritiseMediaFiles",data:{adBreak:g,adPodId:y,initiator:E,input:zt({},t,{dpr:Ct(window)}),output:{invalidMediaFiles:Od(n),notPlayableMediaFiles:Od(o),mediaFiles:Od(u),mediaFile:h?zt({},h):void 0,methodType:d}},labels:{},values:zt({timeSpent:Date.now()-r},f,_,v,T)}),{prioritisedMediaFile:h,invalidMediaFiles:n,notPlayableMediaFiles:o,playableMediaFiles:u}}function Gt(e){let{scope:t,errorType:i,error:r,details:n}=e;return new Ha.w(r,{code:xh(t,i),details:n})}function qt(e,t){const i=[];i.push((0,qa.V)({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{event:e})}})),i.push((0,qa.V)({element:e,eventName:"error",listener:(e,i,r,n,o)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:n,error:o,filename:null==e?void 0:e.filename,message:null==e?void 0:e.message})}})),i.push((0,qa.V)({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const r=new Fh({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:n}=e,o=new Error;0===r.length&&0===n.length&&t(o,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),(0,Ja.E)((0,Uh.J)({reports:r,records:n}),(e=>{let[r,n]=e;return(0,Ja.E)(n,(e=>{t(o,function(e){if(!(0,as.K)(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!(0,wl.H)(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if((0,as.K)(i)&&(0,wl.H)(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})}))}))}});return i.push((()=>{r.destroy()})),()=>(0,Ka.p)(i)}function Kt(e,t){return qt(e,((e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&(t.indexOf(Wa.FO)>-1||t.indexOf(Wa.Zn)>-1))return}}t(e,i,r)}))}function Yt(e){return 0===Wh.length&&(Hh=window.setInterval((()=>{Wh.forEach((e=>e()))}),250)),Wh.push(e),()=>{const t=Wh.indexOf(e);t>-1&&Wh.splice(t,1),0===Wh.length&&clearInterval(Hh)}}function Zt(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&w(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;(0,Ua.L)(i)}function Xt(){const e=Zt(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}function Jt(){return Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Jt.apply(this,arguments)}function Qt(e){if(qh.O&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function $t(){return $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},$t.apply(this,arguments)}function ei(){return ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ei.apply(this,arguments)}function ti(){return ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ti.apply(this,arguments)}function ii(e){return[...e].sort(((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:-1===i?1:-1===r?-1:i-r}))}function ri(e){return function(e){return void 0===e?"Inline":r(e)?"AdFox":n(e)?"Yandex":""}(e)+"WrapperVASTLoaded"}function ni(){return ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ni.apply(this,arguments)}function oi(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:o},isAdFox:a,url:s,adPlacementOptions:l,adConfig:d}=e;return t=a||s&&r(s)?"AD_FOX":s&&n(s)?"YANDEX":"EXTERNAL",{adPlacementOptions:l,vastSourceType:t,vastTimeout:i,wrapperMaxCount:o,requestMethod:yc({secureMode:d.secureMode,url:s})?"VASFrame":"XMLHttpRequest"}}function ai(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,win:n}=e;const o=i.adFoxParameters||t.adFoxParameters;if(o)return async function(e){return new Wc(e).loadVastPromise}({adConfig:ni({},t,{adFoxParameters:o}),adBreak:i,adPlacementOptions:r});const{loadHarmlessVastCallback:a}=t,s=t.hasOwnProperty("vast")?t.vast:void 0,l=i.inlineVast,d=null!=s?s:l,c=oi({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:r});if(d)return oc({xmlString:d,loadParameters:c,vastUrl:void 0}).then((e=>(a&&0===e.children.length&&a({adPods:(0,Ga.U)(e.ads,(e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}}))}),e)));const u=t.vastUrl?t.vastUrl:mt({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:r,win:n});return uc({url:u,loadParameters:oi({adConfig:t,adBreak:i,isAdFox:!1,url:u,adPlacementOptions:r})})}async function si(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await ai(e)}catch(l){throw l.details||(l.details={}),l.details.adConfig=t,m(l),l}const n=[];for(const d of r.ads)try{var o;const e=d.mediaFiles[0],i=null!=(o=null==e?void 0:e.url)?o:"",r=zc(i)===Gc||st(i)||dt(d)||at(d)||lt(d)||Ke({secureMode:t.secureMode,vastAd:d});if(Boolean(e)&&r){const{vastAd:e,reason:i}=ot({secureMode:t.secureMode,vastAd:d});i&&Wa.ot.event({name:i,data:{previous:d,next:e},probability:Fa.yl}),n.push(e)}else n.push(d)}catch(l){Wa.ot.error({error:l})}r.children.length>0&&Wa.ot.event({name:ri(r.url),data:{vast:r}});const a=(0,Ga.U)(n,(e=>(e.vast=r,new np(i,e,t)))),s=ii(a);if(0===s.length)throw new Ha.w({code:"NO_AD_SECTION",details:void 0});if((0,_l.h)(s,(e=>e.hasMediaFiles())).length>0)return{mediaAds:s,vast:r};if(function(e){return es(e,(e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length))}(s)){const e=yl((0,Ga.U)(a,(e=>e.vastAd.mediaFiles)));throw new Ha.w({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Ha.w({code:"NO_AD_TO_DISPLAY",details:void 0})}function li(e,t){return(0,_l.h)(e,(e=>e.adType===t))}function di(e,t){const i=f(t,((t,i)=>e.style[i]));return S(e,t),(0,Ps.I)((()=>{S(e,i)}))}function ci(e,t){void 0===t&&(t=window);return("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function ui(e){const t=e.getRootNode;if((0,As.m)(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function hi(e){return!!e&&"ShadowRoot"===(0,al.M)(e)}function pi(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=ui(i);if(!hi(e)||!ap(e.host))return!1;i=e.host}return!1}function Ai(e,t){const i={};return(0,dl.Z)(t).forEach((t=>{i[t]=e.getAttribute(t)})),w(e,t),(0,Ps.I)((()=>{w(e,i)}))}function mi(e){e&&"function"===typeof e.catch&&e.catch((e=>{}))}function vi(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&(0,rs.E)(i)?i:void 0}function _i(e){if(!Wu)return Promise.reject();const t=(i=e.play)[Ap]||i;var i;if((0,rs.E)(t))return t.call(e);const r=vi("HTMLVideoElement")||vi("HTMLMediaElement");if(r)return r.call(e);const n=document.createElement("div");n.style.display="none",document.body.appendChild(n);const o=vi("HTMLMediaElement",(0,pp.Q)(n).contentWindow);if(o){const t=o.call(e);return(0,Ua.L)(n),t}return e.play()}function fi(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);const t=(0,fp.i)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1}(e))return Ci({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.OrsaySmartTV})}function gi(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);const t=(0,fp.i)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1}(e))return Ci({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.PlayStationSmartTV})}function yi(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);return(0,fp.i)(e).toLowerCase().indexOf("tizen")>-1}(e))return function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);const t=(0,fp.i)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}(e);return 2===t.major&&3===t.minor}(e)?Ci({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:gp.Tizen23SmartTV}):Ci({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.TizenSmartTVModern})}function Ei(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);return(0,fp.i)(e).toLowerCase().indexOf("web0s")>-1}(e))return Ci({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.WebOSSmartTV})}function Ti(e,t,i,r){const n=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),o=Tp.FF?n:n.capture,a=n.once&&!Tp.vE?function(e){s(),i.call(this,e)}:i,s=()=>{(0,Ep.f)(e,t,a,o)};return(0,Ep.h)(e,t,a,o),s}function Si(e,t){void 0===t&&(t={});let i=0;const r=[],n=(t,n)=>{r.push(Ti(e,t,n,wp)),clearTimeout(i)},o=()=>(0,Sp.p)(r),a=new Promise(((r,o)=>{const a=t=>{e.paused&&o(t)},s=_i(e);if(a(yp.VideoTagPaused),n("durationchange",(()=>a(yp.VideoTagPausedAfterDurationChange))),n("error",(()=>a(yp.VideoTagPausedAfterError))),n("pause",(()=>o(yp.PauseEvent))),n("playing",(()=>{r(yp.PlayingEvent)})),s)t.useProgressEvent&&n("progress",(()=>{r(yp.ProgressEvent)})),s.then((()=>r(yp.PromiseResolve))).catch((e=>o(function(e){return e?yp.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":yp.PromiseReject}(e))));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout((()=>{o(yp.Timeout)}),t.timeoutForNonPromisePlay))}}));return a.then(o,o),a}function wi(e,t){const{paused:i}=e,r=t();return i||mi(_i(e)),r}function bi(){return bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},bi.apply(this,arguments)}function Ci(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:r}}function Oi(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=mp(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),Ci({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),Ci({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:gp.YaBroAllowedToPlay})):(t(),Ci({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:gp.YaBroAllowedToPlay})))}(e));const t=Ei();if(void 0!==t)return Promise.resolve(t);const i=fi();if(void 0!==i)return Promise.resolve(i);const r=gi();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(bi({},Ip,{detectionMethod:gp.TizenAVPlay}));const n=yi();if(void 0!==n)return Promise.resolve(n);return cp&&dp<=9||bp?Promise.resolve(bi({},Op,{detectionMethod:gp.IOS9OrLess})):Wu?Cp?Promise.resolve(bi({},Ip,{detectionMethod:gp.OldIE})):void 0:Promise.resolve(bi({},Op,{detectionMethod:gp.HTML5VideoIsNotSupported}))}function Ii(){return Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ii.apply(this,arguments)}function Pi(e){return void 0===e&&(e=""),e.replace(zp,(e=>e in jp?jp[e]:e))}function Di(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!(0,as.K)(i)||!(0,as.K)(i.data_params))return;const r=Il(i.data_params);if(!(0,as.K)(r))return;let n=null==(t=r.click_url)?void 0:t.action_button;const o=ms.L.getFlagValueAndActivateTestId("CHANGE_CLICK_THROUGH_LOGIC");var a,s;if("ACTION_BUTTON_PRIORITY"===o)n=(null==(a=r.click_url)?void 0:a.action_button)||(null==(s=r.click_url)?void 0:s.text_name);else if("TEXT_NAME_PRIORITY"===o){var l,d;n=(null==(l=r.click_url)?void 0:l.text_name)||(null==(d=r.click_url)?void 0:d.action_button)}return(0,wl.H)(n)?n:void 0}function Ni(e){return l(e)&&function(e){return s(e)&&Math.floor(e)===e}(e)}function Ri(e){return!(0,dl.Z)(e).length}function ki(e){if(!(0,as.K)(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!(0,as.K)(t)||!(0,as.K)(t.data_params))return[];const i=Il(t.data_params);if(!(0,as.K)(i)||!(0,as.K)(i.text))return[];const r=i.text,n=i.unmoderated||r.unmoderated||{};return Gp(n.images)}function Vi(e){var t,i;if(!(0,as.K)(e))throw new Ha.w({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:r,LEGAL_TEXT:n,HAS_LEGAL:o}=e,a=Il(null!=(t=null==r?void 0:r.data_params)?t:{}),{warning:s,dynamic_disclaimer:l,banner_flags:d}=null!=(i=null==a?void 0:a.text)?i:{},c=null!=d?d:[],u=(0,bl.q)(c,"medicine"),h=(0,bl.q)(c,"dietarysuppl"),p=(0,bl.q)(c,"distance_sales"),A=o&&(null==n?void 0:n.trim())&&n,m=(0,wl.H)(s)&&"1"===l?s:void 0;(o||(0,wl.H)(A)||(0,wl.H)(m)||u||h||p)&&Kp({HAS_LEGAL:o,LEGAL_TEXT:n,dynamic_disclaimer:l,warning:s,hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p});return{hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p,legalInfoText:A||m||void 0}}function Li(){return Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Li.apply(this,arguments)}function Mi(e,t,i){const r=()=>(0,Ga.U)(e,(e=>e.getValue()));let n=t(...r());i(n);const o=()=>{const e=t(...r());n!==e&&(n=e,i(e))},a=(0,Ga.U)(e,(e=>e.add(o)));return()=>{(0,Ka.p)(a)}}function Bi(e,t){if(!t)return;if(!function(e){return(0,bl.q)(_A,e)}(e))return;const i=(0,dl.Z)(t);for(const r of i){const t=fA[r][e];Wa.ot.event({name:t,probability:Fa.yl,data:void 0})}}function xi(e,t){let{width:i,height:r}=e;const n=(0,Ga.U)([i,r],(e=>Math.round(e))),o=Math.min(...n),a=Math.max(...n);return t?o>=160&&a*o>=48e3:o>=180&&a*o>=57600}function Ui(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||!(0,As.m)(t.querySelector))&&t.querySelector(":hover")===e}(e);i&&t(!0);const r=(0,qa.V)({element:e,eventName:"mouseenter",listener:()=>{i||(i=!0,t(!0))}}),n=(0,qa.V)({element:e,eventName:"mouseleave",listener:()=>{i&&(i=!1,t(!1))}});return()=>{r(),n()}}function Fi(){return Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Fi.apply(this,arguments)}function Hi(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return(0,_l.h)(wA,(e=>{let{enabled:i}=e;return i in t}))}(e);if(i.length>0)return i[0];const r=function(e,t){var i,r;return void 0===e&&(e=window),void 0===t&&(t=null!=(i=null==(r=e.HTMLVideoElement)?void 0:r.prototype)?i:{}),(0,_l.h)(wA,(e=>{let{enabled:i}=e;return i in t}))}(e,t);return r.length>0?r[0]:void 0}function Wi(e,t){const i=Hi(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}function zi(e,t){const i=Wi(e);return!!i&&i.contains(t)}function ji(e){const{videoWidth:t,videoHeight:i}=e;if(l(t)&&l(i))return{width:t,height:i}}function Gi(e){let{win:t,slotSize:i,slotVisibilityRatio:r,videoSlotSize:n,adPodId:o,videoNode:a,bufferingTime:d,adBreakType:u,adFormatType:h}=e;const p=function(e){void 0===e&&(e=window);if(void 0===e.screen)return SA;const{width:t=SA.width,height:i=SA.height}=e.screen;return{width:t,height:i}}(t),A=p.width*p.height,m=i.width*i.height,v=0===A?0:m/A,_=Ct(t),f=function(e){var t;void 0===e&&(e=window);const{navigator:i={}}=null!=(t=e)?t:{},{connection:r={}}=i;if("number"===typeof r.downlink)return r.downlink;if("number"===typeof r.downlinkMax)return r.downlinkMax;const n=r.type;if("string"===typeof n||"number"===typeof n)switch(n){case"BLUETOOTH":return 3;case OA:return.384;case IA:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case bA:case"ETHERNET":case CA:case"WIFI":case"MIXED":return 10}return-1}(t),g=a?ji(a):us.videoContentSize;let y=us.videoAvatarSize,E=us.videoFramesInfo,T=us.videoSrc,S=us.videoCurrentSrc,w=us.videoMuted,b=us.videoVolume,C=us.currentTime,O=us.bufferingTimeRatio,I=us.remainingBufferedTime,P=us.isFullscreen;if(a){const{innerSize:e,adjacentSize:r,extraHorizontalSpace:o}=Vt({slotSize:i,videoContentSize:g,videoSlotSize:n});y={width:o?r:e,height:o?e:r},E=c(a),T=a.src,S=a.currentSrc,w=a.muted,b=a.volume;const l=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!s(e.buffered.length)||!(0,As.m)(e.buffered.start)||!(0,As.m)(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map((e=>{let{start:t,end:i}=e;return{start:t,end:i}})).sort(((e,t)=>e.start-t.start)),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],n=i[i.length-1];n.end<e.start?i.push(e):n.end<e.end&&(n.end=e.end)}return i}(t)}(a);C=a.currentTime;const u=(D=l,N=C,(0,Nu.s)(D,(e=>{let{start:t,end:i}=e;return t<=N&&N<=i})));u&&(I=u.end-C),s(C)&&s(d)&&d+C>0&&(O=d/(d+C)),P=zi(t,a)}var D,N;const{value:R}=Mt({videoContentSize:g,slotSize:i});let k=us.videoToDevicePixelRatio;return l(R)&&(k=R/_),{visibility:r,size:i,adPodId:o,relativeSizeRatio:v,screenSize:p,devicePixelRatio:_,downlink:f,videoContentSize:g,videoSlotSize:n,videoAvatarSize:y,videoPixelRatio:R,videoToDevicePixelRatio:k,videoFramesInfo:E,videoSrc:T,videoCurrentSrc:S===T?void 0:S,videoMuted:w,videoVolume:b,bufferingTime:d,currentTime:C,bufferingTimeRatio:O,remainingBufferedTime:I,adBreakType:u,adFormatType:h,isFullscreen:P}}function qi(e){return function(e,t){let i=e;return(0,Ja.E)((0,Uh.J)(t),(r=>{let[n,o]=r;if(void 0===o)return;const a="["+n+"]";if(o!==a)for(;i.indexOf(a)>-1;)(0,Fa.$D)()&&Wa.ot.event({name:"ReplaceVastMacro",data:{macroName:n,macroValue:o,stringToReplace:e,macros:t}}),i=i.replace(a,o)})),i}(e,RA)}function Ki(e){let{trackingUrls:t,options:i,sendBeaconParams:r}=e;if(!Array.isArray(t))return;const n=(0,_l.h)(t,ke),o=(0,Ga.U)(n,qi),s=(0,Ga.U)(o,(e=>p({url:e,options:i,win:window})));(0,Ja.E)(s,(e=>a(e,r)))}function Yi(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!kA.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function Zi(e,t,i){const r=(0,hd.N)((0,Ga.U)((0,Uh.J)(t),(e=>{let[t,i]=e;return[LA(t),i]})));return VA(e,r,i)}function Xi(e){return!!(0,as.K)(e)&&ap(e)}function Ji(e,t){if(MA)return!1;const{left:i,right:r,top:n,bottom:o}=Ll(e),a=r-i,s=o-n,l=e.ownerDocument!==document;let d;if(l){const t=Array.prototype.slice.call(document.getElementsByTagName("iframe"),0);d=(0,Nu.s)(t,(t=>t.contentWindow===e.ownerDocument.defaultView))}return!es(t,(t=>{let[r,o]=t,c=i+(a-1)*(1+r)/2,u=n+(s-1)*(1+o)/2;if(d){const{left:e,top:t}=Ll(d);c+=e,u+=t}const h=document.elementFromPoint(c,u);if(!h||e===h||e.contains(h))return!0;if(l&&h&&"IFRAME"===h.tagName&&h.contentWindow&&h.contentWindow.document.body.contains(e))return!0;if((0,As.m)(e.getRootNode)){if(Qi(h,e))return!0;if($i(h,e))return!0}return!1}))}function Qi(e,t){const i=e.getRootNode();return!(!i||!i.host)&&(!!t.contains(i.host)||Qi(i.host,t))}function $i(e,t){const i=t.getRootNode();return!(!i||!i.host)&&(e===i.host||$i(e,i.host))}function er(e,t,i){let r;const n=new Ml.M,o=Mi(e,t,(e=>{r=e,n.dispatch(e)})),a=new cl.R(r,i),s=n.add(a);return{valueSignal:a,teardown:()=>{s(),o()}}}function tr(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,n=e.getBoundingClientRect();return{winWidth:xA?Math.max(r.clientWidth,(null==i?void 0:i.innerWidth)||0):(null==i?void 0:i.innerWidth)||r.clientWidth||t.body.clientWidth,winHeight:xA?Math.max(r.clientHeight,(null==i?void 0:i.innerHeight)||0):(null==i?void 0:i.innerHeight)||r.clientHeight||t.body.clientHeight,left:n.left,top:n.top,width:n.width,height:n.height}}function ir(e){let{width:t,height:i,top:r,left:n,winWidth:o,winHeight:a}=e;const s=n+t,l=r+i,d=(0,ju.u)(n,0,o),c=(0,ju.u)(r,0,a);return{winWidth:o,winHeight:a,left:d,top:c,width:(0,ju.u)(s,d,o)-d,height:(0,ju.u)(l,c,a)-c}}function rr(e,t){return e.width*e.height/(t.width*t.height)}function nr(e){const t=function(e){return[tr(e),...(0,Ga.U)((0,BA.A)(e),tr)]}(e);let i=ir(t[0]),r=rr(i,t[0]);for(let a=1;a<t.length;a++){const e=t[a];i=ir((n=i,{winWidth:(o=e).winWidth,winHeight:o.winHeight,left:n.left+o.left,top:n.top+o.top,width:n.width,height:n.height})),r=rr(i,t[0])}var n,o;return r}function or(e,t){const i=function(e){const t=(0,FA.k)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?(0,qa.V)({element:e,eventName:i,listener:()=>{t((0,UA.s)(e))}}):za.Z}function ar(e){return(0,Ja.E)((0,dl.Z)(cA),(t=>{const i=cA[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){Wa.ot.error({error:new Ha.w({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Wa.ot.error({error:new Ha.w({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})})),(0,Ja.E)((0,dl.Z)(uA),(t=>{const i=uA[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(n){Wa.ot.error({error:new Ha.w({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else Wa.ot.error({error:new Ha.w({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})})),e}function sr(){return sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},sr.apply(this,arguments)}function lr(){return lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},lr.apply(this,arguments)}function dr(){return dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},dr.apply(this,arguments)}function cr(){return cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},cr.apply(this,arguments)}function ur(e){return Array.isArray(e)?(0,_l.h)(e,(e=>"string"===typeof e&&e.length>0)):[]}function hr(e,t){const i=e[t],{AUCTION_DC_PARAMS:r}=e,n=function(e){if(!(0,as.K)(e))return;const{data_params:t}=e;if(!(0,as.K)(t))return;const{misc:i}=t;if(!(0,as.K)(i))return;const{object_id:r}=i,n=t[r];return(0,as.K)(n)?n:void 0}(r),o=null==n?void 0:n[t],a=null==n?void 0:n.unmoderated;return{rootField:i,bannerParametersField:o,unmoderatedBannerParametersField:(0,as.K)(a)?a[t]:void 0}}function pr(e){const t=[];if(!(0,as.K)(e))return void 0!==e&&t.push(new Ha.w({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t};return{measurers:J(e,((i,r)=>r!==om&&((0,as.K)(i)?!!function(e){return e===om||-1!==nm.indexOf(e)}(r)||(t.push(new Ha.w({code:"UNSUPPORTED_MEASURER",details:{measurerName:r,measurersParameters:e}})),!1):(t.push(new Ha.w({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)))),errors:t}}function Ar(){return Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ar.apply(this,arguments)}function mr(e){return(0,as.K)(e)?f(am,((t,i)=>ur(e[i]))):Od(am)}function vr(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!(0,as.K)(i)&&"sad"===i.sad}function _r(e){if(!e)return{parameters:void 0,errors:[new Ha.w({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(u){return{parameters:void 0,errors:[new Ha.w({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:r,dwell:n,start:o,trackingEvents:a,viewedComplete:s,weborama:l}=t,{measurers:d,errors:c}=function(e){const t=[],{rootField:i,bannerParametersField:r,unmoderatedBannerParametersField:n}=hr(e,"measurers");Boolean(n)&&t.push(new Ha.w({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:o,errors:a}=pr(n),{measurers:s,errors:l}=pr(r),{measurers:d,errors:c}=pr(i);return t.push(...a,...l,...c),(0,gl.u)([o,s,d],((e,t)=>{const i=(0,dl.Z)(t).length>0;return e+Number(i)}),0)>1&&t.push(new Ha.w({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Ar({},o,s,d),errors:t}}(t);return{parameters:{measurers:d,viewability:mr(i),dwell:mr(n),trackingEvents:Z(Y(a),{encounters:ur(r),viewedComplete:ur(s),start:ur(o)}),weborama:l,skipAdSdkDetect:vr(t)},errors:c}}function fr(e){return e<2?1e3:2===e?3e3:5e3}function gr(){return gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},gr.apply(this,arguments)}function yr(e,t,i){void 0===i&&(i={});const r=e,{onStop:n=za.Z,onInitMeasurer:o=za.Z,onTrackEvent:a=za.Z,onExecutionError:s=za.Z,onAdError:l=za.Z,onPlayingStateChange:d=za.Z,onSlotHoverStateChange:c=za.Z,onSlotVisibilityStateChange:u=za.Z,onSlotSizeChange:h=za.Z}=i,p=new lm(r,t,{onStop:n,onInitMeasurer:o,onTrackEvent:a,onExecutionError:s,onAdError:l,onPlayingStateChange:d,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h}),A=function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r}=t;const n=f(lA,((e,t)=>function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i(t,r)}));return(0,Ja.E)((0,dl.Z)(dA),(t=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})})),n}(r,p);return{measurableVPAIDCreative:A,userInteractionDispatchers:p.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:p.vpaidCreativeProxyForMeasurers}}function Er(){return Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Er.apply(this,arguments)}function Tr(e){let{eventName:t,trackingEventDetails:i,trackingUrls:r,options:{devicePixelRatio:n,downlink:o,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoContentSize:c,videoSlotSize:u,videoAvatarSize:h,videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,videoCurrentSrc:_,videoMuted:f,videoVolume:g,bufferingTime:y,bufferingTimeRatio:E,currentTime:T,remainingBufferedTime:S,adBreakType:w,adFormatType:b,isFullscreen:C,adPodId:O},pixelsSource:I}=e;const P=um[t],D=void 0===P?1:P+1;um[t]=D;const N={videoSlotSize:u,videoContentSize:c,videoAvatarSize:{width:Math.round(h.width),height:Math.round(h.height)},videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,bufferingTime:y,bufferingTimeRatio:E,currentTime:T,remainingBufferedTime:S},R={devicePixelRatio:n,downlink:o,relativeSizeRatio:a,screenSize:s,size:l,visibility:d,videoCurrentSrc:_,videoMuted:f,videoVolume:g,adBreakType:w,adFormatType:b,isFullscreen:C,adPodId:O},k=Er({trackingUrls:r,trackingEventDetails:i,isVisibilityReliable:nl(),counterInBundle:D},N,R);1e3===D&&Wa.ot.error({error:new Ha.w({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:Er({eventName:t,eventTrackingsCounts:um},k)})});const V="vast"===I?(e=>"VastTracking_"+e)(t):(e=>"AdParametersTracking_"+e)(t),L="vast"===I&&(0,bl.q)(dm,t)?Fa.Vn:Fa.yl;Wa.ot.event({name:V,probability:L,data:k,labels:{},queryParams:{"pcode-version":null==cm.d?void 0:cm.d.pom3aZI0LvzQsion,"widget-version":null==cm.d?void 0:cm.d.widgetVersion}})}function Sr(e,t){const i=(0,qa.V)({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(n(),t())}}),r=(0,qa.V)({element:e,eventName:"playing",listener:()=>{e.duration>0&&(n(),t())}}),n=()=>{i(),r()};return n}function wr(){return wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},wr.apply(this,arguments)}function br(e){const t=new ym(e),i=ar(t),{measurableVPAIDCreative:r,userInteractionDispatchers:n}=yr(i,{encountersTrackingMode:e.intrinsicAdCreativeType,visibilityRatio:e.visibilityRatio,measurersSlot:e.measurersSlot,verifyLogAdditionalData:e.verifyLogAdditionalData},{onStop:e=>{let{error:t,reason:i}=e;t?Wa.ot.error({error:t}):Wa.ot.event({name:"AdCreativeMeasured",probability:Fa.yl,data:{stopReason:i}})},onInitMeasurer:e=>{!function(e){if("yandexTestMeasurer"===e.measurerName)return;const t=vA[e.measurerName];Wa.ot.event({name:t,probability:Fa.yl,data:void 0})}(e)},onTrackEvent:e=>{Tr(e)},onExecutionError:e=>{Wa.ot.error({error:e})},onAdError:e=>{let{error:t}=e;Wa.ot.errorToStats(t)}});return{creative:r,wrapper:t,userInteractionDispatchers:n}}function Cr(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Or(e){return Boolean(e.IntersectionObserver)&&!(0,rs.E)(e.IntersectionObserver)}function Ir(e){var t,i,r,n,o,a,s,l;const d=null!=(t=null!=(i=null!=(r=null!=(n=e.requestAnimationFrame)?n:e.mozRequestAnimationFrame)?r:e.webkitRequestAnimationFrame)?i:e.msRequestAnimationFrame)?t:t=>e.setTimeout(t,16.666666666666668),c=null!=(o=null!=(a=null!=(s=null!=(l=e.cancelAnimationFrame)?l:e.mozCancelAnimationFrame)?s:e.webkitCancelAnimationFrame)?a:e.msCancelAnimationFrame)?o:t=>e.clearTimeout(t);return{requestAnimationFrame:d.bind(e),cancelAnimationFrame:c.bind(e)}}function Pr(e,t){for(var i in t)e[i]=t[i];return e}function Dr(e){var t=e.parentNode;t&&t.removeChild(e)}function Nr(e,t,i){var r,n,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?n=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Im.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return Rr(e,a,r,n,null)}function Rr(e,t,i,r,n){var o={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==n?++Dm:n};return null!=Pm.vnode&&Pm.vnode(o),o}function kr(e){return e.children}function Vr(e,t){this.props=e,this.context=t}function Lr(e,t){if(null==t)return e.__?Lr(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?Lr(e):null}function Mr(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return Mr(e)}}function Br(e){(!e.__d&&(e.__d=!0)&&Nm.push(e)&&!xr.__r++||km!==Pm.debounceRendering)&&((km=Pm.debounceRendering)||Rm)(xr)}function xr(){for(var e;xr.__r=Nm.length;)e=Nm.sort((function(e,t){return e.__v.__b-t.__v.__b})),Nm=[],e.some((function(e){var t,i,r,n,o,a;e.__d&&(o=(n=(t=e).__v).__e,(a=t.__P)&&(i=[],(r=Pr({},n)).__v=n.__v+1,qr(a,n,r,t.__n,void 0!==a.ownerSVGElement,null!=n.__h?[o]:null,i,null==o?Lr(n):o,n.__h),Kr(i,n),n.__e!=o&&Mr(n)))}))}function Ur(e,t,i,r,n,o,a,s,l,d){var c,u,h,p,A,m,v,_=r&&r.__k||Mm,f=_.length;for(i.__k=[],c=0;c<t.length;c++)if(null!=(p=i.__k[c]=null==(p=t[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?Rr(null,p,null,null,p):Array.isArray(p)?Rr(kr,{children:p},null,null,null):p.__b>0?Rr(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(h=_[c])||h&&p.key==h.key&&p.type===h.type)_[c]=void 0;else for(u=0;u<f;u++){if((h=_[u])&&p.key==h.key&&p.type===h.type){_[u]=void 0;break}h=null}qr(e,p,h=h||Lm,n,o,a,s,l,d),A=p.__e,(u=p.ref)&&h.ref!=u&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(u,p.__c||A,p)),null!=A?(null==m&&(m=A),"function"==typeof p.type&&null!=p.__k&&p.__k===h.__k?p.__d=l=Fr(p,l,e):l=Hr(e,p,h,_,A,l),d||"option"!==i.type?"function"==typeof i.type&&(i.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=Lr(h))}for(i.__e=m,c=f;c--;)null!=_[c]&&("function"==typeof i.type&&null!=_[c].__e&&_[c].__e==i.__d&&(i.__d=Lr(r,c+1)),Xr(_[c],_[c]));if(v)for(c=0;c<v.length;c++)Zr(v[c],v[++c],v[++c])}function Fr(e,t,i){var r,n;for(r=0;r<e.__k.length;r++)(n=e.__k[r])&&(n.__=e,t="function"==typeof n.type?Fr(n,t,i):Hr(i,n,n,e.__k,n.__e,t));return t}function Hr(e,t,i,r,n,o){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==i||n!=o||null==n.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(n),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==n)break e;e.insertBefore(n,o),a=o}return void 0!==a?a:n.nextSibling}function Wr(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||Bm.test(t)?i:i+"px"}function zr(e,t,i,r,n){var o;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)i&&t in i||Wr(e.style,t,"");if(i)for(t in i)r&&i[t]===r[t]||Wr(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=i,i?r||e.addEventListener(t,o?Gr:jr,o):e.removeEventListener(t,o?Gr:jr,o);else if("dangerouslySetInnerHTML"!==t){if(n)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function jr(e){this.l[e.type+!1](Pm.event?Pm.event(e):e)}function Gr(e){this.l[e.type+!0](Pm.event?Pm.event(e):e)}function qr(e,t,i,r,n,o,a,s,l){var d,c,u,h,p,A,m,v,_,f,g,y=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,s=t.__e=i.__e,t.__h=null,o=[s]),(d=Pm.__b)&&d(t);try{e:if("function"==typeof y){if(v=t.props,_=(d=y.contextType)&&r[d.__c],f=d?_?_.props.value:d.__:r,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in y&&y.prototype.render?t.__c=c=new y(v,f):(t.__c=c=new Vr(v,f),c.constructor=y,c.render=Jr),_&&_.sub(c),c.props=v,c.state||(c.state={}),c.context=f,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Pr({},c.__s)),Pr(c.__s,y.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,f),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,f)||t.__v===i.__v){c.props=v,c.state=c.__s,t.__v!==i.__v&&(c.__d=!1),c.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&a.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,f),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=f,c.props=v,c.state=c.__s,(d=Pm.__r)&&d(t),c.__d=!1,c.__v=t,c.__P=e,d=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(r=Pr(Pr({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),g=null!=d&&d.type===kr&&null==d.key?d.props.children:d,Ur(e,Array.isArray(g)?g:[g],t,i,r,n,o,a,s,l),c.base=t.__e,t.__h=null,c.__h.length&&a.push(c),m&&(c.__E=c.__=null),c.__e=!1}else null==o&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=Yr(i.__e,t,i,r,n,o,a,l);(d=Pm.diffed)&&d(t)}catch(e){t.__v=null,(l||null!=o)&&(t.__e=s,t.__h=!!l,o[o.indexOf(s)]=null),Pm.__e(e,t,i)}}function Kr(e,t){Pm.__c&&Pm.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Pm.__e(e,t.__v)}}))}function Yr(e,t,i,r,n,o,a,s){var l,d,c,u=i.props,h=t.props,p=t.type,A=0;if("svg"===p&&(n=!0),null!=o)for(;A<o.length;A++)if((l=o[A])&&(l===e||(p?l.localName==p:3==l.nodeType))){e=l,o[A]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=n?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),o=null,s=!1}if(null===p)u===h||s&&e.data===h||(e.data=h);else{if(o=o&&Im.call(e.childNodes),d=(u=i.props||Lm).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!s){if(null!=o)for(u={},A=0;A<e.attributes.length;A++)u[e.attributes[A].name]=e.attributes[A].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,i,r,n){var o;for(o in i)"children"===o||"key"===o||o in t||zr(e,o,null,i[o],r);for(o in t)n&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||i[o]===t[o]||zr(e,o,t[o],i[o],r)}(e,h,u,n,s),c)t.__k=[];else if(A=t.props.children,Ur(e,Array.isArray(A)?A:[A],t,i,r,n&&"foreignObject"!==p,o,a,o?o[0]:i.__k&&Lr(i,0),s),null!=o)for(A=o.length;A--;)null!=o[A]&&Dr(o[A]);s||("value"in h&&void 0!==(A=h.value)&&(A!==e.value||"progress"===p&&!A)&&zr(e,"value",A,u.value,!1),"checked"in h&&void 0!==(A=h.checked)&&A!==e.checked&&zr(e,"checked",A,u.checked,!1))}return e}function Zr(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){Pm.__e(e,i)}}function Xr(e,t,i){var r,n;if(Pm.unmount&&Pm.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Zr(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Pm.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(n=0;n<r.length;n++)r[n]&&Xr(r[n],t,"function"!=typeof e.type);i||null==e.__e||Dr(e.__e),e.__e=e.__d=void 0}function Jr(e,t,i){return this.constructor(e,i)}function Qr(e,t,i){var r,n,o;Pm.__&&Pm.__(e,t),n=(r="function"==typeof i)?null:i&&i.__k||t.__k,o=[],qr(t,e=(!r&&i||t).__k=Nr(kr,null,[e]),n||Lm,Lm,void 0!==t.ownerSVGElement,!r&&i?[i]:n?null:t.firstChild?Im.call(t.childNodes):null,o,!r&&i?i:n?n.__e:t.firstChild,r),Kr(o,e)}function $r(e,t){var i={__c:t="__cC"+Vm++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some(Br)},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i}function en(e,t){Pm.__h&&Pm.__h(Um,e,Wm||t),Wm=0;var i=Um.__H||(Um.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function tn(e){return Wm=1,function(e,t,i){var r=en(xm++,2);return r.t=e,r.__c||(r.__=[i?i(t):pn(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=Um),r.__}(pn,e)}function rn(e,t){var i=en(xm++,3);!Pm.__s&&hn(i.__H,t)&&(i.__=e,i.__H=t,Um.__H.__h.push(i))}function nn(e,t){var i=en(xm++,4);!Pm.__s&&hn(i.__H,t)&&(i.__=e,i.__H=t,Um.__h.push(i))}function on(e){return Wm=5,an((function(){return{current:e}}),[])}function an(e,t){var i=en(xm++,7);return hn(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function sn(e,t){return Wm=8,an((function(){return e}),t)}function ln(e){var t=Um.context[e.__c],i=en(xm++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(Um)),t.props.value):e.__}function dn(){zm.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(cn),e.__H.__h.forEach(un),e.__H.__h=[]}catch(Dm){e.__H.__h=[],Pm.__e(Dm,e.__v)}})),zm=[]}function cn(e){var t=Um;"function"==typeof e.__c&&e.__c(),Um=t}function un(e){var t=Um;e.__c=e.__(),Um=t}function hn(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function pn(e,t){return"function"==typeof t?t(e):t}function An(){return An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},An.apply(this,arguments)}function mn(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=mn(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function vn(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=mn(e))&&(r&&(r+=" "),r+=t);return r}function _n(e){const[t,i]=tn(e.getValue());return rn((()=>(i(e.getValue()),e.add(i))),[e]),t}function fn(e,t){var i;const r=(null!=(i=e.ownerDocument)?i:document).createElement("style");return r.type="text/css",r.textContent=t,e.appendChild(r),r}function gn(e){const t=ln(rv);nn((()=>av.useStyleModule(t.element,e)),[e])}function yn(e){let{buttonText:t,onClick:i}=e;return{buttonText:t,openClickThroughUrl:i}}function En(){return En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},En.apply(this,arguments)}function Tn(e){var t,i,r;const n=[vs.x],o=null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)||null==(r=i.data_params)?void 0:r.misc;if((0,as.K)(o)){const{object_id:e="",pageId:t="",impId:i="",campaignid:r="",bidreqid:a=""}=o;n.push(e,t,i,r,a)}return n.join()}function Sn(e){if(!(0,as.K)(e))return!1;if(!(0,wl.H)(e.vendor))return!1;if(!(0,wl.H)(e.javaScriptResource))return!1;const t=e.verificationParameters;return!(!(0,wl.H)(t)&&!(0,as.K)(t))&&!(void 0!==e.trackingEvents&&!(0,as.K)(e.trackingEvents))}function wn(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Sn(t))return!1;return!0}function bn(e){return(0,_l.h)(e,(e=>{const{javaScriptResource:t,trackingEvents:i}=e;try{const e=new URL(t);if(Mv.has(e.hostname))return!0}catch(Lm){Wa.ot.error({error:new Ha.w({code:"OMID_COULD_NOT_CONFIRM_JAVASCRIPT_RESOURCE",details:{errorMessage:Lm.message,javaScriptResource:t}})})}const r=i.verificationNotExecuted;return(0,wl.H)(r)&&a(r.replace("[REASON]","1")),Wa.ot.event({name:"OmidVerificationJavascriptResourceIsNotSupported",data:{parameters:JSON.stringify(e)}}),!1}))}function Cn(){return Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Cn.apply(this,arguments)}function On(e,t){const i=function(e){switch(e){case"limited":return"limited";case"domain":return"domain";default:return"full"}}(t.omidAccessMode);if("TRUE"===ms.L.getFlagValueAndActivateTestId("VAS_ENABLE_OMSDK_TEST_MODE"))return[{vendorKey:"IAS",javaScriptResource:"https://static.adsafeprotected.com/fw.js?ias_campId=CAMP_ID&ias_placementId=AD_GROUP_ID",accessMode:"full",verificationParameters:'{"config":"/rjss/yandex/82444/58348904/skeleton.js?iasProxyPartnerId=32908","host":"https://jsconfig.adsafeprotected.com"}',trackingEvents:{}},{vendorKey:"iabtechlab.com-omid",javaScriptResource:bv,accessMode:"full",verificationParameters:"iabtechlab-Yandex",trackingEvents:{}}];const r=function(e,t){return(0,Ga.U)(e,(e=>Cn({},e,{accessMode:t})))}(e.adVerifications,i),n=function(e,t){if(!e)return[];const{rootField:i,bannerParametersField:r,unmoderatedBannerParametersField:n}=hr(e,"measurers"),o=(0,as.K)(i)&&i.omid,a=(0,as.K)(r)&&r.omid,s=(0,as.K)(n)&&n.omid,l=(0,_l.h)([o,a,s],Boolean);if(0===l.length)return[];const d=(0,_l.h)(l,wn);l.length!==d.length&&Wa.ot.error({error:new Ha.w({code:"OMID_OBJECT_FROM_AD_PARAMETERS_IS_INVALID",details:{adParameters:JSON.stringify(e)}})});const c=d.shift();if(!Array.isArray(c))return[];return(0,Ga.U)(c,(e=>{let{vendor:i,javaScriptResource:r,trackingEvents:n,verificationParameters:o}=e;return{vendorKey:i,javaScriptResource:r,trackingEvents:null!=n?n:{},verificationParameters:(0,wl.H)(o)?o:JSON.stringify(o),accessMode:t}}))}(e.adParametersObject,i),o=bn([...r,...n]);return 0!==o.length?o:void 0}function In(e){let{descriptionText:t,buttonText:i,openClickThroughUrl:r,disableOverlay:n,clickUrl:o}=e;return{descriptionText:t,buttonText:i,openClickThroughUrl:r,disableOverlay:n,clickUrl:o}}function Pn(){return Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Pn.apply(this,arguments)}function Dn(e){var t;if(!n(e)&&!r(e)||!il.g)return e;const i=e_.z[e_.z.length-1],o=null!=(t=null==i?void 0:i.ownerDocument)?t:document;return(0,Qa.Ou)(e,"target_ref",o.referrer)}function Nn(e){var t;if(null!=(t=!Boolean(e.ownerDocument))?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,r=function(e,t){try{if((0,rs.E)(e.attachShadow))return e.attachShadow(t);if((0,rs.E)(e.createShadowRoot))return e.createShadowRoot();if((0,rs.E)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(Lm){}return null}(e,{mode:"open"});if(!r)return null;const n=i.document.createElement("div");return r.appendChild(n),n}function Rn(e,t){if(e===t)return!0;if(!(0,as.K)(e)||!(0,as.K)(t))return!1;if((0,fl.k)(e)!==(0,fl.k)(t))return!1;const i=(0,dl.Z)(e),r=(0,dl.Z)(t);if(i.length!==r.length)return!1;for(const n of r){if(!(n in e))return!1;if(!Rn(e[n],t[n]))return!1}return!0}function kn(){return kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},kn.apply(this,arguments)}function Vn(e){try{(0,ja.q)("Track event=["+e.eventName+"]"),Tr(e=kn({},e,{options:Ln(e.options)})),Ki(e)}catch(t){Wa.ot.error({error:new Ha.w({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function Ln(e){const{size:t,screenSize:i,videoContentSize:r}=e;return kn({},e,{size:f(t,Math.round),screenSize:f(i,Math.round),videoContentSize:r&&f(r,Math.round)})}function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Mn.apply(this,arguments)}function Bn(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,getterError:n,setterError:o}=t;const a=f(lA,((t,n)=>function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];if("function"===typeof e[n])try{return e[n].apply(e,o)}catch(s){i({methodName:n,args:o,error:s})}else r({methodName:n,args:o})}));return(0,Cd.M)(dA,((t,i)=>{Object.defineProperty(a,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){n({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){o({propertyName:i,error:r,value:t})}}})})),a}(t,{methodCallError:e=>{let{methodName:t,args:n,error:o}=e;Wa.ot.error({error:new Ha.w(o,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:Mn({methodName:t,args:n},r())})}),(0,ol.L)(o)},methodAbsent:e=>{let{methodName:t,args:n}=e;Wa.ot.error({error:new Ha.w({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:Mn({methodName:t,args:n},r())})})},getterError:e=>{let{propertyName:t,error:n}=e;Wa.ot.error({error:new Ha.w(n,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:Mn({propertyName:t},r())})}),(0,ol.L)(n)},setterError:e=>{let{propertyName:t,value:n,error:o}=e;Wa.ot.error({error:new Ha.w(o,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:Mn({propertyName:t,value:n},r())})}),(0,ol.L)(o)}})}function xn(e){"function"===typeof e.catch&&e.catch((()=>{}))}function Un(){return Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Un.apply(this,arguments)}function Fn(){return Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Fn.apply(this,arguments)}function Hn(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return(0,as.K)(t)&&(0,wl.H)(t[pl])?t[pl]:(0,wl.H)(i)?i:void 0}function Wn(e){const t=e.packshot_duration;if(!l(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!(0,wl.H)(i))return;const r=Di(e);return void 0!==r?{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:r,packshotButtonText:Hn(e)}:void 0}function zn(e,t){const{adParametersObject:i}=e;if(!(0,as.K)(i))return;const r=Wn(i),n=null==r?void 0:r.packshotImageUrl;if(n)return n;if(!(0,as.K)(i))return;const o=ki(i.adParameters);return 0!==o.length?(e=>{let{size:t,images:i}=e;const{width:r,height:n}=t,o=(0,Ga.U)(i,(e=>{let[t,i,r,n]=e;return{url:t,width:parseInt(i,10),height:parseInt(r,10),smartCenters:n?n["smart-centers"]:[]}})),a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],r=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),n=[];for(const o of i)if(o.width&&o.height&&o.url){const t=Fn({},e,{pixelRatio:r,image:o});n.push(l_(t))}n.sort(((e,t)=>e.coeff-t.coeff));for(const o of n)if(o.coeff>1)return o;return null!=(t=n[n.length-1])?t:{}}({boundingRectangle:{width:r,height:n},images:o,stretch:!0});if(Boolean(a))return a.url;return})({size:t,images:o}):void 0}function jn(e,t){return d_.indexOf(e)>=d_.indexOf(t)}function Gn(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:r}=e;if(jn(t,"start")){if(r){const e=r.params.animationParameters,t=r.params.videoParameters;if(e&&!r.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!r.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return jn(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},qn.apply(this,arguments)}function Kn(e,t){const i=Od(Jd);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const r of A_)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i}function Yn(){const e=Od(Jd);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const n=(0,_l.h)(i,(e=>Boolean(e)));return(0,gl.u)(n,((e,t)=>Kn(e,t)),e)}function Zn(e){const{imhoParams:t}=e;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&st(i.url)}(e))return!1;if(lt(e))return!1;if(Et(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=(0,Ys.Y)((()=>_t(t.mediaFiles)));if(!i)return!1;const{videoMediaFiles:r}=i;if(0===r.length)return!1;if(Ac(r,(e=>!1===e.hasAudio)))return!1}return!t||t.showSoundButton}function Xn(e){if(lt(e))return!1}function Jn(e){const{imhoParams:t,playbackAdParameters:i}=e,r={controlsVisibility:{adLabel:null==t?void 0:t.showLabel,mute:Zn(e),skip:true,play:Xn(e)}};let n;return i&&(n=i.controlsSettings),Yn(r,n)}function Qn(e){let{playbackParameters:t,vastAd:i,adBreak:r}=e;const n=Yn(Jn(i),t.controlsSettings),{skipDelay:o,eventName:a}=function(e){let{vastAd:t}=e;const{skipTime:i,skipOffset:r,playbackAdParameters:n}=t;return n&&s(n.skipDelay)?{skipDelay:n.skipDelay,eventName:void 0}:s(r)?s(i)?{skipDelay:i,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:r,eventName:void 0}:{skipDelay:0,eventName:void 0}}({vastAd:i});let d,c=o;if(l(o)){const e=ms.L.getFlagValueAndActivateTestId("VAS_SKIP_DELAY_SHIFT");if(e){const t=Number(e);s(t)&&(c+=t)}}void 0!==a&&Wa.ot.event({name:a,probability:Fa.yl,data:void 0}),!0===t.backgroundBlur?d="blur":i.backgroundColor&&(d={color:i.backgroundColor});const u=!1===t.packshotSettings.isEnabled,h=(0,as.K)(i.adParametersObject)&&!u?Wn(i.adParametersObject):void 0;let p;var A,m;"number"===typeof t.bufferFullTimeout?p=t.bufferFullTimeout:p=null!=(A=null==(m=i.playbackAdParameters)?void 0:m.bufferFullTimeout)?A:r.bufferFullTimeout;let v;var _,f;l(t.bufferEmptyLimit)?v=t.bufferEmptyLimit:v=null!=(_=null==(f=i.playbackAdParameters)?void 0:f.bufferEmptyLimit)?_:r.bufferEmptyLimit;let g;var y,E;l(t.videoTimeout)?g=t.videoTimeout:g=null!=(y=null==(E=i.playbackAdParameters)?void 0:E.videoTimeout)?y:r.videoTimeout;const T=l(t.vpaidTimeout)?t.vpaidTimeout:r.vpaidTimeout,S=i.adParametersObject?Di(i.adParametersObject):void 0;let w;return(0,wl.H)(t.clickThroughUrl)?w=t.clickThroughUrl:(0,wl.H)(i.clickThrough)?w=i.clickThrough:(0,wl.H)(S)&&(w=S),{controlsSettings:n,background:d,skipDelay:"number"===typeof t.skipDelay?t.skipDelay:c,bufferFullTimeout:p,bufferEmptyLimit:v,videoTimeout:g,vpaidTimeout:T,clickThroughUrl:w,packshotParameters:h,isPackshotDisabled:u}}function $n(e){if("error"===e.reason)return e.details}function eo(){return eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},eo.apply(this,arguments)}function to(e){const{config:t,errors:i}=function(e){const t=[],i=(0,as.K)(e)?e:{};let r;return ap(i.backgroundSlot)?r=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new Ha.w({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),{config:{backgroundSlot:r,clickThroughCallback:(0,As.m)(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:(0,As.m)(i.renderSkin)?i.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0,allowedToHideVideoSlotAreaPortion:i.allowedToHideVideoSlotAreaPortion},errors:t}}(e),{config:r,errors:n}=ie(e);return{config:eo({},t,r),errors:[...i,...n]}}function io(e,t){return(0,Ga.U)(e,(e=>function(e){return"value"in e}(e)?{duration:e.durationPortion*t,value:e.value}:{duration:e.durationPortion*t,values:e.values,easing:"easeInOut"}))}function ro(e,t,i,r,n){const o=t=>{const r=1-t;return 3*r*r*t*e+3*r*t*t*i+t*t*t},a=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*r+e*e*e},s=t=>{const r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*i};return e=>{const t=e;let i,r,l,d,c,u;for(l=t,u=0;u<8;u++){if(c=o(l)-t,Math.abs(c)<n)return a(l);if(d=s(l),Math.abs(d)<1e-6)break;l-=c/d}if(i=0,r=1,l=t,l<i)return a(i);if(l>r)return a(r);for(;i<r;){if(c=o(l),Math.abs(c-t)<n)return a(l);t>c?i=l:r=l,l=.5*(r-i)+i}return a(l)}}function no(e){let{position:t,unit:i,steps:r}=e;const{step:n,stepPosition:o}=function(e,t){let i=0;const{length:r}=t;for(let n=0;n<r;n++){const o=t[n],a=i+o.duration,s=i<=e&&e<a;if(n===r-1||s)return{step:o,stepPosition:i};i=a}throw new Ha.w({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,r);if(function(e){return"value"in e}(n))return n.value;const{duration:a,values:[s,l],easing:d=v_}=n;if(s===l)return s;if(t>=o+a)return l;const c=("function"===typeof d?d:m_[d])((t-o)/a);return(0,__[i])(c,s,l)}function oo(){return oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},oo.apply(this,arguments)}function ao(e){let{height:t,width:i}=e;const r=Math.min(t,i);if(r<300)return 40;if(r>1080)return 70;return 40+30*((r-300)/780)}function so(e){let{width:t}=e;return t<450?"small":"middle"}function lo(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")||function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===af.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?za.Z:Ai(e,{pip:"false"}):za.Z}function co(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:r=!1}=t,n=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),o=n.shift();if(null==o||!o.startsWith("WEBVTT"))throw new Error('Must start with "WEBVTT"');const a=o.split("\n"),s=a[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===n.length&&1===a.length)return{valid:!0,strict:r,cues:[],errors:[]};if(!i&&a.length>1&&""!==a[1])throw new Error("Missing blank line after signature");const{cues:l,errors:d}=function(e,t){const i=[],r=(0,_l.h)((0,Ga.U)(e,((e,r)=>{try{return function(e,t,i){let r="",n=0,o=.01,a="",s="";const l=(0,_l.h)(e.split("\n"),Boolean);if(l.length>0&&l[0].trim().startsWith("NOTE"))return;if(1===l.length&&!po(l[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(l.length>1&&!po(l[0])&&!po(l[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}l.length>1&&po(l[1])&&(r=l.shift());if("string"!==typeof l[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const d=l[0].split(" --\x3e ");if(2!==d.length||!uo(d[0])||!uo(d[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(n=ho(d[0]),o=ho(d[1]),i){if(n>o)throw new Error("Start timestamp greater than end (cue #"+t+")");if(o<=n)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&o<n)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=d[1].replace(lf,"").trim(),l.shift(),a=l.join("\n"),!a)return;return{identifier:r,start:n,end:o,text:a,styles:s}}(e,r,t)}catch(Lm){return void i.push(Lm)}})),Boolean);return{cues:r,errors:i}}(n,r);if(r&&d.length>0)throw d[0];const c=i?function(e){const t={};return(0,Ja.E)(e.slice(1),(e=>{const i=e.indexOf(":"),r=e.slice(0,i).trim(),n=e.slice(i+1).trim();t[r]=n})),(0,dl.Z)(t).length>0?t:void 0}(a):void 0,u={valid:0===d.length,strict:r,cues:l,errors:d};return i&&(u.meta=c),u}function uo(e){return lf.test(e)}function ho(e){const t=e.match(lf);if(null===t)throw new Error("Timestamp parse error");return 3600*parseFloat(t[1]||"0")+60*parseFloat(t[2])+parseFloat(t[3])}function po(e){return-1!==e.indexOf("--\x3e")}function Ao(e,t){const i=()=>{const i=ji(e);t(i)},r=[];return r.push((0,qa.V)({element:e,eventName:"resize",listener:i}),Yt(i)),()=>{(0,Ka.p)(r)}}function mo(e,t,i){function r(){0!==a&&(clearTimeout(a),a=0)}let{threshold:n=uf,delay:o=hf}=void 0===i?{}:i,a=0,s=0,l=0;const d=Ti(e,"click",(function(e){0!==a&&(r(),t(e))}),{passive:!0}),c=Ti(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,l=e.changedTouches[0].screenY,r(),a=window.setTimeout(r,o))}),{passive:!0}),u=Ti(e,"touchend",(function(e){0!==a&&(r(),t(e))}),{passive:!0}),h=Ti(e,"touchmove",(function(e){if(0===a||!(0,as.K)(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(s-e)>n||Math.abs(l-t)>n})(t,i)&&r()}),{passive:!0});return()=>{d(),c(),u(),h()}}function vo(e){const t=e.duration||0;let i=(r=e.currentTime,n=.001,Math.round(r/n)*n||0);var r,n;return t-i<.001&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_o.apply(this,arguments)}function fo(e){return e.muted?0:e.volume}function go(e){if(!Et(e))return!1;const{adParametersObject:t}=e;return!!(0,as.K)(t)&&"theme-empty"===t.adCreativeConversionType}function yo(e){var t,i;const r=!0===e.HAS_TITLE,n=!0===e.HAS_BODY,o=e.BUTTON_POSITION,{data_params:a}=null!=(t=e.AUCTION_DC_PARAMS)?t:{},s=a&&Il(a),{title:l,body:d}=null!=(i=null==s?void 0:s.text)?i:{},c=function(e){let{titleEnabled:t,bodyEnabled:i,body:r,title:n,buttonPosition:o}=e;return t&&i&&r&&n?(0,bl.q)(Sf,o)?o:"right-bottom":(0,bl.q)(wf,o)?o:"left-bottom"}({titleEnabled:r,bodyEnabled:n,buttonPosition:o,title:l,body:d});return"left-bottom"===c||"left-center"===c?{position:c,side:"left",oppositeSide:"right"}:{position:c,side:"right",oppositeSide:"left"}}function Eo(e){const{BUTTON_COLOR:t="#ffdb4d",BUTTON_TEXT_COLOR:i="#000000",BUTTON_BORDER_COLOR:r=""}=e,n=(0,Ga.U)((o=t,[parseInt(o.substr(1,2),16),parseInt(o.substr(3,2),16),parseInt(o.substr(5,2),16)]),(e=>Ni(e)?e:0)).join(", ");var o;return{backgroundColor:"rgb("+n+")",boxShadow:"0 6px 8px rgba("+n+", 0.53)",color:i,borderColor:r}}function To(e,t,i){if(!e)return Cf;const r=bf(e.controlsVisibility),n=Boolean(t.abuseUrl);return{isCloseAvailable:r&&n,isCloseDialogActive:"selection"===i}}function So(e,t){if(void 0===e)return;return!!Of[e]&&Boolean(t)}function wo(e){if(Pf.$<=Fa.Uv){const t=function(e,t){try{const i={hasMediaSourceConstructor:Boolean(Sh),result:[]};return(0,Ja.E)(e,(e=>{const{type:r,codec:n}=e,o=gh(e);i.result.push({method:"video.canPlayType",type:r,codec:n,result:zu(o,t)}),Sh&&i.result.push({method:"MediaSource.isTypeSupported",type:r,codec:n,result:Sh.isTypeSupported(o)})})),i}catch(i){return void Wa.ot.error({error:new Ha.w({code:"CODEC_PLAYABILITY_CHECK_ERROR",details:{error:i}})})}}(Df,e);t&&Wa.ot.values({name:"CodecPlayabilityCheck",values:{},data:t,labels:{},probability:Fa.Uv})}}function bo(){return bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},bo.apply(this,arguments)}function Co(){return Co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Co.apply(this,arguments)}function Oo(e){return(0,gl.u)(e,((e,t)=>e+t.getDuration()),0)}function Io(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"m1 1 3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Po(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M4 1h5v5M9 1 1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function Do(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M9.117 7.349a2.5 2.5 0 0 0 0 3.535.833.833 0 1 1-1.179 1.179 4.167 4.167 0 0 1 0-5.893l2.946-2.946a4.167 4.167 0 1 1 5.893 5.892l-.91.911a.833.833 0 1 1-1.18-1.178l.911-.911a2.5 2.5 0 0 0-3.535-3.536L9.117 7.35Zm1.767 5.302a2.5 2.5 0 0 0 0-3.535.833.833 0 1 1 1.178-1.179 4.167 4.167 0 0 1 0 5.892l-2.916 2.917a4.167 4.167 0 0 1-5.893-5.892l.855-.855a.833.833 0 1 1 1.178 1.179l-.854.854a2.5 2.5 0 0 0 3.535 3.536l2.917-2.917Z",fill:"#498BFF"},[])])}function No(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m11.598 5 2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 0 1-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 0 1-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 0 1 1.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 0 1 2.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 0 1-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 0 1-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 0 1 .417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 0 1-.416.399h-.62a.417.417 0 0 1-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])}function Ro(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M16.256 15.256a.833.833 0 0 0 0-1.179L2.923.744a.833.833 0 1 0-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 0 0 4.171-.9l1.906 1.906a.833.833 0 0 0 1.179 0zm-4.357-3.178A8.309 8.309 0 0 1 9 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0 0 10.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])}function ko(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8.538 5.504c-1.025 0-1.362-.628-1.362-1.21 0-.244.077-.611.138-.825l1.07-4.612h-1.253a.25.25 0 0 1-.243-.307l.076-.325a.35.35 0 0 1 .28-.265l2.838-.5a.5.5 0 0 1 .573.608L12.14 16.05a.189.189 0 0 0 .33.164l1.165-1.425a.322.322 0 0 1 .514.386l-.7 1.013c-.734 1.07-1.407 1.316-1.988 1.316zm.338-9.862c0 .505.398.933 1.102.933.688 0 1.193-.382 1.346-.994.03-.123.046-.26.046-.368 0-.505-.398-.933-1.102-.933-.673 0-1.193.382-1.346.994-.03.123-.046.26-.046.368z",fill:"#498BFF"},[])])}function Vo(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5Z",fill:"#498BFF"},[])])}function Lo(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 1 1-1.178 1.179L.744 5.589a.833.833 0 0 1 0-1.178l3.333-3.334a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"#498BFF"},[])])}function Mo(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42ZM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97Zm11.248 2.6a7.666 7.666 0 0 0-2.053-5.2l-1.73 1.487a5.48 5.48 0 0 1 1.467 3.712 5.48 5.48 0 0 1-1.467 3.714l1.73 1.487a7.667 7.667 0 0 0 2.053-5.2Z",fill:"#F2F2F2"},[])])}function Bo(){return Bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Bo.apply(this,arguments)}function xo(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4 2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4Zm12.907 8.412 2.002 1.686a7.556 7.556 0 0 0 .346-2.258 7.666 7.666 0 0 0-2.054-5.2l-1.732 1.487a5.48 5.48 0 0 1 1.469 3.713c0 .192-.01.383-.031.572Zm3.817 3.215 1.79 1.508A10.962 10.962 0 0 0 23.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 0 1-.85 3.787ZM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907Z",fill:"#F2F2F2"},[])])}function Uo(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14 0 28V0l24 14Zm10 14V0h-4v28h4Z",fill:"#fff"},[])])}function Fo(e){if(e<=0)return"";const t=Math.ceil(e)%100;return(0,xy.Q)(String(t),2,"0")}function Ho(e){return!1!==e.skip}function Wo(){return Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Wo.apply(this,arguments)}function zo(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M.797 11.793 5.587 7 .796 2.207A1 1 0 0 1 2.21.793l5.497 5.5a1 1 0 0 1 0 1.414l-5.497 5.5a1 1 0 0 1-1.414-1.414Z",fill:"#fff"},[])])}function jo(e,t){let i=0;for(let r=0;r<e.length;r++){const n=e.charAt(r);n===n.toLowerCase()?i++:i+=t}return i}function Go(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])}function qo(e){e.styles;var t=Object.assign({},e);return delete t.styles,Nr("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Nr("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30Z",fill:"#000","fill-opacity":".65"},[]),Nr("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 0 0-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 0 0 .713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 0 0 0-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174Z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])}function Ko(e){const t=(0,Ga.U)(e.children,(e=>Ko(e)));return{xmlString:e.xmlString,children:t}}function Yo(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function Zo(e){return"__private_"+aT+++"_"+e}function Xo(e){if(!(0,as.K)(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return _({stickTo:Jo(t,gT),stickyColorScheme:Jo(i,fT)})}function Jo(e,t){if("string"!==typeof e)return;if(!(0,as.K)(t))return;const i=e.toLowerCase();return pe(t).indexOf(i)>-1?i:void 0}function Qo(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?G(i):void 0}function $o(e,t){return"true"===Qo(e,t)}function ea(){return ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ea.apply(this,arguments)}function ta(){return ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ta.apply(this,arguments)}function ia(e,t,i){var r;const n=[],o=i.querySelector("AdSource");if(!o)throw new Ha.w({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let a=0;if(o.hasAttribute("id")){if(a=Number(o.getAttribute("id")),!Ni(a))throw new Ha.w({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else n.push(new Ha.w({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const s=i.querySelector("Extensions");if(!s)throw new Ha.w({code:"NO_AD_BREAK_EXTENSIONS",details:t});const l=o.querySelector("VASTAdData"),d=null!=(r=null==l?void 0:l.querySelector("VAST"))?r:void 0,c=d?(e=>{const t=new XMLSerializer;return t.serializeToString(e)})(d):void 0,u=o.querySelector("AdTagURI"),h=G(u);if(!u||!h)throw new Ha.w({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const p={adTagURI:h,adFoxParameters:void 0,inlineVast:c},A=i.getAttribute("breakType"),m=j(i,"breakId"),v=j(i,"timeOffset","start"),_=()=>new Ha.w({code:"VMAP_INCORRECT_TIME_OFFSET",details:ta({},t,{timeOffset:v,breakIdAttribute:m})});if(-1===_T.indexOf(m))throw new Ha.w({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:ta({},t,{breakIdAttribute:m})});const f=function(e,t){switch(e){case"linear,nonlinear":return[new Ha.w({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case"linear":case"nonlinear":return[];default:throw new Ha.w({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(A,t);let g;if(n.push(...f),"inpage"===m)g=function(e){const t=Qo("Stick",e),i=Xo({stickTo:Qo("StickTo",e),stickyColorScheme:Qo("ColorScheme",e)});return ea({stick:"true"===t,adType:"inpage",replayMode:yT(e)},i)}(s);else if("inroll"===m)g={adType:"inroll"};else if("start"===v){if(vT[v]!==m)throw _();g={adType:"preroll"}}else if("end"===v){if(vT[v]!==m)throw _();g={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(v))throw _();{if("midroll"!==m)throw _();const e=function(e,t){return Number(Qo(e,t))}("MaxRepeatCount",s),t=re(j(i,"repeatAfter")),r={timeOffset:re(v),repeatAfter:isNaN(t)?0:t,maxRepeatCount:isNaN(e)?0:e,repeatNumber:0};g=ta({adType:"midroll",broadcastReplace:$o("BroadcastReplace",s)},r)}}return{adBreak:ta({impId:a},g,e,p),errors:n,events:[]}}function ra(){return ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ra.apply(this,arguments)}function na(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:r}=e;const{xml:n,responseText:o}=t,a={responseText:o,vmapLoadParams:i};if(null===n||void 0===n)throw i?new Ha.w({code:"VMAP_EMPTY_RESPONSE",details:ra({},i,{vmapXmlObject:t})}):new Ha.w({code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=n.querySelector("VMAP");if(!s)throw new Ha.w({code:"NO_VMAP_ROOT_NODE",details:a});const l=s.querySelectorAll("AdBreak");if(null===l||0===l.length)throw new Ha.w({code:"NO_VMAP_AD_BREAKS",details:a});const d=new RT,c=n.querySelector("VMAP > Extensions");if(!c)throw new Ha.w({code:"NO_VMAP_EXTENSIONS",details:a});const u=s.querySelectorAll("TrackingEvents");(0,za.Z)(u);const h=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?G(t):""},p=e=>parseInt(h(e),10);d.isSingleVideoSession="true"===h("SingleVideoSession");const A={sessionId:h("SessionID"),vastTimeout:p("VASTTimeout"),videoTimeout:p("VideoTimeout"),vpaidTimeout:p("VPAIDTimeout"),wrapperMaxCount:p("WrapperMaxCount"),bufferFullTimeout:p("BufferFullTimeout"),bufferEmptyLimit:p("BufferEmptyLimit")},m=[],v=[];for(let f=0;f<l.length;f++)try{const{adBreak:e,errors:t,events:i}=ia(ra({},A,r),a,l[f]);d.adBreaks.push(e),m.push(...t),v.push(...i)}catch(_){m.push(_)}return{vmap:d,errors:m,events:v}}function oa(){return oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},oa.apply(this,arguments)}function aa(e){const t=(0,as.K)(e)?e:{};return _(oa({},Xo(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function sa(){return sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},sa.apply(this,arguments)}function la(e){let t={};try{const i=e.getItem(wT);null!==i&&(t=JSON.parse(i))}catch(r){}const i={};return(0,Kd.M)(t,((e,t)=>{l(e)&&(i[t]=e)})),i}function da(){return da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},da.apply(this,arguments)}function ca(e){let{config:t,adPlacementOptions:i=us,win:r=window}=e;const{partnerId:n}=t;if(!n)throw new Ha.w({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const o=(e=>{const{category:t,vmapScenarioId:i,hasPreroll:r}=e,n=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),o=bu(e);let a;try{a=new bT}catch(l){}let s=0;"number"===typeof t&&a&&(s=a.getWatchedTimeSinceAd({category:t}));return da({[CT.O9]:OT,[CT.Ho]:IT,[CT.Az]:PT,[CT._$]:DT},o,n,{[Ts]:!1===r?"0":!0===r?"1":void 0,[Es]:void 0===i?void 0:String(i),[Ss]:String(Math.floor(s)),client_type:"html"})})(t),a=p({url:(0,Qa.Sr)(""+NT+n,o),ignoreAbd:!0,options:i,win:window}),s=(0,xl.x)(r);return"function"===typeof s?s((0,Qa.Sr)(a,{abd:"1"})):a}function ua(){return ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ua.apply(this,arguments)}function ha(e){if(!(0,as.K)(e))return{};const{partnerId:t,category:i,vmapId:r,vmapScenarioId:n,impId:o,videoContentId:a,additionalParams:s,vmap:l,hasPreroll:d}=e;if(void 0!==o&&!Ni(o))throw new Ha.w({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!Ni(r))throw new Ha.w({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==l&&!(0,wl.H)(l))throw new Ha.w({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==d&&"boolean"!==typeof d)throw new Ha.w({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==n&&!Ni(n))throw new Ha.w({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return ua({},function(e){const t=(0,as.K)(e)?e:{};return _({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:l,hasPreroll:d,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:o,vmapId:r,vmapScenarioId:n,videoContentId:"string"===typeof a?a:void 0,additionalParams:ut(s)})}function pa(){return pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},pa.apply(this,arguments)}function Aa(){return Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Aa.apply(this,arguments)}function ma(e){if(!(0,as.K)(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const n=(r=e.adFoxParameters,(0,as.K)(r)?ge(r)?void 0===r.containerId||(0,wl.H)(r.containerId)?(0,Cl.H)(r.ownerId)?0===r.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT");n?i.push(new Ha.w({code:n,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var r;return{config:t,errors:i}}function va(){return va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},va.apply(this,arguments)}function _a(e){if(!(0,as.K)(e))return{config:{},errors:[]};const{config:t,errors:i}=ma(e),r=ha(e),n=function(e){if((0,as.K)(e))return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?(0,Ga.U)(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?(0,Ga.U)(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?(0,Ga.U)(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),o=function(e){if(!(0,as.K)(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!(0,$d.f)(t))throw new Ha.w({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!(0,$d.f)(i))throw new Ha.w({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),a=function(e){const t={};return(0,as.K)(e)?((0,bl.q)(["full","creative","limited","domain"],e.omidAccessMode)&&(Wa.ot.event({name:"OmidAccessModeIsSetThroughAdConfig",data:{accessMode:e.omidAccessMode},probability:Fa.yl}),t.omidAccessMode=e.omidAccessMode),t):t}(e);return{config:va({},t,r,n,o,a,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&(0,wl.H)(e.vast)?String(e.vast):void 0,desiredBitrate:X(e.desiredBitrate),secureMode:UT(e),preferableAdSize:MT(e),loadHarmlessVastCallback:(0,As.m)(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function fa(e){return(0,wl.H)(e)?e:"0"}function ga(){return ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ga.apply(this,arguments)}function ya(){return ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ya.apply(this,arguments)}function Ea(){return Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ea.apply(this,arguments)}function Ta(e){return!!(0,Cl.H)(e)&&jT.indexOf(e)>-1}function Sa(){return Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Sa.apply(this,arguments)}function wa(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function ba(e){let{rawAdConfig:t,useDefaultAdPlaybackParameters:i=!1,syntheticVMAPType:r="preroll",adPlacementOptions:n=us}=e;const{adConfig:o,adBreak:a,warnings:s}=function(e,t,i){const{vastBase64:r,adBreakType:n}=e,o=wa(e,GT),a=[],s=_a(o),{config:{videoContentId:l},errors:d}=s,c=wa(s.config,qT);a.push(...d);const u=Sa({},c,{videoContentId:fa(l)});let h,p;if(r&&(u.vast=y(r)),Ta(n)?p=n:t&&(a.push(new Ha.w({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),Ta(i)&&(p=i)),p){const e=aa(o);h=Sa({},zT[p],e)}return{adConfig:u,adBreak:h,warnings:a}}(t,i,r);let l;ce(s);const{adFoxParameters:d}=o;if(d){const e=a||LT,t=new RT;t.adBreaks=[e],l={adConfig:o,vmap:t,adBreak:e,adPlacementOptions:n}}else if(a){const e=new RT;e.adBreaks=[a],l={adConfig:o,vmap:e,adBreak:e.adBreaks[0],adPlacementOptions:n}}else if(o.vmap){l={adConfig:o,vmap:(e=>{const t=R(e),{vmap:i,events:r,errors:n}=na({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return ce(n),(0,Ja.E)(r,(e=>Wa.ot.event(Aa({labels:void 0},e)))),i})(o.vmap),adPlacementOptions:n}}return{config:l,parsedAdConfig:o}}function Ca(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function Oa(e){var t;if(!e)return!1;const i=null!=(t=(e.ownerDocument||document).defaultView)?t:window;return Boolean(i.Element)&&e instanceof i.Element}function Ia(e,t){void 0===t&&(t=40);const i=e.ownerDocument,{body:r}=i,n=i.documentElement,o=i.defaultView,a=Math.max(r.scrollHeight,r.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);if(e===n||e===r){return a-((o.pageYOffset||n.scrollTop)-(n.clientTop||0)+o.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function Pa(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let r=i;for(;Boolean(r);){if(Oa(r)&&!Ia(r))return!1;r=r.parentNode||r.host}return!0}function Da(e){return e[tS]}function Na(){return Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Na.apply(this,arguments)}function Ra(){return Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ra.apply(this,arguments)}function ka(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:r}=e;const n=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:r,height:n}=i;if(!l(r)||!l(n))return;const o=n/r;return Math.floor(t*o)}({placeholderWidth:i,adContentSize:r});void 0!==n?r&&((0,ja.q)("inPage: adjust ad height to adContentSize=["+JSON.stringify(r)+"] nextHeight=["+n+"]"),VA(t,{height:n+"px"},!0)):(0,ja.q)("inPage: skip adjust placeholder to unknown ad size")}function Va(){return Va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Va.apply(this,arguments)}function La(){return La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},La.apply(this,arguments)}function Ma(e,t,i){const r=i.split(".");let n=e;for(let a=0;a<r.length-1;a++)n=n[r[a]];const o=r[r.length-1];if(void 0===n[o])n[o]=t;else if("object"===typeof n[o])for(const a in t)t.hasOwnProperty(a)&&Ma(e,t[a],i+"."+a)}function Ba(e,t,i){e[i]||(e[i]={}),Ma(e,t,i)}var xa=e(5686),Ua=e(6350),Fa=e(8176),Ha=e(1877),Wa=e(6091),za=e(6524),ja=e(7221),Ga=e(669),qa=e(6839),Ka=e(7643),Ya=e(5778);const Za=["pagehide","unload"];var Xa=e(7817),Ja=e(9327),Qa=e(5082);const $a="adfox.ru",es=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1};var ts=e(3424);const is=[...["localhost","127.0.0.1"].concat([]),...[ts.FN,"yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",ts.N9,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];var rs=e(4410);const ns=(e=>(0,rs.E)(e.navigator.sendBeacon))(window);var os=e(976);(0,os.n)({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var as=e(7878);const ss=-1,ls={droppedVideoFrames:ss,corruptedVideoFrames:ss,totalVideoFrames:ss},ds=d({},ls,{droppedVideoFramesRatio:ss}),cs={width:0,height:0},us={visibility:0,size:cs,relativeSizeRatio:0,screenSize:cs,devicePixelRatio:0,downlink:0,videoSlotSize:cs,videoContentSize:void 0,videoAvatarSize:cs,videoPixelRatio:ss,videoToDevicePixelRatio:ss,videoFramesInfo:ds,videoSrc:"",videoMuted:!0,videoVolume:0,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:ss,remainingBufferedTime:0,isFullscreen:void 0,adPodId:void 0};var hs=e(5054),ps=e(2529),As=e(7438),ms=e(9403),vs=e(9215),_s=e(5490),fs=e(9531);const gs="sid",ys="vsid",Es="vmap-scenario-id",Ts="has-preroll",Ss="wtime-since-ad",ws="ad-pod-id";var bs=e(4395),Cs=e(4631),Os=e(1690),Is=e(1338),Ps=e(2950);const Ds=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r};var Ns=e(5749),Rs=e(8304);const ks=(e,t,i)=>{if(!(0,as.K)(e))return e;const r=e,n=t.split("."),o=n.pop();for(const a of n){const t=e[a];e=(0,as.K)(t)?t:e[a]={}}return e[o]=i,r},Vs=e=>{try{return e()}catch(Lm){return}},Ls=(e,t,i,r)=>function(){try{return t.apply(i||this,arguments)}catch(Lm){if((0,As.m)(r)&&r(Lm),!0===Lm.preventProtect)throw Lm;Ls.log(Lm,e)}};Ls.log=function(e,t){console.log("LOG:"+t+":"+e)},Ls.setTimeout=(e,t,i,r)=>window.setTimeout(Ls("timeout",e,i,r),t);class Ms{}Ms.YaContextCallbacks=u("Ya.C","ontext._callbacks"),Ms.YaContextCallbacksCalls=u("Ya.C","ontext._callbacks_call"),Ms.ouX2LC3Xk3utaYQ=u("A","dvManager"),Ms.AdvBlock=u("A","dvBlock"),Ms.RTB=u("R","TB"),Ms.Rtb=u("R","tb"),Ms.MetrikaAdtune=u("metrika_a","dtune");class Bs{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const xs=(0,Ps.I)((()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],(e=>{if(r=Vs((()=>(0,Rs.U)(e,t))),!r)return Vs((()=>(0,Ns.w)(e.frames)))||[]})),r||(r=i()),ks(e,t,r),r})(self,"Ya.pcodeCrossFrameData",(()=>new Bs({}))))),Us=(0,Ps.I)((()=>((e,t,i)=>{let r=(0,Rs.U)(e,t);return r||(r=i(),ks(e,t,r)),r})(self,"Ya.pcodeWindowData",(()=>new Bs({}))))),Fs="Ya._metrika.dataLayer",Hs=Ls("metrika::pushEvent",((e,t)=>{const i=(0,Rs.U)(e,Fs)||[];ks(e,Fs,i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:h({},t)}}})})),Ws=Ls("sessionId::configureMetrika",((e,t)=>{Hs(e,{adSessionID:t})}));var zs=e(2446);const js=()=>(1e6*(0,zs.M)()).toFixed(0)+(new Date).valueOf().toString(),Gs="sessionId";let qs;const Ks=()=>{var e;return qs||(qs=((e,t,i,r)=>{let n=t.getItem(Gs);return n||(n=i.getItem(Gs)||e(),r(window,n)),t.setItem(Gs,n),i.setItem(Gs,n),n})(js,(e="common",Ds(Us(),e,(()=>new Bs({})))),(e=>Ds(xs(),e,(()=>new Bs({}))))("common"),Ws)),qs};var Ys=e(8315);const Zs=()=>(0,Ys.Y)(Ks)||void 0,Xs=e=>{var t;const i=null==(t=e.yandex)?void 0:t.getSiteUid;if((0,As.m)(i))return String(i())};var Js=e(3638);const Qs=e=>Math.round(e),$s=e=>({width:Qs(e.width),height:Qs(e.height)});var el=e(4646);const tl="function"===typeof IntersectionObserver&&(0,rs.E)(IntersectionObserver);var il=e(8355);const rl=()=>{xa.h;return!nl()},nl=()=>tl||!il.g;var ol=e(8062),al=e(1477);const sl=e=>(e=>e instanceof Promise||"Promise"===(0,al.M)(e)&&Boolean(v((()=>(0,rs.E)(e.constructor)))))(e)||(e=>Boolean(v((()=>(0,As.m)(e.then)&&(0,As.m)(e.catch)))))(e);var ll=e(5951),dl=e(9330),cl=e(3352),ul=e(5386),hl=e(6976);const pl="ru";class Al extends ul.s{constructor(){super(...arguments),this.name="TranslatorError"}}const ml=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],n=e=>{let{keyset:t,key:n,lang:o=pl,onError:a,throwErr:s=!0}=e;if(r(o,t,n))return i(o,t,n);if(r(pl,t,n))return i(pl,t,n);{const e=new Al("Tanker locale for lang="+o+", keyset="+t+", key="+n+" not found");return s&&(0,ol.L)(e),"function"===typeof a&&a(e),""}};if(t){const e=e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r};return(0,hl.H)(n,e)}return n}(e(3716)),vl=function(e,t){return void 0===t&&(t=pl),ml({keyset:"adsdk",key:e,lang:t})};var _l=e(1558),fl=e(7539),gl=e(8579);const yl=function e(t){return(0,gl.u)(t,((t,i)=>t.concat((0,fl.k)(i)?e(i):i)),[])};var El=e(3540);const Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var Sl=e(6933),wl=e(7210),bl=e(466),Cl=e(4778);const Ol=["spec","logo","misc"],Il=e=>{if((0,as.K)(e))for(const t in e)if(e.hasOwnProperty(t)&&!(0,bl.q)(Ol,t)){const i=e[t];return i.text&&(0,Cl.H)(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}};var Pl=e(9741);const Dl=(0,Pl.O)(window,"adsdkwithcredentials"),Nl=Dl?(""+Dl).toLowerCase():void 0,Rl="true"===Nl||"false"!==Nl&&void 0;var kl=e(728),Vl=e(4904);const Ll=e=>{try{const{left:t,right:i,top:r,bottom:n}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:n,width:i-t,height:n-r}}catch(Lm){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var Ml=e(1731),Bl=e(6579),xl=e(1695),Ul=e(4279),Fl=e(8915);const Hl=e=>{let{version:t=bs.b,win:i}=e;const r=(0,xl.x)(i),n=Ul.E.ES5,o=""+(0,Fl.a)(t)+n+"/proxy_frame.html";return(0,As.m)(r)?r(o):o};let Wl;const zl=(void 0===(jl=window)&&(jl=window),Wl||(Wl=jl.document.createElement("div")),Wl);var jl;const Gl=(e,t)=>{const i="undefined"!==typeof zl.style[e];if(i&&t&&(0,Cl.H)(t))try{zl.style.cssText=e+": "+t+";";const i=Boolean(zl.style.cssText);return zl.style.cssText="",i}catch(Lm){return!1}return i};var ql=e(9727);const Kl={},Yl=function(e){return void 0===e&&(e=""),Kl[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<ql.q.length;i++){const r=ql.q[i],n=r?""+r+t:e;if(Gl(n))return Kl[e]=n}return Kl[e]=e}(e)},Zl={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},Xl=e=>{const t=b({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0});return encodeURI(JSON.stringify(t))},Jl={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},Ql={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},$l=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?Ql:Jl;w(t,r.attributes),S(t,r.styles)},ed="VAS_FRAME_GLOBAL_CALLBACK",td=xa.h,id=(0,os.n)({propertyName:ed,win:td}),rd=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" ");var nd=e(9638);class od extends Sl.V{constructor(e,t){super(),this.listenForCommandEvents=e=>{const t=(0,qa.V)({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Ha.w({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},this.port=e,this.commandHandlers=t,this.listenForNewCommands(),this.addDestroyHandler((0,qa.V)({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Ha.w({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=(0,Vl.a)(6),r=(0,El.n)(5e3);r.promise.then((()=>{this.destroy(new Ha.w({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))})).catch(ol.L),this.addDestroyHandler((()=>r.clear()));const n=this.waitForNextCommandEvent({name:e,id:i}),o=new Promise(((t,o)=>{n.then((n=>{if(r.clear(),"success"===n.status)t(n.payload);else if("error"===n.status){const e=n.payload;o((0,nd.du)(e))}else{if("abort"===n.status)return;this.destroy(new Ha.w({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:n.status,payload:n.payload,name:e,commandId:i}}))}})).catch(o)})),a=(0,Ya.I)((()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})}));return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:o,abort:a}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Ha.w({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(O({},e,{type:"command"}))}catch(t){0,this.destroy(new Ha.w({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise((t=>{const i=this.listenForCommandEvents((r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))}))}))}listenForNewCommands(){this.listenForCommandEvents((e=>{var t;if("start"!==e.status)return;const i=null==(t=this.commandHandlers)?void 0:t[e.name];if(!i)return void this.destroy(new Ha.w({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),n=e.payload;try{i(r,n)}catch(o){0,this.destroy(new Ha.w({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:o}}))}}))}createCommandControlDescriptor(e){const t=new Ml.M;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy((r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())}))).catch(za.Z),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const n=(0,nd.Us)(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:n})},subscribeForAbort:function(){return i?za.Z:t.add(...arguments)}}}isEventDataCommandLike(e){return!!(0,as.K)(e)&&("command"===e.type&&(!!(0,wl.H)(e.id)&&!!(0,wl.H)(e.status)))}}const ad=(0,dl.Z)({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),sd=["src","poster"],ld=(0,dl.Z)({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),dd=["video/mp4","video/webm"],cd={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},ud=(0,dl.Z)({load:0,play:0,pause:0,setAttribute:0});var hd=e(5095);const pd=(0,dl.Z)({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Ad=new WeakSet;class md extends Sl.V{static isVideoNodeLocked(e){return Ad.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),(0,ja.q)("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",(0,hd.N)((0,Ga.U)(dd,(e=>[e,this.params.videoNode.canPlayType(e)])))),(0,Ja.E)((0,dl.Z)(cd),(e=>{const t=cd[e];(0,Ja.E)(t,(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}))}))}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if((0,bl.q)(ud,e)){if("setAttribute"===e){const[e,r=""]=t;if(!(0,wl.H)(e))return;return(0,bl.q)(sd,e)?i.setAttribute(e,r):void Wa.ot.error({error:new Ha.w({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}Wa.ot.error({error:new Ha.w({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!(0,bl.q)(ld,e))return void Wa.ot.error({error:new Ha.w({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,n=i[r];ks(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler((()=>{ks(i,e,n)}))}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;(0,Ja.E)(ad,(t=>{this.addDestroyHandler((0,qa.V)({element:e,eventName:t,listener:e=>{cd.hasOwnProperty(e.type)&&(0,Ja.E)(cd[e.type],(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})),setTimeout(this.ignoreAfterDestroy((()=>{const t=(e=>I({},(0,hd.N)((0,Ga.U)(pd,(t=>[t,e[t]]))),{target:null}))(e);this.params.handleVideoNodeEvent(t)})),0)}}))}))}}class vd extends Sl.V{constructor(e){super(),this.vpaidEventBus=new Ml.M,this.vpaidGetterPropertyBus=new Ml.M,this.dispatcherCommandHandlers={handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:n}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:n})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:n}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:n})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:n,args:o}]=t;const a=this.localVideoNode;if(a)try{(0,ja.q)("[outsideAPI] call video method=["+n+"], args=["+o+"]");const e=a.callVideoNodeMethod(n,o);return sl(e)?e.then((e=>{i(e)})).catch(r):i(e)}catch(s){this.destroy(new Ha.w({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Ha.w({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:n}]=t;i();const o=this.localVideoNode;o?(0,bl.q)(ld,r)?((0,ja.q)("[outsideAPI] set video property name=["+r+"], value=["+n+"]"),o.setVideoNodeProperty(r,n)):this.destroy(new Ha.w({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:n}})):this.destroy(new Ha.w({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:n}}))}},this.handleVideoNodeEvent=e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])},this.handleVideoNodePropertyChange=(e,t)=>{(0,ja.q)("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])},this.params=e,(0,ja.q)("[outsideApi]: init"),this.addDestroyHandler((e=>{e&&Wa.ot.error({error:e})})),this.changeFrameVisibility(!1),this.dispatcher=new od(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler((()=>this.dispatcher.destroy(void 0))),this.addDestroyHandler((0,qa.V)({element:e.port,eventName:"message",listener:e=>{if(!(e=>{const t=e.data;return!(!(0,as.K)(t)||"kill-me"!==t.type)})(e))return;const{data:t}=e;this.destroy(new Ha.w({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler((e=>{this.isDestroyed||(Wa.ot.error({error:null!=e?e:new Ha.w({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))})),this.addDestroyHandler((()=>{this.vpaidEventBus.removeAll()}))}async doGETRequest(e){(0,ja.q)("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r}=await t.promise;return(0,ja.q)("[outsideApi]: finish get request"),{responseStatus:r,responseText:i}}async loadCreative(e){(0,ja.q)("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,(0,ja.q)("[outsideApi]: done loading creative")}async initCreative(e){(0,ja.q)("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,(0,ja.q)("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return(0,ja.q)("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return(0,ja.q)("[outsideApi]: "+(e?"show":"hide")+" frame"),$l({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(md.isVideoNodeLocked(t))throw(0,ja.q)("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");(0,ja.q)("[outsideApi]: assign video tag"),this.localVideoNode=new md({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler((()=>{var e;(0,ja.q)("[outsideApi]: UNassign video tag"),null==(e=this.localVideoNode)||e.destroy(void 0)}))}listenRemoteVpaidEvents(e,t){return(0,ja.q)("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add((i=>{let{eventName:r,args:n}=i;e===r&&t(r,n)}))}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add((t=>{let{methodName:i,value:r}=t;e(i,r)}))}}const _d=async e=>{let{container:t,initAbort:i,initTimeout:r}=e;const n=(0,Vl.a)(6);Wa.ot.event({name:"VASFrameInitStart",probability:Fa.yl,data:{handshakeID:n}});const o=Date.now();let a=!1;const s=new Ml.M;s.add((()=>{a=!0})),i.add((()=>{(0,ja.q)("[initOutsideApi]: init aborted"),Wa.ot.event({name:"VASFrameInitAborted",probability:Fa.yl,data:{handshakeID:n}}),s.dispatch(void 0)}));const l=P({},Bl.d,{handshakeID:n}),d=(e=>{let{container:t,frameUrl:i,initialData:r}=e;const n=t.ownerDocument.createElement("iframe");return w(n,{name:Xl(r),sandbox:rd,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),S(n,C({},Zl)),$l({iframe:n,shouldBeVisibleNow:!1}),t.appendChild(n),n})({container:t,frameUrl:Hl({win:window}),initialData:l});s.add((()=>{(0,ja.q)("[initOutsideApi]: remove frame"),(0,Ua.L)(d)}));const c=new MessageChannel;c.port1.start(),s.add((()=>{c.port1.close()}));const u=new Promise((e=>{(0,ja.q)("[initOutsideApi]: wait for frame to load"),d.addEventListener("load",(()=>{(0,ja.q)("[initOutsideApi]: got load event. transfer port"),d.contentWindow.postMessage({type:"init",handshakeID:n},"*",[c.port2]),e()}))})),h=new Promise((e=>{const t=(0,qa.V)({element:c.port1,eventName:"message",listener:i=>{const r=i.data;"handshake"===r.type&&r.initialData.handshakeID===n&&((0,ja.q)("[initOutsideApi]: got handshake event"),t(),e())}})})),p=Promise.all([u,h]),{promise:A,clear:m}=(0,El.n)(r);if(A.then((()=>{var e;Wa.ot.error({error:new Ha.w({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null==(e=d.parentElement)?void 0:e.tagName,frameBoundingClientRect:Ll(d),handshakeID:n}})}),s.dispatch(void 0)})),p.then((()=>{m()})),s.add((()=>{m()})),await Promise.race([p,A]),a)throw new Ha.w({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Wa.ot.values({name:"VASFrameInitSuccess",probability:Fa.yl,data:{handshakeID:n},labels:{},values:{timeSpent:Date.now()-o}}),d.removeAttribute("name"),i.removeAll();const v=new vd({port:c.port1,initialData:l,frame:d});return v.addDestroyHandler((()=>{(0,ja.q)("[initOutsideApi]: do teardown since class destroy"),Wa.ot.event({name:"VASFrameDestroy",probability:Fa.yl,data:{handshakeID:n}}),s.dispatch(void 0)})),v.addDestroyHandler((0,qa.V)({element:c.port1,eventName:"message",listener:e=>{const t=e.data;(0,as.K)(t)&&"destroy"===t.type&&Wa.ot.error({error:new Ha.w({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),(0,ja.q)("[initOutsideApi]: init done"),v},fd=e=>{var t;(0,ja.q)("[initOutsideApi]: do init"),t={name:"before OutsideAPI init call",initParams:e},id.call({propertyName:ed,win:td,callbackArguments:[{step:t}]});const{container:i,initTimeout:r}=e,n=new Ml.M,o=i.ownerDocument.defaultView;return{initPromise:_d({container:i,initAbort:n,initTimeout:r,win:o}),abortInit:()=>n.dispatch(void 0)}},gd={idle:["initializing"],initializing:["initialized"]};class yd extends Sl.V{constructor(){super(),this.state=new cl.R({name:"idle"},((e,t)=>{const i=gd[e.name];return i&&(0,bl.q)(i,t.name)||Wa.ot.error({error:new Ha.w({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),(0,ja.q)("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),this.users=0,(0,ja.q)("SingleVASFrame: create instance"),this.initPromise=new Promise((e=>{this.state.add((t=>{"initialized"===t.name&&e(t.outsideApi)}))})),this.state.add((e=>{"initializing"===e.name&&e.outsideApiInitPromise.then((e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler((()=>{e.destroy(void 0)}))})).catch((e=>{this.destroy(e)}))}))}init(e){(0,ja.q)("SingleVASFrame: do init");const t=fd(e);this.addDestroyHandler((()=>{t.abortInit()})),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");(0,ja.q)("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){(0,ja.q)("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let Ed;const Td=()=>(Ed||(Ed=new yd,Ed.addDestroyHandler((()=>{Ed=void 0}))),Ed),Sd=async e=>{const t=Td();return(await t.initPromise).doGETRequest(e)},wd=["nobanner","noad"],bd=function(e,t){let i=e[t];if(!(0,rs.E)(i)){const r=i;try{delete e[t],i=e[t],e[t]=r}catch(Lm){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,(0,as.K)(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i};var Cd=e(6415);const Od=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let r=t;if((0,fl.k)(t)){const r=t.map((t=>e(t,i)));return r}return(n=t)instanceof Date||"Date"===(0,al.M)(n)?new Date(t.getTime()):(!(0,As.m)(t)&&(0,as.K)(t)&&(r=i.preserveConstructors?bd(t):{},(0,Cd.M)(t,((t,n)=>{r[n]=e(t,i)}))),r);var n},Id="application/x-javascript",Pd=["application/javascript",Id],Dd=k({},cs,{bitrate:0}),Nd=V({},Dd,{type:Id});var Rd=e(2410);const kd=Rd.Z+"/1_0",Vd="https://"+ts.N9+"/"+kd+"/ad_creative.js",Ld=L({url:Vd},Nd),Md={nextAd:0,startVideo:0,continueVideo:0},Bd={poster:[]};let xd={ads:[],children:[],xmlString:"",url:void 0,isUniformat:!1};let Ud={sequence:0,adId:void 0,bidreqid:void 0,campaignid:void 0,pageId:void 0,impId:void 0,vmapRequestId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],icons:[],progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,adVerifications:[]};const Fd=ts.N9+"/"+Rd.Z+"/1_0/no-aim-screen.js",Hd={type:"motion-creative/javascript",url:Fd},Wd=(e,t,i)=>{const r=j(e,t,i),n=parseInt(r,10);return s(n)?n:i},zd=2147483647;var jd=e(9342);const Gd=Boolean(jd.W),qd=-1;var Kd=e(6419);const Yd={adLabel:0,socialAdLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0,disclaimers:0,ageLabel:0,title:0,body:0,domain:0},Zd=(0,dl.Z)(Yd),Xd=f(Yd,(()=>!1)),Jd={controlsVisibility:{}},Qd={};var $d=e(6894);let ec={showCountDown:!0,showSoundButton:!0,showLabel:!0};const tc=e=>({src:G(e.querySelector("StaticResource")),program:j(e,"program"),xPosition:Wd(e,"xPosition",0),yPosition:Wd(e,"yPosition",0),width:Wd(e,"width",0),height:Wd(e,"height",0)}),ic=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let rc;const nc=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),o=e.querySelector("Linear"),a=e.querySelector("TrackingEvents"),s=a?a.querySelectorAll("Tracking"):[],l=(0,Ns.w)(e.querySelectorAll("Impression")),d=e.querySelectorAll("Error"),c=e.querySelector("Extensions"),u=e.querySelector("Description"),h=e.querySelectorAll("Icons Icon"),p=e.querySelector("AdParameters"),A=e.querySelector("AdSystem"),v=e.querySelector("AdTitle"),_=e.querySelector("Creative"),f=(0,wl.H)(e.id)?e.id:void 0,g=Od(Ud,{preserveConstructors:!1});g.adId=f,_&&(g.creativeId=(0,wl.H)(_.id)?_.id:void 0),g.parseIndex=void 0===rc?(rc=0,rc):++rc,g.randomHexString=(0,Vl.a)(16);const y=e.querySelector("InLine"),E=e.querySelector("Wrapper"),T=Boolean(y);if(T===Boolean(E)){if(T)throw new Ha.w({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Ha.w({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(g.adVerifications=function(e){const t=[];let i=e.querySelector("AdVerifications");const r=e.querySelector("Extensions");if(!i&&r&&(i=r.querySelector('[type="AdVerifications"]>AdVerifications')),!i)return t;const n=i.querySelectorAll("Verification"),o=[];if(Boolean(n))for(const a of Array.from(n)){const e=a.getAttribute("vendor"),i=G(a.querySelector("JavaScriptResource")),r={},n=a.querySelectorAll("TrackingEvents>Tracking");if(Boolean(n))for(const t of Array.from(n)){const e=j(t,"event"),i=G(t);(0,wl.H)(e)&&(0,wl.H)(i)&&(r[e]=i)}const s=G(a.querySelector("VerificationParameters"));(0,wl.H)(e)&&(0,wl.H)(i)&&(0,Cl.H)(s)?t.push({vendorKey:e,javaScriptResource:i,trackingEvents:r,verificationParameters:s}):o.push({vendorKey:e,javaScriptResource:i,trackingEvents:r,verificationParameters:s})}return o.length>0&&Wa.ot.error({error:new Ha.w({code:"OMID_OBJECT_FROM_VERIFICATION_NODE_IN_VAST_IS_INVALID",details:{invalidAdVerifications:JSON.stringify(o)}})}),t}(e),g.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return-1;const i=parseInt(t,10);return(0,$d.f)(i)?i:(Wa.ot.error({error:new Ha.w({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),-1)}(e),T&&p){const e=G(p);g.adParameters=e;const t=z(e);if((0,as.K)(t)){g.adParametersObject=t;const e=function(e){if(!(0,as.K)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!(0,as.K)(t))return;const{data_params:i}=t;if(!(0,as.K)(i))return;const{misc:r}=i;if(!(0,as.K)(r))return;const{click_url:n}=r;if(!(0,as.K)(n))return;const{abuse:o}=n;return(0,wl.H)(o)?o:void 0}(t);e&&(g.abuseUrl=e),g.playbackAdParameters=ie(t.playbackParameters).config;const i=function(e){if(!(0,as.K)(e))return;const{background:t}=e;return(0,as.K)(t)&&(0,wl.H)(t.color)?t.color:void 0}(t);void 0!==i&&(g.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if((0,wl.H)(t))return t}(t);r&&ic(g,"packshotStart",r);const{bidreqid:n,campaignid:o,pageId:a,impId:s,vmapRequestId:l}=function(e){if(!(0,as.K)(e))return{};const{AUCTION_DC_PARAMS:t}=e;if(!(0,as.K)(t))return{};const{data_params:i}=t;if(!(0,as.K)(i))return{};const{misc:r}=i;if(!(0,as.K)(r))return{};const{bidreqid:n,campaignid:o,pageId:a,impId:s,vmap_request_id:l}=r;return{bidreqid:(0,wl.H)(n)?n:void 0,campaignid:(0,wl.H)(o)?o:void 0,pageId:(0,wl.H)(a)?a:void 0,impId:(0,wl.H)(s)?s:void 0,vmapRequestId:(0,wl.H)(l)?l:void 0}}(t);g.bidreqid=n,g.campaignid=o,g.pageId=a,g.impId=s,g.vmapRequestId=l}}if(E){const t=G(e.querySelector("VASTAdTagURI"));if(!t)throw new Ha.w({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});g.vastAdTagUri=t}if(void 0!==n)for(let m=0;m<n.length;m++){const e=K(n[m]);e&&g.mediaFiles.push(e)}if(r){const e=G(r.querySelector("ClickThrough"));e&&(g.clickThrough=e);const t=r.querySelectorAll("ClickTracking");for(let i=0;i<t.length;i++)ic(g,"clickThrough",G(t[i]))}for(let m=0;m<s.length;m++){const e=j(s[m],"event"),t=G(s[m]);if("progress"===e){const e=j(s[m],"offset",""),r=ne(e);void 0===r?Wa.ot.error({error:new Ha.w({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})}):g.progressTrackings.push({urls:[t],offset:r})}else ic(g,e,t)}(0,Ja.E)(l,(e=>{ic(g,"impression",G(e))}));for(let m=0;m<d.length;m++)ic(g,"error",G(d[m]));for(let m=0;m<h.length;m++)g.icons.push(tc(h[m]));if(c){const e=c.querySelectorAll('Extension[type="skipAd"]');for(let a=0;a<e.length;a++)Wa.ot.event({name:"UsingSkipAdExtensionInVast",probability:Fa.yl,data:void 0}),ic(g,"skip",G(e[a]));const t=c.querySelector('Extension[type="skipTime"]');if(q(t)){const e=re(G(t));Wa.ot.event({name:"UsingSkipTimeExtensionInVast",probability:Fa.yl,data:{skipTime:e}}),g.skipTime=re(G(t)),g.skipTime>180&&(g.skipTime=0)}const i=c.querySelector('Extension[type="controls"]');if(i){const e=(e=>{const t=oe({},ec),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==j(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==j(r,"layout"));const n=e.querySelector('control[id="adlabel"]');return n&&(t.showLabel="0"!==j(n,"layout")),t})(i);Wa.ot.event({name:"UsingControlsExtensionInVast",probability:Fa.Uv,data:{imhoParams:e}}),g.imhoParams=e}const r=(0,Ya.I)((()=>{Wa.ot.event({name:"UsingCustomTrackingExtensionInVast",probability:Fa.Uv,data:void 0})})),n=c.querySelector('Extension[type="CustomTracking"]'),o=n?n.querySelectorAll("Tracking"):[];for(let a=0;a<o.length;a++){r();const e=j(o[a],"event");ic(g,e,G(o[a]))}}if(q(u)&&(g.description=G(u)),q(A)&&(g.adSystem=G(A)),q(v)&&(g.adTitle=G(v)),o){const e=j(o,"skipoffset","").trim();if(""!==e){const t=re(e);isNaN(t)?m(new Ha.w({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),g.trackingEvents.error):g.skipOffset=t}const t=o.querySelector("Duration");t&&(g.duration=re(G(t)))}return g},oc=async e=>{let{loadParameters:t,vastUrl:i,xmlString:r}=e;const n=R(r),o="YANDEX"===t.vastSourceType;if(!n)throw new Ha.w({code:o?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:r}});const a=n.querySelector("VAST");if(!a){const e=o?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",t=o?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new Ha.w({code:wd.indexOf(N(n))>-1?e:t,details:{xmlString:r}})}const s=a.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!(0,Cl.H)(e))return!1;const t=Number(e.split(".")[0]);return!!l(t)&&t<=4}(s))throw new Ha.w({code:o?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:r,version:s}});const d="true"===a.getAttribute("ya-uniformat"),c=(0,Ns.w)(a.querySelectorAll("VAST Ad"));let u;if(0===c.length)u=function(e){let{isUniformat:t,xmlVastNode:i,xmlString:r}=e;const n=Od(xd,{preserveConstructors:!1}),o=i.querySelector('Extension[type="aim"]');if(!o)return n;const a=o.textContent;if(!a)return n;const s=(0,Ys.Y)((()=>JSON.parse(a)),(()=>{throw new Ha.w({code:"NO_AIM_SCREEN_JSON_IS_INVALID",details:{aimConfig:a}})}));if(!(0,as.K)(s))throw new Ha.w({code:"NO_AIM_SCREEN_JSON_IS_NOT_AN_OBJECT",details:{aimConfig:s}});Wa.ot.event({name:"NoAimScreenDataParsed",data:{aimNodeConfig:a}});const{isActive:l,filterReasons:d}=s;if("boolean"!==typeof l)throw new Ha.w({code:"NO_AIM_SCREEN_INVALID_IS_ACTIVE_PARAMETER",details:{aimConfig:a}});if(!l)return n;if(!(0,fl.k)(d))throw new Ha.w({code:"NO_AIM_SCREEN_FILTER_REASONS_IS_NOT_ARRAY",details:{filterReasons:d}});const c=[];for(const p of d){if(!W(p))throw new Ha.w({code:"NO_AIM_SCREEN_FILTER_REASON_INVALID",details:{filterReasons:d}});c.push(p)}const u={controlsSettings:{visibility:!1,controlsVisibility:{}},trackingEvents:{},lang:"ru",packshotSettings:{},contentAfterAd:Bd},h={playbackParameters:u,mediaFiles:[Hd],adParameters:{filterReasons:c}};return{isUniformat:t,ads:[H({},Od(Ud,{preserveConstructors:!1}),{duration:15,playbackAdParameters:u,mediaFiles:[Ld],adParameters:JSON.stringify(h),adParametersObject:h})],children:[],xmlString:r,url:void 0}}({isUniformat:d,xmlVastNode:a,xmlString:r});else{const e=[],n=(0,Ga.U)(c,(i=>{const r=nc(i,{isYandexVastUrl:o}),{vastAdTagUri:n}=r;if(!n)return[r];if(t.wrapperMaxCount<=1)return Wa.ot.error({error:new Ha.w({code:o?"YANDEX_WRAPPER_VAST_MAX_COUNT_LIMIT":"WRAPPER_VAST_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:a}=t;return uc({url:p({url:n,options:a,win:window}),loadParameters:ae({},t,{wrapperMaxCount:t.wrapperMaxCount-1}),isWrapper:!0}).then((t=>(e.push(t),(0,Ga.U)(t.ads,(e=>{var t,i;return t=e,(i=r).mediaFiles.length&&(t.mediaFiles=[...t.mediaFiles,...i.mediaFiles]),(0,Ja.E)((0,dl.Z)(i.trackingEvents),(e=>{t.trackingEvents[e]=[...t.trackingEvents[e]||[],...i.trackingEvents[e]||[]]})),t.clickThrough||(t.clickThrough=i.clickThrough),null===t.skipTime&&(t.skipTime=i.skipTime),null===t.skipOffset&&(t.skipOffset=i.skipOffset),t.progressTrackings.push(...i.progressTrackings),isNaN(t.duration)&&(t.duration=i.duration),-1===t.sequence&&(t.sequence=i.sequence),t.adSystem||(t.adSystem=i.adSystem),e}))))).catch((e=>((0,kl.S)(e)?Wa.ot.error({error:e}):Wa.ot.error({error:new Ha.w({code:o?"YANDEX_WRAPPER_VAST_LOAD_ERROR":"WRAPPER_VAST_LOAD_ERROR",details:{error:e,vastAdTagUri:n,parsingParameters:t}})}),[])))}));u={ads:D(await Promise.all(n)),xmlString:r,children:e,url:i,isUniformat:d}}const h=function(e){var t,i,r,n;const o=Il(null==(t=e.ads[0])||null==(i=t.adParametersObject)||null==(r=i.AUCTION_DC_PARAMS)?void 0:r.data_params),a=null==o||null==(n=o.assets)?void 0:n.images;return void 0!==a&&(0,fl.k)(a)&&a.length>0}(u);return Wa.ot.values({name:"CreateVastFromXMLString",data:void 0,labels:{},values:{uniformat_true:u.isUniformat?1:0,uniformat_false:u.isUniformat?0:1,firstAdPodHasImages_true:h?1:0,firstAdPodHasImages_false:h?0:1},probability:Fa.yl}),u},ac=async(e,t)=>{let i;try{await new Promise(((r,n)=>{t&&t.then(r,n),i=window.setTimeout(r,e)}))}finally{window.clearTimeout(i)}};var sc=e(3900);const lc=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise(((e,n)=>{const o=new XMLHttpRequest;o.open("GET",t),o.withCredentials=r,o.onerror=()=>n({reason:"error",error:new Error("XHR Error["+o.status+"]["+o.statusText+"]["+t+"]")}),o.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t;i({responseText:r,responseStatus:e})}})({xhr:o,resolve:e});try{o.send(i)}catch(a){a.message="XHR Send Error["+a.message+"]["+t+"]";n({reason:"error",error:a})}}))},dc=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:n,timeoutDetails:o}=e;const a=t;if("string"===typeof a.reason&&(0,as.K)(a.error)){const{error:e,reason:t}=a;if("error"===t)return new Ha.w(e,{code:i,details:r});if("timeout"===t)return new Ha.w(e,{code:n,details:o})}return new Ha.w(t,{code:i,details:r})},cc=E({interactiveViewer:0,motion:0,themeEmpty:0,survey:0,overlay:0,external:0,video:0,clickableVideo:0,vpaidCreative:0},(e=>"firstAdPodFormatType_"+e)),uc=async e=>{var t;let{url:i,loadParameters:r,isWrapper:o=!1}=e;if(!i)return Promise.reject(new Ha.w({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:a}=r;Wa.ot.event({name:o?"WrapperVastLoadStart":"VastLoadStart",probability:Fa.yl,data:{url:i,loadParameters:r,timeout:a}});const s=Date.now(),l=await(async e=>{let{url:t,loadParameters:i,isWrapper:r=!1}=e;const{vastTimeout:o}=i,a=n(t),s="VASFrame"===i.requestMethod?Sd:lc,l="boolean"!==typeof Rl||Rl;try{const{responseText:e,responseStatus:r}=await le({url:t,data:null,timeout:o,doRequest:s,withCredentials:l}),n=function(e,t,i){if(200!==t)switch(e){case"\x3c!-- Bad partner/domain --\x3e":return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case"\x3c!-- PageImp data not found --\x3e":return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,r,a);if(n)throw new Ha.w({code:n,details:{url:t,responseText:e,responseStatus:r}});return oc({xmlString:e,loadParameters:i,vastUrl:t})}catch(d){const e="AD_FOX"===i.vastSourceType;let n,s;n=(0,kl.S)(d)?d.code:e?"ADFOX_VAST_LOAD_ERROR":a?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR",s=r?a?"YANDEX_WRAPPER_VAST_LOAD_TIMEOUT":"WRAPPER_VAST_LOAD_TIMEOUT":a?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT";const l=dc({thrownError:d,errorCode:n,errorDetails:void 0,timeoutCode:s,timeoutDetails:{vastTimeout:o,url:t}});return Promise.reject(l)}})({url:i,loadParameters:r,isWrapper:o}),d=T(null==(t=l.ads[0])?void 0:t.adParametersObject),c=Boolean(d);return Wa.ot.values({name:o?"WrapperVastLoadSuccess":"VastLoadSuccess",probability:Fa.yl,data:{url:i,timeout:r.vastTimeout,vast:l,hasTargetUrl_true:c?1:0,hasTargetUrl_false:c?0:1},labels:{},values:de({adsCount:l.ads.length,timeSpent:Date.now()-s},cc)}),l},hc={bids:[],creatives:{},creativeUrls:{}};var pc=e(1116);const Ac=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class mc extends Sl.V{constructor(e,t,i){super(),this.onFetchBidsStart=new Ml.M,this.postMessageRequestId=vs.x+"_"+(0,Vl.a)(16),this.adFoxParameters=e,this.adBreak=t,this.win=i,this.addDestroyHandler((()=>{this.onFetchBidsStart.removeAll()})),this.requestPromise=new Promise((e=>{this.addDestroyHandler(e)})),this.requestBids()}requestBids(){Wa.ot.event({name:"HBRequestStart",probability:Fa.yl,data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then((async e=>{let{timeout:t}=e;Wa.ot.event({name:"HBFetchBidsStart",probability:Fa.yl,data:me({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=(0,El.n)(t);throw this.addDestroyHandler(i),await r,new Ha.w({code:"HB_FETCH_BIDS_TIMEOUT",details:me({},this.getDataForLogs(),{timeout:t})})})).catch((e=>{Wa.ot.errorToStats(e),this.destroy(hc)}))}subscribeHBMessages(){this.addDestroyHandler((0,qa.V)({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!(0,as.K)(t)||!(0,as.K)(i))return;const{id:r,methodName:n}=t;if(r===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:Wa.ot.error({error:new Ha.w({code:"HB_MESSAGE_UNKNOWN_METHOD",details:me({},this.getDataForLogs(),{methodName:n})})})}}}))}handleFetchBidsStartEventData(e){if(!(0,as.K)(e))return void Wa.ot.error({error:new Ha.w({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;l(t)?this.onFetchBidsStart.dispatch({timeout:t}):Wa.ot.error({error:new Ha.w({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:me({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new Ha.w({code:"HB_NON_ARRAY_BIDS_DATA",details:Ae({},t,{fetchedBids:e})});e.length>1&&i.push(new Ha.w({code:"HB_EXTRA_BIDS_DATA",details:Ae({},t,{fetchedBids:e})}));const[r]=e;if(!(0,as.K)(r))throw new Ha.w({code:"HB_NON_OBJECT_BIDS_DATA",details:Ae({},t,{fetchedBids:e})});const{bids:n,creatives:o,creativeUrls:a}=r;if(!Array.isArray(n)||!Ac(n,as.K))throw new Ha.w({code:"HB_INVALID_BIDS_OBJECTS",details:Ae({},t,{fetchedBids:e})});if(!(0,as.K)(o)||!Ac(pe(o),Cl.H))throw new Ha.w({code:"HB_BIDS_INVALID_CREATIVES",details:Ae({},t,{fetchedBids:e})});if(!(0,as.K)(a)||!Ac(pe(a),Cl.H))throw new Ha.w({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:Ae({},t,{fetchedBids:e})});return{bids:n,creatives:o,creativeUrls:a,warnings:i}}(e,this.getDataForLogs()),o={bids:t,creatives:i,creativeUrls:r};ce(n),Wa.ot.event({name:"HBFetchBidsComplete",probability:Fa.yl,data:me({},this.getDataForLogs(),{fetchedBidsObject:o})}),this.destroy(o)}catch(t){Wa.ot.errorToStats(t)}}sendBidsRequest(){const e=(0,pc.r)(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const n of e)he(me({win:n},t));const{promise:i,clear:r}=(0,El.n)(100);return this.addDestroyHandler(r),new Promise(((e,t)=>{i.then((()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),r=new Promise((r=>{t=(0,qa.V)({element:e,eventName:"message",listener:e=>{let{data:n}=e;n===i&&(t(),r())}}),e.postMessage(i,"*")}));return{teardown:t,promise:r}}(this.win);return this.addDestroyHandler(t),e})).then((()=>{t(new Ha.w({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))})).catch(t);const n=ue((t=>{r(),e(t)}),(e=>{Wa.ot.error({error:new Ha.w({code:"HB_START_MULTIPLE_TIMES",details:me({},this.getDataForLogs(),{data:e})})})}));this.addDestroyHandler(this.onFetchBidsStart.add(n))}))}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const vc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},_c=(0,dl.Z)(vc),fc=(0,Pl.O)(window,"adsdksecuremode"),gc=fc&&(0,bl.q)(_c,fc)?fc:void 0,yc=e=>{let{secureMode:t,url:i}=e;const r=null!=gc?gc:t;return"ForceSafe"===r||"Safe"===r&&(!i||!n(i))},Ec=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],Tc=(Ee(),function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1});var Sc=e(1311);const wc=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var bc,Cc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(bc||(bc={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(Cc||(Cc={}));const Oc=e=>Math.max(0,Math.round(e));class Ic{constructor(){this.config=we()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}let Pc=0;const Dc=()=>Pc,Nc=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},Rc=e=>{const t=e.getFullYear(),i=Nc(e.getMonth()+1,2),r=Nc(e.getDate(),2),n=Nc(e.getHours(),2),o=Nc(e.getMinutes(),2),a=Nc(e.getSeconds(),2),s=Nc(e.getMilliseconds(),3),l=(e=>{const t=-e.getTimezoneOffset();return(t>=0?"+":"-")+Nc(Math.floor(Math.abs(t)/60),2)+":"+Nc(Math.abs(t)%60,2)})(e);return t+"-"+i+"-"+r+"T"+n+":"+o+":"+a+"."+s+l},kc=()=>function(e,t){let i=e+(0,zs.M)()*(t+1-e);return i=Math.floor(i),i}(1,4294967295);let Vc=0;const Lc=[/avito/],Mc=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],Bc=["an.ya","ndex.ru/adf","ox"].join("");var xc=e(8415);Ve({},xc.l);const Uc=Ve({},xc.l),Fc=e=>Uc[e],Hc=(za.Z,za.Z,za.Z,za.Z,"TRUE"===Fc("REQUEST_ADFOX_FROM_YANDEX_RU")&&!Bl.d.LOADER_LOADED_FROM_AN_YANDEX_RU?ts.FN+"/an/adfox":ts.l3+"/adfox");class Wc extends Sl.V{constructor(e){super(),this.params=e;const{promise:t,clear:i}=(0,El.n)(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch((e=>{throw Wa.ot.errorToStats(e),this.destroy(),e}))}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:r}=this.params;let{adFoxParameters:n}=t;const{bids:o,containerId:a}=n;if(!o&&a){const e=new mc(xe({},n,{containerId:a}),i,window);this.addDestroyHandler((()=>{e.destroy(hc)}));const r=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then((()=>{throw new Ha.w({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})}))]);n=xe({},n,r)}const s=await Promise.race([Be({adFoxParameters:n,adPlacementOptions:r,secureMode:t.secureMode}),this.loadingTimeoutPromise.then((()=>{throw new Ha.w({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:n}})}))]),{vastBase64:l}=s;if(l){const e=await this.processBase64Vast(l).catch((e=>{throw new Ha.w({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:l,error:e}})}));return Wa.ot.event({name:"AdFoxVastLoadedUsingHB",probability:Fa.yl,data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const d=await this.processLoadingHBCreativeUsingCampaignId(n,s),c=(0,_l.h)(null!=(e=n.bids)?e:[],(e=>""+(e.campaign_id||"")===s.campaignId));return(0,Ja.E)(c,(e=>{let{win_notice:t}=e;t&&(0,Ja.E)(d.ads,(e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)}))})),Wa.ot.event({name:"AdFoxVastLoaded",probability:Fa.yl,data:{adConfig:t,adBreak:i,vast:d}}),this.destroy(),d}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:r,adBreak:n}=this.params,{creatives:o={},creativeUrls:a={}}=e,s=o[i],l=a[i];if(!s&&!l)throw new Ha.w({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:r,adBreak:n,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch((e=>{throw new Ha.w({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastBase64:s,error:e}})})):uc({url:l,loadParameters:oi({adConfig:r,adBreak:n,isAdFox:!0,adPlacementOptions:us})}).catch((e=>{throw new Ha.w({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastUrl:l,error:e}})}))}processBase64Vast(e){let t;try{t=y(e)}catch(i){throw new Ha.w({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:i}})}return oc({xmlString:t,loadParameters:oi({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:us}),vastUrl:void 0})}}const zc=e=>{const t=e.match(/(.*?)[?#]/);return null===t?e:t[1]},jc="https://"+ts.N9+"/"+kd+"/",Gc=(ts.FN,""+jc+("interactive_viewer"+".js")),qc=(0,Pl.O)(window,"adsdknovastconvertation"),Kc="motion-creative/javascript",Yc="vpaid-creative/javascript",Zc="survey-creative/javascript";const Xc=f(e(1889).AL,(e=>"https://"+ts.N9+"/"+kd+"/"+e+".js")),Jc=function(e){const t={};return(0,Cd.M)(e,((e,i)=>{t[e]=i})),t}(Xc),Qc=Fe({},Dd,{url:Xc.InteractiveElementsAdCreative,type:Kc}),$c="video-banner_interactive-viewer";var eu=e(637);const tu="https://"+ts.N9+"/"+Rd.Z+"/1_0/vpaid-motion.js",iu="https://"+ts.N9+"/pcode/media/vpaid-motion.js",ru="https://"+ts.l3+"/system/video-ads-sdk/vpaid-motion.js",nu=(0,Fl.a)(eu.O)+"vpaid-motion.js",ou=[tu,iu,ru,nu],au="https://"+ts.N9+"/pcode/media/vpaid-creative.js",su="https://"+ts.N9+"/"+Rd.Z+"/1_0/vpaid-creative.js",lu=[au,su],du=e=>{const{protocol:t}=(0,Qa.en)(e);return"blob:"===t?e:n(e)?(0,As.m)((0,xl.x)())?e:(0,Qa.Sr)(e,{[gs]:vs.x,[ys]:_s.Q}):e},cu=e=>je({},e,{url:du(e.url)}),uu=function(e){return void 0===e&&(e=window),-1!==(0,Sc.N)(e)}(),hu=Ye({},Dd,{url:Xc.MotionTGO,type:Kc}),pu=Ze({},Dd,{url:Xc.MotionTailor,type:Kc}),Au=Xe({},Dd,{url:Xc.Survey,type:Zc});var mu=e(5208);const vu=["tickerData","interactiveElements","mediaFiles"],_u=["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"];const fu=["https://"+ts.N9+"/pcode/media/vpaid-pythia-survey-embed.js"],gu=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&es(t,(e=>(0,bl.q)(lu,e.url)))};var yu=e(9623);const Eu=(0,Ya.I)((e=>{Wa.ot.event({name:"UsingVpaidAdSkipTokens",data:{skipTokens:e},probability:Fa.yl})}));class Tu{static toBase64(){const e=Tu.getUnits();return e.length>0&&Eu(e),e.length?g((0,Ga.U)(e,(e=>"yabs."+e)).join("\n")):void 0}static getUnits(){var e,t;const i=window;return Array.isArray(null==(e=i.ya)||null==(t=e.videoAd)?void 0:t.skipTokens)?i.ya.videoAd.skipTokens:[]}}var Su=e(3025),wu=e(4974);const bu=e=>{let{additionalParams:t,videoContentId:i,videoContentName:r,videoPublisherId:n,videoPublisherName:o,videoGenreId:a,videoGenreName:s,musicArtistId:l,musicGenreId:d,musicGenreName:c,preferableAdSize:u}=e;return ht({},ut(t),{"video-content-id":i,"video-content-name":r,"video-publisher-id":n,"video-publisher-name":o,"video-genre-id":ct(a),"video-genre-name":ct(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:l,"music-genre":d,"music-genre-name":c,"ad-session-id":Zs(),"pcode-icookie":Su.N,"pcode-test-ids":wu.z,"pcode-flags":JSON.stringify(xc.l),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0,uniformat:void 0})},Cu=e=>{let{adConfig:t,adBreak:i,random:r,win:n}=e;const{targetRef:o,width:a,height:s,tagsList:l,extParam:d,charset:c,distrId:u,metaRequestIndex:h,metaImpIdRequestIndex:p}=t,A=n.document.referrer,m=(0,yu.b)(n);let v;return o?(v=o,Wa.ot.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:Fa.yl})):"about:blank"===m?(v=A,Wa.ot.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:Fa.yl})):v=m,At({},bu(t),{"meta-request-index":void 0===h?void 0:String(h),"meta-impid-request-index":void 0===p?void 0:String(p),"repeat-number":pt(i)?String(i.repeatNumber):void 0,"target-ref":v,"page-ref":A,"video-width":a,"video-height":s,"tags-list":ct(l),"ext-param":d,charset:c||"UTF-8","video-session-id":i.sessionId,"skip-token":Tu.toBase64(),"distr-id":u,"enable-page-options":"65536",rnd:String(r),uniformat:"ENABLE"===ms.L.getFlagValueAndActivateTestId("UNIFORMAT")?"true":void 0})},Ou="Yabs Ad Server",Iu=[Ou,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],Pu={width:void 0,height:void 0},Du={text:"",textColor:"#FFFFFF",isVisible:!1};var Nu=e(4877),Ru=(e(6388),e(6401)),ku=e(8941);const Vu=1e3;class Lu extends Sl.V{constructor(){super(),this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)},this.addDestroyHandler((()=>{this.stop()}))}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise((t=>{this.addCallback(e,t)}))}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=St(this.callbacks,(e=>{let{time:t}=e;return t<=this.spent}));this.callbacks=t,(0,Ja.E)(e,(e=>{let{callback:t}=e;t()}))}}const Mu=wt({},Zl,{display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"YS Text, -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif",padding:"14px",backgroundColor:"#f4f6fb",fontSize:"14px",color:"#a3acbf"}),Bu={fontWeight:"600",fontSize:"16px",color:"#3a3d40",textAlign:"center"},xu={width:"calc(100% - 28px)"},Uu={listStyle:"none",margin:"0px",padding:"0px",alignSelf:"flex-start",width:"calc(100% - 28px)"},Fu=e=>{let{src:t,win:i}=e;const r=st(t),{promise:n,teardown:o}=(0,ku.C)({src:r?nu:t,win:i});return{promise:n.then((()=>i.getVPAIDAd)),teardown:o}},Hu=document.createElement("video"),Wu="function"===typeof Hu.load,zu=Wu?function(e,t){return void 0===t&&(t=Hu),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1;var ju=e(7671);const Gu=e=>{const t=Number(Fc(e));return s(t)?t:void 0},qu=Gu("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),Ku=(0,$d.f)(qu)?(0,ju.u)(qu,0,1):1e-6,Yu=ms.L.getFlagValueAndActivateTestId("PERFECT_VPR"),Zu=Number(Yu),Xu=l(Zu)?Zu:1,Ju=ms.L.getFlagValueAndActivateTestId("VPR_PRIORITY_MULTIPLIER"),Qu=Number(Ju),$u=(0,$d.f)(Qu)?Qu:1.2,eh=ms.L.getFlagValueAndActivateTestId("VAS_LONG_EXP_FLAG_VPR_PRIORITY_FACTOR"),th=Number(eh),ih=(0,$d.f)(th)?(0,ju.u)(th,0,1):0,rh=Gu("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_HLS"),nh=(0,$d.f)(rh)?rh:void 0,oh=Gu("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_MP4"),ah=(0,$d.f)(oh)?oh:void 0,sh=Gu("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNKNOWN_TYPE"),lh=(0,$d.f)(sh)?sh:void 0,dh=Gu("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNSET_TYPE"),ch=(0,$d.f)(dh)?dh:void 0,uh=Gu("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_WEBM"),hh=(0,$d.f)(uh)?uh:void 0,ph={bitratePriorityFactor:Ku,mediaFileTypePriorities:{webm:null!=hh?hh:1,mp4:null!=ah?ah:2,hls:null!=nh?nh:3,unknown:null!=lh?lh:3,unset:null!=ch?ch:4},vprPriorityFactor:ih,canPlayType:zu,perfectVpr:Xu,vprMoreThanOneMultiplier:$u};var Ah=e(3960);const mh="TRUE"===ms.L.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),vh="TRUE"===Fc("DISABLE_VP9_CODECS"),_h="TRUE"===Fc("ENABLE_H265_CODECS")||void 0,fh="video/webm";const gh=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},yh={multiplier:1,isVertical:!1},Eh=(0,Ya.I)((()=>{Wa.ot.error({error:new Ha.w({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:Fa.yl})})),Th=(e=>{const t=Bt(e);return!!t&&Boolean(v((()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"'))))})(window),Sh=Bt(),wh=!Ah.$&&zu("video/webm"),bh=Th&&wh,Ch=Sh&&(0,rs.E)(Sh),Oh=void 0!==window.AbortController&&void 0!==window.fetch&&(0,rs.E)(AbortController)&&(0,rs.E)(fetch),Ih=Ch&&Oh;const Ph=["application/vnd.apple.mpegurl","application/x-mpegurl"],Dh=["bitrate","minBitrate","maxBitrate","width","height"],Nh=(0,Ya.I)((e=>{Wa.ot.error({error:new Ha.w({code:"INVALID_MEDIA_FILE_BITRATE",details:{mediaFile:e}}),probability:Fa.yl})})),Rh=(0,Ya.I)((e=>{Wa.ot.error({error:new Ha.w({code:"INVALID_MEDIA_FILE_CODEC",details:{mediaFile:e}}),probability:Fa.yl})})),kh=(0,Ya.I)((e=>{Wa.ot.error({error:new Ha.w({code:"INVALID_MEDIA_FILE_HAS_AUDIO",details:{mediaFile:e}}),probability:Fa.yl})})),Vh=(0,Ya.I)((e=>{Wa.ot.error({error:new Ha.w({code:"INVALID_MEDIA_FILE_WIDTH_HEIGHT",details:{mediaFile:e}}),probability:Fa.yl})})),Lh=(0,Ya.I)((e=>{Wa.ot.error({error:new Ha.w({code:"INVALID_MEDIA_FILE_VMAF_AVG",details:{mediaFile:e}}),probability:Fa.yl})})),Mh=(0,Ya.I)((e=>{Wa.ot.error({error:new Ha.w({code:"MEDIA_FILE_TYPE_EMPTY",details:{mediaFile:e}}),probability:Fa.yl})})),Bh=E({PreloadingController:0,AdPodViewer:0},(e=>"initiator_"+e)),xh=(e,t)=>e+"_"+t;var Uh=e(2387);class Fh extends Sl.V{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const n=new r.ReportingObserver((e=>{i({reportSourceEvent:"callback",reports:e,records:n.takeRecords()})}),{buffered:!0});n.observe();const o=n.takeRecords();o.length&&i({reportSourceEvent:"buffered",reports:[],records:o}),this.addDestroyHandler((0,qa.V)({element:t,eventName:"beforeunload",listener:()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler((()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),n.disconnect()}))}}let Hh=0;const Wh=[],zh=(e,t)=>{const i=e.contentDocument.body;return Yt((()=>{var e;!(null!=(e=i.ownerDocument)&&e.defaultView)&&t()}))};class jh extends Sl.V{static create(e){const{parentElement:t,attributes:i,scope:r}=e,n=Zt(t,i);if(!n)throw Gt({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new jh(Jt({},e,{iframe:n}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,n=Xt(t,i);if(!n)throw Gt({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new jh(Jt({},e,{iframe:n}))}constructor(e){super();const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler((()=>{(0,Ua.L)(i)})),this.addDestroyHandler(zh(this.iframe,(()=>{this.destroy(Gt({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))}))),this.addDestroyHandler(Kt(this.window,((i,r,n)=>{const o="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;Wa.ot.error({error:Gt({scope:t,errorType:r,error:i,details:Jt({},o,{error:i,data:n})})})})))}}var Gh,qh=e(253);!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(Gh||(Gh={}));(0,os.n)({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});var Kh,Yh,Zh=e(5582);const Xh=null!=(Kh=null!=(Yh=window.URL)?Yh:window.webkitURL)?Kh:{},Jh=(0,As.m)(Xh.createObjectURL)&&(0,As.m)(Xh.revokeObjectURL)?Xh:void 0,Qh=e=>!!(0,wl.H)(e)&&(!!zu(e)&&(e=>Boolean(Jh)&&!Ut(e))(e)),$h=(0,os.n)({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class ep{constructor(e){this.ready=!1;const{type:t}=e;if(!Qh(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);$h.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then((t=>(this.ready=!0,null!=t?t:e)))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),(0,Cl.H)(this.blobUrl)&&(null==Jh||Jh.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await(i={method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e},new Promise(((e,t)=>{(0,Zh.W)($t({},i,{onSuccess:e,onError:t}))})));var i;return ei({},e,{url:null==Jh?void 0:Jh.createObjectURL(t)})}}const tp=["preloadTimeout"];class ip{constructor(e){this._isPreloaded=!1,this.preloaders=[];const{params:t,contentType:i,options:r,mediaAd:n}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i=Gh.NORMAL,preloadJS:r=!0,preloadVideo:n=!0}=e,{width:o=t.clientWidth,height:a=t.clientHeight}=e,s=X(e.desiredBitrate);let{preloadTimeout:l}=e;return("number"!==typeof l||l>zd)&&(l=zd),{preloadTimeout:l,width:o,height:a,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:n}}(t),this.contentType=i,this.getMediaFiles=r.getMediaFiles,this.getJSMediaFile=r.getJSMediaFile,this.getVastAd=r.getVastAd,this.mediaAd=n}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&Wa.ot.event({name:"PreloadCancelled",data:{reason:e},probability:Fa.yl}),this._promise=void 0,this._vpaidWindow=void 0,(0,Ja.E)(this.preloaders,(e=>e.destroy())),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd(),r=Et(i);if(!r&&t&&"video"===this.contentType)return void(await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams));if(!r&&e&&"js"===this.contentType)return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:n,animationMediaFile:o}}=ft(i.adParameters),a=[];if(!r)return;if(t&&n.length>0){const e=this._preloadVideoFile(n,this.parsedParams);a.push(e)}if(e&&o){const e=this._preloadAdCreative(o);a.push(e)}return void(await Promise.all(a))}catch(e){(0,Ja.E)(this.preloaders,(e=>e.destroy())),this.preloaders.length=0,this._logError(e,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=jh.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e){const t=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:i,teardown:r}=bt({animationMediaFile:e,win:t});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:r}),this._preloadedAdCreativeInitFunction=await i}catch(i){return void this._logError(i,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,tp),r=this.getJSMediaFile();if(!r)return;const n=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=n;try{const{promise:e,teardown:t}=Fu({src:r.url,win:n});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(s){return this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null==(t=n.Ya)?void 0:t.preloadVPAIDAd))return;const o=n.Ya.preloadVPAIDAd(ti({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let a;this.preloaders.push(o);try{a=await o.readyPromise}catch(s){return void this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=a.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:r,desiredBitrate:n}=t;const{adBreak:o}=this.mediaAd,a=this.mediaAd.getAdPodId(),{prioritisedMediaFile:s}=jt(e,ti({container:{width:i,height:r},desiredBitrate:n,isVideoADB:(0,As.m)((0,xl.x)()),allowedToHideVideoSlotAreaPortion:0},ph),{adBreak:o,adPodId:a,initiator:"PreloadingController"});if(!s)return;const l=cu(s),d=new ep(l);let c;this.preloaders.push(d);try{c=await d.readyPromise}catch(u){return void this._logError(u,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=c}_logError(e,t){Qt(e),Wa.ot.error({error:new Ha.w(e,{code:t})})}}class rp{constructor(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}static fromVastIcon(e){const t=new rp;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class np{get contentType(){return this.getIsConvertedFromVideoVast()?"video":this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.duration=0,this.getMediaFiles=()=>qe(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getAdContentDimensions=()=>function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:n}=t;if(Et(t)){const{parsed:{videoMediaFiles:e}}=ft(n);return 0===e.length?Pu:gt(e)}const o=yt(r,i);return gt(o?[o]:qe(r,i))}({vastAd:this.vastAd,secureMode:this.adConfig.secureMode}),this.getJSMediaFile=()=>yt(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getIsConvertedFromVideoVast=()=>{const{vastAd:{originallyConvertedFromVast:e}}=this;return!!e&&Ke({secureMode:this.adConfig.secureMode,vastAd:e})},this.getPreloadedAdCreativeInitFunction=()=>{var e;return null==(e=this.preloadingController)?void 0:e.preloadedAdCreativeInitFunction},this.adBreak=e,this.vastAd=t,this.adConfig=i,this.icons=(0,Ga.U)(this.vastAd.icons,(e=>rp.fromVastIcon(e))),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString+";"+(this.vastAd.bidreqid||"")+";"+(this.vastAd.campaignid||"")+";"+(this.vastAd.pageId||"")+";"+(this.vastAd.impId||"")+";"+(this.vastAd.vmapRequestId||"")}trackError(e){m(e,this.vastAd.trackingEvents.error)}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null==e?void 0:e.length)>0)}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new ip({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){return this.vastAd.adSystem===Ou}getIsIndependentOnVideoElement(){if(Tt(this.vastAd))return!0;this.getJSMediaFile();return!1}getIsYandexCreative(){return e=this.vastAd,(0,bl.q)(Iu,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null==(e=this.preloadingController)?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&((0,ja.q)("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.vastAd.imhoParams&&(!Et(this.vastAd)&&!n(e.url)))}}const op="TRUE"===ms.L.getFlagValueAndActivateTestId("ENABLE_ELEMENT_FROM_POINT"),ap=e=>{try{return"display"in ci(e)}catch(Lm){return!1}},sp=(0,Sc.N)();var lp=e(9369);const dp=function(e){if(void 0===e&&(e=window),(0,lp.P)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),cp=(0,lp.P)();var up=e(9321);const hp=wh?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var pp=e(2017);const Ap="__yaMuffleVideoPlayPromiseOriginalPlay",mp=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&mi(_i(e))}})(e);return()=>{t(),i(),r()}};var vp;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(vp||(vp={}));class _p{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:(0,as.K)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=vp[this.code]||"")}}var fp=e(8715);var gp;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(gp||(gp={}));var yp,Ep=e(5962),Tp=e(3452),Sp=e(5758);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(yp||(yp={}));const wp={once:!0,passive:!0};let bp=!1;const Cp=-1<sp&&sp<=16,Op=Ci({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:gp.AutomaticallyGenerated}),Ip=Ci({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:gp.AutomaticallyGenerated});class Pp{constructor(e,t){let{checkSoundEnabled:i,promise:r}=t;if(this.video=e,this.stop=up.Z,this.isStopped=!1,this.revertVideoState=up.Z,this.getIsActiveWindow())return this.promise=Promise.resolve(bi({},Ip,{detectionMethod:gp.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const n=document.createElement("div");n.style.display="none";const o=mp(e),a=wi(e,(()=>Ai(e,{src:hp})));let s;this.revertVideoState=(0,Ps.I)((()=>{a(),e.load(),o(),(0,Ua.L)(n)})),this.promise=new Promise((async(e,t)=>{let r,n,o;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);n=e.autoplayAbility,r=e.detectionMethod}else n=!1;if(!this.isStopped){if(n)o=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);o=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(Ci({canPlayUnMuted:n,canPlayMuted:o,detectionMethod:r||gp.NotRecognized})))}})),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(wi(t,(()=>{t.load()})),await ac(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:gp.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise((e=>{Si(t,{useProgressEvent:!0,timeoutForNonPromisePlay:500}).then((t=>{e({autoplayAbility:!0,detectionMethod:t})})).catch((i=>{const r=function(e){const{error:t}=e;return new _p(t)}(t);r&&r.code===vp.MEDIA_ERR_DECODE?setTimeout((()=>{e({autoplayAbility:!0,detectionMethod:gp.MediaError})}),0):e({autoplayAbility:!1,detectionMethod:i})}))}));return this.isStopped?{autoplayAbility:!1,detectionMethod:gp.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!(0,as.K)(i))return;const{isActive:r,hasBeenActive:n}=i;return{isActive:r,hasBeenActive:n}}(e);return Boolean(t&&t.hasBeenActive)}}var Dp;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(Dp||(Dp={}));const Np="TRUE"===Fc("DISABLE_SUBTITLES")||void 0,Rp="DISABLE"===Fc("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,kp={reason:1,action:0},Vp={reason:2,action:0},Lp={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},Mp={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},Bp={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},xp=Ii({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0},oo12QiserInfo:{reason:20,action:0}},Lp,Mp,Bp),Up={abuseUrl:"",legalInfoText:""},Fp="https://"+ts.FN+"/secure-ads",Hp="https://"+ts.FN+"/ads/oo12Qiser_info",Wp={isAvailable:!1},zp=/&\w+;/g,jp={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},Gp=e=>{if(!Array.isArray(e))return[];const t=(0,Ga.U)(e,(e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),n=e[3];if((0,wl.H)(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return(0,as.K)(n)&&e.push(n),e}}));return(0,_l.h)(t,(e=>void 0!==e))},qp=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!(0,as.K)(t)||!(0,as.K)(t.data_params))return;const i=Il(t.data_params);if(!(0,as.K)(i))return;const r=i.assets;if(!(0,as.K)(r))return;const n={},{logo:o,button:a,icon:s,app:d,images:c}=r;if((0,as.K)(o)){const e=(0,Uh.J)(o);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:o}=r;(0,wl.H)(e)&&Ni(n)&&Ni(o)&&(t[i]={url:e,width:n,height:o})}Ri(t)||(n.logo=t)}}if((0,as.K)(a)){const{caption:e,href:t,key:i}=a;(0,wl.H)(e)&&(0,wl.H)(t)&&(0,wl.H)(i)&&(n.button={caption:e,href:t,key:i})}if((0,as.K)(d)){const{review_count:e,store_name:t,name:i,download_count:r,rating:o,store_app_id:a,store_content_id:s,price_currency_symbol:c,price_currency_code:u,price:h,age:p,free:A}=d;Ni(e)&&(0,wl.H)(t)&&(0,wl.H)(i)&&(0,wl.H)(r)&&l(o)&&(0,wl.H)(a)&&(0,wl.H)(s)&&(0,wl.H)(c)&&(0,wl.H)(u)&&l(h)&&Ni(p)&&"boolean"===typeof A&&(n.app={review_count:e,store_name:t,name:i,download_count:r,rating:o,store_app_id:a,store_content_id:s,price_currency_symbol:c,price_currency_code:u,price:h,age:p,free:A})}if((0,as.K)(s)){const e=(0,Uh.J)(s);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:o}=r;(0,wl.H)(e)&&Ni(n)&&Ni(o)&&(t[i]={url:e,width:n,height:o})}Ri(t)||(n.icon=t)}}return(0,fl.k)(c)&&(n.images=Gp(c)),n},Kp=(0,Ya.I)((e=>{Wa.ot.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:Fa.yl})})),Yp=(0,Ya.I)((()=>{Wa.ot.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:Fa.yl})})),Zp=(0,Ya.I)((()=>{Wa.ot.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:Fa.yl})})),Xp=(0,Ya.I)((e=>{Wa.ot.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:Fa.yl})})),Jp=e=>{if(!(0,as.K)(e))return;const{AUCTION_DC_PARAMS:t,HAS_DOMAIN:i,AGE_BACKGROUND_COLOR:r,AGE_TEXT_COLOR:n,BODY_BACKGROUND_COLOR:o,BODY_TEXT_COLOR:a,BUTTON_BORDER_COLOR:s,BUTTON_COLOR:l,BUTTON_TEXT_COLOR:d,DISCLAIMER_BACKGROUND_COLOR:c,DISCLAIMER_TEXT_COLOR:u,DOMAIN_BACKGROUND_COLOR:h,DOMAIN_TEXT_COLOR:p,HAS_AGE:A,HAS_BODY:m,HAS_BUTTON:v,HAS_DISCLAIMER:_,HAS_LEGAL:f,HAS_TITLE:g,LEGAL_BACKGROUND_COLOR:y,LEGAL_TEXT:E,LEGAL_TEXT_COLOR:S,TITLE_BACKGROUND_COLOR:w,TITLE_TEXT_COLOR:b,BUTTON_POSITION:C,BUTTON_LABELS:O}=e;if(!(0,as.K)(t)||!(0,as.K)(t.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&Zp();const I=Il(t.data_params);if(!(0,as.K)(I)||!(0,as.K)(I.text))return;const P=I.text,{title:D,domain:N,green_url_text_prefix:R,green_url_text_suffix:k,body:V,age:L,banner_flags:M}=P,B=function(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:r}=e;return(0,wl.H)(i)?i:(0,wl.H)(r)?r:(0,wl.H)(t)?t:void 0}({domain:N,greenUrlTextPrefix:R,greenUrlTextSuffix:k}),x=I.unmoderated||P.unmoderated||{},{punyDomain:U}=x,F=Array.isArray(M)?M:[],{hasDrugDisclaimer:H,hasDietarysupplDisclaimer:W,hasDistanceSales:z,legalInfoText:j}=Vi(e);F.length>0&&Xp({bannerFlags:F}),x===P.unmoderated&&Yp();const G={title:tA(D),domain:tA(N),greenUrl:tA(B),punyDomain:tA(U),domainBackgroundColor:tA(h),domainTextColor:tA(p),hasGreenUrl:iA(i),body:tA(V),ageRestriction:tA(L),hasAgeRestriction:iA(A),extraLinks:Qp(x),legalInfoText:j,hasDrugDisclaimer:H,hasDietarysupplDisclaimer:W,hasDistanceSales:z,hasButton:iA(v),images:ki(e),clickThruUrl:Di(e),ageBackgroundColor:tA(r),ageTextColor:tA(n),bodyBackgroundColor:tA(o),bodyTextColor:tA(a),buttonBorderColor:tA(s),buttonColor:tA(l),buttonTextColor:tA(d),hasDisclaimer:iA(_),disclaimerBackgroundColor:tA(c),disclaimerTextColor:tA(u),hasBody:iA(m),hasLegal:iA(f),hasTitle:iA(g),legalBackgroundColor:tA(y),legalText:tA(E),legalTextColor:tA(S),titleBackgroundColor:tA(w),titleTextColor:tA(b),buttonPosition:tA(C),buttonLabels:rA(O),offer:I,assets:qp(e),targetUrl:T(e)};return G.title&&(G.title=Pi(G.title)),G.body&&(G.body=Pi(G.body)),G},Qp=e=>{if(!(0,as.K)(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:n,metro:o,region:a}=e;if(eA(t)){const e=(0,_l.h)(t,(e=>(0,wl.H)(e.title)&&(0,wl.H)(e.url)));if(e.length)return(0,Ga.U)(e,(e=>({type:"sitelink",text:e.title,url:e.url})))}const s=null==i?void 0:i.callouts_list;if($p(s)){const e=(0,_l.h)(s,wl.H);if(e.length)return(0,Ga.U)(e,(e=>({type:"callout",text:e})))}const l=(0,_l.h)([r,n,o,a],wl.H);return(0,Ga.U)(l,(e=>({type:"contact",text:e})))},$p=e=>Array.isArray(e)&&Ac(e,Cl.H),eA=e=>Array.isArray(e)&&Ac(e,as.K),tA=e=>(0,wl.H)(e)?e:void 0,iA=e=>"boolean"===typeof e?e:void 0,rA=e=>(0,as.K)(e)&&Ac(pe(e),(e=>"string"===typeof e))?e:void 0,nA=Gu("VAS_AUTOGENERATED_PACKSHOT_DURATION"),oA=!1,aA={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:-2,getAdVolume:0,getAdIcons:false,getAdExpanded:false,getAdHeight:0,getAdWidth:0,getAdLinear:!0,getAdSkippableState:oA},sA=Li({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),lA=Li({},aA,sA),dA={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},cA={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},uA={adVolume:"setAdVolume"},hA=null===Hu.onwaiting,pA=!hA||uu||Ah.$?(e,t)=>{let i=0,r=false;return Yt((()=>{const n=e.currentTime,o=e.duration;if(!e.paused){const e=i+.004;r?n>e&&(t(!1),r=!1):n<e&&n!==o&&(t(!0),r=!0)}i=n}))}:(e,t)=>{let i=false;const r=Ti(e,"pause",(()=>{i&&(i=!1,t(!1))}),{passive:!0}),n=Ti(e,"waiting",(()=>{i||(i=!0,t(!0))}),{passive:!0}),o=Ti(e,"playing",(()=>{i&&(i=!1,t(!1))}),{passive:!0}),a=Ti(e,"canplay",(()=>{i&&(i=!1,t(!1))}),{passive:!0});return()=>{r(),n(),o(),a()}};class AA extends Sl.V{constructor(){super(),this.isPlaying=new cl.R(!1),this.isBuffering=new cl.R(!1),this.bufferingTimeCount=new Lu,this.addDestroyHandler((()=>{this.bufferingTimeCount.destroy()}))}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(pA(e,(e=>{this.isBuffering.dispatch(e)}))),this.addDestroyHandler(Mi([this.isPlaying,this.isBuffering],((e,t)=>e&&t),(e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()})))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/Vu}}const mA={AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdPaused:"pause",AdPlaying:"resume"},vA={adloox:"AdCreativeInitMeasurer_adloox",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",weborama:"AdCreativeInitMeasurer_weborama"},_A=["impression"],fA={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"}},gA=(0,dl.Z)({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0});class yA extends Sl.V{constructor(e){var t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})},this.getElementWindow=e=>{var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||null};const i=Ll(e);this.onResize=new cl.R({width:i.width,height:i.height},((e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r})),this.addDestroyHandler((()=>{this.onResize.removeAll()}));const r=this.getElementWindow(e),n=null!=(t=null==r?void 0:r.ResizeObserver)?t:window.ResizeObserver;if("undefined"!==typeof n&&(0,rs.E)(ResizeObserver))try{const t=new n(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler((()=>{t.disconnect()}))}catch(o){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return Fi({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=Ll(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler((0,qa.V)({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(Yt(i))}}class EA{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class TA{constructor(e){this.stopped=!0,this.lastNow=0,this.lastKnockTime=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0,this.distributionFunction=e,this.clock=new EA}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout((()=>{this.knock(this.lastNow+this.lastTimeout)}),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout((()=>{this.knock(e+t)}),t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const SA={height:0,width:0},wA=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],bA=1,CA=2,OA=3,IA=4,PA=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},DA=PA();var NA=e(4217);const RA={PAGEURL:encodeURIComponent((0,NA.w)(document).location),Y_DEVICE_TYPE:DA?"mobile":"desktop",Y_AD_SESSION_ID:Ks()},kA=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),VA=(e,t,i,r)=>{(0,as.K)(t)?(r=Boolean(i),(0,Cd.M)(t,((t,i)=>{Yi(e,i,t,r)}))):Yi(e,t,i,r)},LA=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),MA=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();var BA=e(9843);const xA=es([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],(e=>null!==navigator.userAgent.match(e)));var UA=e(619),FA=e(7582);const HA=!0,WA=.5,zA=2;class jA extends Sl.V{constructor(e,t){let{considerDocumentVisibility:i=HA,numberOfMeasurementSteps:r=zA,enableElementFromPoint:n}=void 0===t?{}:t;super(),this.totalVisibilityValueSignal=new cl.R(!1),this.documentVisibilityValueSignal=new cl.R(true),this.recalculateVisibility=()=>{if(this.isDestroyed||!pi(this.element))return;const e=nr(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)},this.element=e;const o=Math.max(r,zA);this.elementVisibilityRatioValueSignal=new cl.R(0),this.isElementReachableByElementFromPointValueSignal=new cl.R(!0),this.enableElementFromPoint=n;const a=e.ownerDocument.defaultView.IntersectionObserver;Boolean(a)?this.startIntersectionObserver(a,o):this.startVisibilityCheckInterval(),this.startCheckVisibilityWithElementFromPointInterval(),i&&this.startObservingDocumentVisibility(e.ownerDocument);const{valueSignal:s,teardown:l}=er([this.elementVisibilityRatioValueSignal,this.documentVisibilityValueSignal,this.isElementReachableByElementFromPointValueSignal],((e,t,i)=>i&&t?e:0));s.add((e=>{this.totalVisibilityValueSignal.dispatch(e>=WA)})),this.totalVisibilityRatioValueSignal=s,this.addDestroyHandler((()=>{this.totalVisibilityValueSignal.removeAll(),l(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll(),this.isElementReachableByElementFromPointValueSignal.removeAll()}))}startIntersectionObserver(e,t){const i=[WA],r=1/t;for(let o=1;o<t;o++)i.push(o*r);const n=new e((e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)}),{threshold:i});n.observe(this.element),this.addDestroyHandler((()=>{n.disconnect()}))}startVisibilityCheckInterval(){const e=Yt(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=(0,El.n)(0);t.then(this.recalculateVisibility).catch(za.Z),this.addDestroyHandler(i)}startCheckVisibilityWithElementFromPointInterval(){if(!this.enableElementFromPoint)return;const e=Yt((()=>{const e=!Ji(this.element,[[0,0]]);this.isElementReachableByElementFromPointValueSignal.dispatch(e)}));this.addDestroyHandler(e)}async startObservingDocumentVisibility(e){await ac(0);const t=(0,UA.s)(e);this.documentVisibilityValueSignal.dispatch(t);const i=or(e,(e=>{this.documentVisibilityValueSignal.dispatch(e)}));this.addDestroyHandler(i)}}class GA{constructor(){var e=this;this.events={},this.subscribe=(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})},this.unsubscribe=(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=(0,_l.h)(i,(t=>{let{callback:i}=t;return e!==i})))},this.dispatch=function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if("string"!==typeof t)throw new Error("Event name MUST be a string");const o=e.events[t];o&&(0,Ja.E)(o,(e=>{let{callback:i,context:n}=e;try{i.apply(n,r)}catch(Lm){Wa.ot.error({error:new Ha.w(Lm,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}}))}}}e(942);const qA=WBViewAbility;var KA=e(44);const YA="https://pixel.adlooxtracking.com/ads/ic.php",ZA={id1:"",id2:"",id5:"",id7:"",id9:""},XA="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",JA=ps.K.split("/"),QA=JA[JA.length-1],{initMoatTracking:$A}=e(8767),em={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},tm="yandexhostedvideo786420153684",im={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;const o=i.ownerDocument.defaultView,a=(e=>"https://"+ts.N9+"/pcode-static/measurers/"+e+"/video/adriver.js")(n);await(0,KA.v)({win:o,src:a}).promise;new o.AdriverViewabilityYandexVPAID(lr({},r,{ya_custom:"ADSID="+vs.x}),i,t),(0,ja.q)("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:o,verifyLogAdditionalData:a=""}=e;const s=$A(i,dr({},r,{zMoatADID:a,slicer1:QA,partnerCode:tm}),t.getAdDuration(),tm,o);(0,Ja.E)((0,dl.Z)(em),(e=>{t.subscribe((()=>{try{s.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(i){n(new Ha.w({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:i,eventName:e}}))}}),e)}))},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:o,verifyLogAdditionalData:s=""}=e;var l;const d=sr({},r,{targetelt:((l=i).id||(l.id=(0,Vl.a)(8)),l.id),urli:XA,urlv:XA,urle:XA},{id8:s}),c=(0,gl.u)((0,Uh.J)(d),((e,t,i)=>{let[r,n]=t;return"string"!==typeof n?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(n)}),"");t.subscribe((()=>{const e=""+(e=>"https://"+ts.N9+"/pcode-static/measurers/"+e+"/video/adloox.js")(o)+c;var t;a((t=sr({},ZA,d),(0,Qa.Sr)(YA,(e=>{let{id1:t,id2:i,id5:r,id7:n,id9:o}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:n,id9:o,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(t)))),(0,KA.v)({win:i.ownerDocument.defaultView,src:e}).promise.catch((e=>{n(new Ha.w({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))}))}),"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n,verifyLogAdditionalData:o=""}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+ts.N9+"/pcode-static/measurers/"+e+"/video/weborama.js")(n);await(0,KA.v)({win:a,src:s}).promise;new a.WBMeasurerV(i,t,JSON.stringify(cr({},r,{siteid:o}))),(0,ja.q)("weborama measurer loaded")},yandexTestMeasurer:async e=>{let{vpaidCreative:t}=e;(0,ja.q)("start YandexTestMeasurer initialization"),(0,Ja.E)(gA,(e=>{const i=(0,Ya.I)((()=>{var t;Wa.ot.event({name:(t=e,"YandexTestMeasurerVpaidEvent_"+t),data:void 0,probability:Fa.yl})}));t.subscribe((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,ja.q)("YandexTestMeasurer received VPAID event=["+e+"], args=["+ge(r)+"]"),i()}),e)})),(0,ja.q)("complete YandexTestMeasurer initialization")}},rm={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"42",unstable:"42"},adriver:{actual:"28",unstable:"28"},yandexTestMeasurer:{actual:"1",unstable:"2"}},nm=(0,dl.Z)(im),om="omid",am={1:[],2:[],3:[],5:[]},sm=["use_unstable_script"];class lm extends Sl.V{constructor(e,t,i){var r,n;super(),r=this,this.userInteractionDispatchers={AdClickThru:e=>{this.onClickThru.dispatch(e)},AdSkipped:()=>{this.onSkipped.dispatch(void 0)},AdStopped:()=>{this.onStopped.dispatch(void 0)},AdVideoComplete:()=>{this.onVideoComplete.dispatch(void 0)},AdUserClose:()=>{this.onUserClose.dispatch(void 0)}},this.playingStateValueSignal=new cl.R(!1),this.slotHoverStateValueSignal=new cl.R(!1),this.shouldPlayTimeCounter=new Lu,this.vpaidEventBus=new GA,this.vpaidCreativeProxyForMeasurersEventBus=new GA,this.isVisibilityConfirmed=!1,this.initializedMeasurers=void 0,this.initMeasurableParameters=(0,Ya.I)((e=>{var t;const i=e[4];if(!(0,as.K)(i))throw new Ha.w({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:r}=i,n=e[5];if(!(0,as.K)(n)||!(0,as.K)(n.slot))throw new Ha.w({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:o,videoSlot:a,yandexAdPlaybackParams:s}=n,l=null!=(t=this.parameters.measurersSlot)?t:o;this.bufferingTimeManager.start(a);const{parameters:d,errors:c}=_r(r);if((0,Ja.E)(c,this.callbacks.onExecutionError),!d)throw new Ha.w({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:r}});const{skipAdSdkDetect:u}=d;if(!(0,as.K)(s)){const e=new Ha.w({code:u?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:"Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",details:{adParameters:r}});if(this.callbacks.onExecutionError(e),!u)throw e}this.vpaidInitParameters={slot:l,videoSlot:a,adParameters:d},this.initMeasurers()})),this.initMeasurers=(0,Ya.I)((()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t}=this;if(!e)return this.callbacks.onExecutionError(new Ha.w({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:r},slot:n}=e;if(r&&"string"===typeof r.wbStatData)try{(new qA).init(n,r.wbStatData,t)}catch(a){this.callbacks.onExecutionError(new Ha.w(a,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}const o=gr({},i,{yandexTestMeasurer:{}});return this.initializedMeasurers=o,Promise.all((0,Ga.U)((0,dl.Z)(o),(async e=>{const i=o[e],r=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(i,sm),s=im[e],l=((e,t)=>{const i=rm[e],r=t;return(0,as.K)(r)&&"use_unstable_script"in r&&Boolean(r.use_unstable_script)?i.unstable:i.actual})(e,i);try{await s({vpaidCreative:t,slot:n,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:l,verifyLogAdditionalData:this.parameters.verifyLogAdditionalData}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:n,measurerParameters:r})}catch(a){this.callbacks.onExecutionError(new Ha.w({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new ul.s(a)}}))}})))})),this.trackRenderUndetermined=(0,Ya.I)((()=>{this.trackEvent("renderUndetermined",this.getTrackingUrlsByTrackingEventName("renderUndetermined"),void 0)})),this.trackEncounters=(0,Ya.I)((e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.trackImpression()):this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),this.trackImpression=(0,Ya.I)((()=>{this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0),this.trackImpressionWithVisibility()})),this.trackTrueView=(0,Ya.I)((e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),this.startMeasurement=(0,Ya.I)((()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Ha.w({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:r}=e,{viewability:n,dwell:o}=i;this.addDestroyHandler(Ui(t,(e=>{this.slotHoverStateValueSignal.dispatch(e)})));const a=new yA(t),s=a.getSize();this.callbacks.onSlotSizeChange(s);const l=Xi(r)?new yA(r):a,d=new cl.R(xi(s,Gd));let c;if(a.onResize.add((e=>{this.callbacks.onSlotSizeChange(e),d.dispatch(xi(e,Gd))})),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new jA(t,{numberOfMeasurementSteps:10});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler((()=>e.destroy()))}this.measurerStartParameters={videoSlotSize:l.onResize,slotSize:a.onResize,visibilityRatio:c},this.addDestroyHandler(c.add((e=>{this.slotVisibilityStateValueSignal.dispatch(e>=WA)}))),this.addDestroyHandler((()=>{l.destroy(),a.destroy()}));const u=new TA((e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),3e4})),h=new TA((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"viewability5",intervalId:5}:1===r?{eventName:"viewability1",intervalId:1}:2===r?{eventName:"viewability2",intervalId:2}:3===r?{eventName:"viewability3",intervalId:3}:void 0;var r;return void 0!==i&&this.trackEvent(i.eventName,n[i.intervalId],void 0),fr(t)})),p=new TA((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"dwell5",intervalId:5}:1===r?{eventName:"dwell1",intervalId:1}:2===r?{eventName:"dwell2",intervalId:2}:3===r?{eventName:"dwell3",intervalId:3}:void 0;var r;return void 0!==i&&this.trackEvent(i.eventName,o[i.intervalId],void 0),fr(t)})),A=new TA((e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),A.destroy()),fr(t)}));this.addDestroyHandler((()=>{u.destroy(),h.destroy(),p.destroy(),A.destroy()})),this.addDestroyHandler(this.playingStateValueSignal.add((e=>{u.setEnabled(e)})));let m=new cl.R(!0);if("Multiroll"!==Cs.R0&&(e=>!!tl&&"IntersectionObserverEntry"in e&&"isVisible"in e.IntersectionObserverEntry.prototype)(window)&&"TRUE"===ms.L.getFlagValueAndActivateTestId("ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY")){const e=(e=>{let{element:t}=e;const i=new cl.R(!0),r=t.ownerDocument,n=r.defaultView,o=r.createElement("div");Zi(o,{pointerEvents:"none",width:"4px",height:"4px",position:"absolute",top:"50%",left:"50%",marginTop:"-1px",marginLeft:"-1px",zIndex:"999"},!0),t.append(o);const a=new n.IntersectionObserver((e=>{const[t]=e,{isVisible:r=!0}=t;i.dispatch(r)}),{trackVisibility:!0,delay:100});return a.observe(o),{teardown:()=>{a.disconnect(),i.removeAll(),(0,Ua.L)(o)},visualVisibilitySignal:i}})({element:t});this.addDestroyHandler(e.teardown),m=e.visualVisibilitySignal}this.addDestroyHandler(Mi([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,d,m],((e,t,i,r)=>e&&t&&i&&r),(e=>{e&&A.reset(),h.setEnabled(e),A.setEnabled(e)}))),this.addDestroyHandler(Mi([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,d,m],((e,t,i,r,n)=>e&&t&&i&&r&&n),(e=>{p.setEnabled(e)})))})),this.methodInterceptors={subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe},this.onClickThru=new Ml.M,this.onSkipped=new Ml.M,this.onStopped=new Ml.M,this.onVideoComplete=new Ml.M,this.onUserClose=new Ml.M,this.eventInterceptors={AdLoaded:()=>{this.initMeasurers().then((()=>{this.vpaidEventBus.dispatch("AdLoaded")})).catch(ol.L)},AdClickThru:(e,t,i)=>{var r;this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_CLICK_THRU_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}})),this.onClickThru.dispatch({url:e,id:t,playerHandles:i}),this.vpaidEventBus.dispatch("AdClickThru",e,t,i)},AdVideoStart:()=>{this.vpaidEventBus.dispatch("AdVideoStart"),"video"===this.parameters.encountersTrackingMode&&this.trackImpression()},AdSkipped:()=>{var e;this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onSkipped.dispatch(void 0),this.vpaidEventBus.dispatch("AdSkipped")},AdUserClose:()=>{var e;this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onUserClose.dispatch(void 0),this.vpaidEventBus.dispatch("AdUserClose")},AdStopped:()=>{var e;this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_STOPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onStopped.dispatch(void 0),this.vpaidEventBus.dispatch("AdStopped")},AdVideoComplete:()=>{var e;this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_VIDEO_COMPLETE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onVideoComplete.dispatch(void 0),this.vpaidEventBus.dispatch("AdVideoComplete")}},this.vpaidWillSetProperty=(e,t)=>{this.vpaidCreative[e]=t},this.vpaidWillCallMethod=(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(r){return this.vpaidEventBus.dispatch("AdError",r),void this.destroy({error:r})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodInterceptors[e];if(i)return i(...t);return this.vpaidCreative[e].apply(this.vpaidCreative,t)},this.trackImpressionWithVisibility=()=>{const e=rl()?"impressionUndetermined":"impressionDetermined";this.trackEvent(e,this.getTrackingUrlsByTrackingEventName(e),void 0)},this.updatePlayTimeCounter=e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}},this.trackEvent=function(e,t,i){if(void 0===t&&(t=[]),(0,ja.q)("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters||!r.measurerStartParameters)return void r.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:n,videoSlotSize:o,visibilityRatio:a}=r.measurerStartParameters,s=$s(n.getValue()),l=$s(o.getValue()),d={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Gi({win:window,slotSize:s,videoSlotSize:l,slotVisibilityRatio:a.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()}),pixelsSource:"adParameters"};Ki(d),r.callbacks.onTrackEvent(d),Bi(e,r.initializedMeasurers)},this.vpaidCreative=e,this.parameters=t,this.callbacks=i,this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.onClickThru.add((e=>{let{url:t,id:i,playerHandles:r}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),void 0),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,i,r)})),this.addDestroyHandler(this.onSkipped.add((()=>{this.trackEvent("skip",this.getTrackingUrlsByTrackingEventName("skip"),void 0),this.destroy({reason:"AdSkipped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdSkipped")}))),this.addDestroyHandler(this.onUserClose.add((()=>{this.trackEvent("close",this.getTrackingUrlsByTrackingEventName("close"),void 0),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdUserClose")}))),this.onStopped.addOne((()=>{this.destroy({reason:"AdStopped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdStopped")})),this.addDestroyHandler(this.onVideoComplete.add((()=>{this.trackEvent("complete",this.getTrackingUrlsByTrackingEventName("complete"),void 0),this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdVideoComplete")}))),this.playingStateValueSignal.add(i.onPlayingStateChange);let o=!1;t.visibilityRatio&&(o=t.visibilityRatio.getValue()>=WA),this.slotVisibilityStateValueSignal=new cl.R(o),null==(n=t.visibilityRatio)||n.add((e=>this.slotVisibilityStateValueSignal.dispatch(e>=WA))),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new AA,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.addDestroyHandler((e=>{i.onStop(e),(0,Ja.E)([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],(e=>{e.dispatch(!1),e.removeAll()}))})),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=f(sA,((e,t)=>()=>{(0,ja.q)("Measurer called VPAID action method=["+t+"]"),Wa.ot.event({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t}})})),r=f(aA,((t,i)=>function(){const t=e[i];for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.apply(e,n)}));(0,Ja.E)(gA,(e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...r)}),e)}));return ar(gr({},i,r,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;(0,Ja.E)(gA,(t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.vpaidDidDispatchEvent(t,r)}),t)}))}vpaidDidDispatchEvent(e,t){const i=mA[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Ha.w({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};(0,ja.q)("Track VPAIDMeasurer event=[error]"),A(i),this.callbacks.onAdError(i)}var r,n,o;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdImpression"===e)&&this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null==(n=this.vpaidInitParameters)?void 0:n.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new Ha.w({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null==(o=this.vpaidInitParameters)?void 0:o.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdError":this.destroy({reason:e})}const a=this.eventInterceptors[e];void 0===a?this.vpaidEventBus.dispatch(e,...t):a(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?(0,Ga.U)(i,(t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return(0,as.K)(i)?(0,Qa.Sr)(t,i,{override:!1}):t})):[]}getConsumerAdditionalTrackingParams(e,t){const i=(0,Ys.Y)((()=>{var i,r;return null==(i=(r=this.parameters).getAdditionalTrackingParameters)?void 0:i.call(r,{eventName:e,url:t})}));return!(0,as.K)(i)||Ri(i)?null:i}onAdVideoStart(){this.measurerStartParameters?(this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}),rl()&&this.trackRenderUndetermined()):this.callbacks.onExecutionError(new Ha.w({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const dm=["clickThrough","close","impression","mute","skip","unmute"];var cm=e(4590);const um={},hm=()=>0,pm=()=>false,Am=()=>false,mm=()=>"2.0";class vm{constructor(e){this.dispatch=(0,Ya.I)((e=>{this.value=e,this._isDispatched=!0,(0,Ka.p)(this.callbacks,e),this.callbacks.length=0})),this.callbacks=[],this._isDispatched=!1,(0,As.m)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),za.Z):(this.callbacks.push(e),()=>{this.callbacks=(0,_l.h)(this.callbacks,(t=>t!==e))})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise((e=>{this.subscribe(e)}))}}var _m=e(554);class fm extends Sl.V{constructor(e){super(),this.params=e,this.promise=this.loadAdCreative().catch((e=>{throw this.destroy(),e}))}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:r}=this.params;if(!(0,As.m)(r))throw new Ha.w({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let n,o,a;try{const a=r({adParametersString:e,slot:t,externalLiveCycle:i});sl(a)?(Wa.ot.event({name:"UsingAdCreativeFunctionWithoutTeardown",data:{adParameters:e},probability:Fa.yl}),n=a,o=za.Z):(n=a.promise,o=a.teardown)}catch(Lm){throw new Ha.w(Lm,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!sl(n))throw new Ha.w({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{a=await n}catch(Lm){if(o(),(0,kl.S)(Lm))throw Lm;throw new Ha.w(Lm,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),a}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const gm={startAd:()=>new Promise(za.Z),stopAd:za.Z};class ym extends Sl.V{constructor(e){super(),this.vpaidEventBus=new GA,this.handshakeVersion=mm,this.subscribe=this.vpaidEventBus.subscribe,this.unsubscribe=this.vpaidEventBus.unsubscribe,this.resizeAd=za.Z,this.expandAd=za.Z,this.collapseAd=za.Z,this.getAdIcons=Am,this.getAdExpanded=pm,this.setAdVolume=za.Z,this.getAdVolume=hm,this.initAd=(0,Ya.I)((()=>{this.vpaidEventBus.dispatch("AdLoaded")})),this.videoStartedLatch=new vm,this.adCreativeLatch=new vm,this.completeLatch=new vm,this.isPackshotStarted=new vm,this.remainingTime=new cl.R(-2),this.shouldPlay=new cl.R(!1),this.isPlaying=new cl.R(!1),this.shouldPlayTimeCounter=new Lu,this.lifeCycleLatches=f({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},((e,t)=>new vm(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch(t)}))))),this.stopAnimation=za.Z,this.beforeDestroyLatch=new vm,this.packshotCurrentTime=0,this.destroyReasonSniffers={complete:()=>{this.params.adCreativeUserInteractionCallbacks.AdVideoComplete()},skip:()=>{this.params.adCreativeUserInteractionCallbacks.AdSkipped()},close:()=>{this.params.adCreativeUserInteractionCallbacks.AdUserClose()},stopAd:za.Z},this.pauseAd=()=>{this.shouldPlay.dispatch(!1)},this.resumeAd=()=>{this.shouldPlay.dispatch(!0)},this.getAdHeight=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoHeight)?e:0},this.getAdWidth=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoWidth)?e:0},this.getAdLinear=()=>!1,this.getAdDuration=()=>{const e=this.getVideoDuration();return e||-1},this.getAdRemainingTime=()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDuration(),{currentTime:i}=t.getCurrentPosition();if(l(e)&&(0,$d.f)(i)){if(this.isPackshotStarted.getValue()){const e=this.getPackshotBgVideoDuration();return Math.max(e-this.packshotCurrentTime,0)}return Math.max(e-i,0)}}return-1},this.getAdSkippableState=()=>!0,this.dispatchAdStarted=()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")},this.params=e,this.addDestroyHandler((()=>{this.beforeDestroyLatch.dispatch(void 0)}));const{videoParameters:t,videoNodeController:i,slot:r,slotSize:n,packshotParameters:a,getVPAIDLogDetails:s,adCreativeUserInteractionCallbacks:d}=e;if(this.vpaidEventBus.subscribe((e=>{Wa.ot.errorToStats(e)}),"AdError"),this.addDestroyHandler((0,Ya.I)(d.AdStopped)),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.shouldPlay.add((e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()})),this.remainingTime.add((()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")})),this.beforeDestroyLatch.subscribe((()=>{this.remainingTime.removeAll()})),t){this.getAdVolume=()=>i.getVolume(),this.setAdVolume=e=>{0===e?i.setMuted(!0):i.setVolume(e)};const e=()=>{const e=i.playingState.getValue()===Dp.PLAY;this.isPlaying.dispatch(e)};this.beforeDestroyLatch.subscribe(i.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(i.pause(),t&&(this.attachToVideoNode(t,i),this.addDestroyHandler(this.adCreativeLatch.subscribe((()=>{this.shouldPlay.getValue()&&i.play();const e=this.shouldPlay.add((e=>{e?i.play():i.pause()}));this.isPackshotStarted.subscribe(e),this.beforeDestroyLatch.subscribe(e)})))),this.params.videoParameters?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe((e=>{const{getAdDuration:t,getAdRemainingTime:i}=e;if(!t||!i)return void this.dispatchAdStarted();const r=this.remainingTime.add((()=>{0!==t()-i()&&(this.dispatchAdStarted(),r())}));this.addDestroyHandler(r)})),this.adCreativeLatch.subscribe((e=>{const{getAdDuration:i,getAdRemainingTime:r,resizeAd:o}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add((t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)})),t||((0,As.m)(i)&&(this.getAdDuration=()=>i.call(e)),(0,As.m)(r)&&(this.getAdRemainingTime=()=>r.call(e),this.beforeDestroyLatch.subscribe(Yt((()=>{this.remainingTime.dispatch(this.getAdRemainingTime())}))))),this.stopAnimation=(0,Ya.I)((()=>{e.stopAd()})),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(n.add((t=>{(0,As.m)(o)&&o.call(e,t)})))})),a){const e=r.ownerDocument.defaultView;if(e){const e="packshot"===a.type?a.packshotImageUrl:void 0;e&&this.lifeCycleLatches.AdVideoThirdQuartile.subscribe((()=>{o(e)})),this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch("AdVideoComplete"),this.isPackshotStarted.dispatch(a)})))}else Wa.ot.error({error:new Ha.w({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(e)}}),probability:Fa.yl})}else this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.stopAdAndDestroyWrapper("complete")})));this.isPackshotStarted.subscribe((e=>{this.stopAnimation();const t="packshot"===e.type?e.renderLayoutComponent(e):e.renderLayoutComponent();this.shouldPlay.add((e=>{t.setPlaying(e)})),t.progress.add((t=>{"packshot"===e.type&&(this.packshotCurrentTime=Math.min(e.packshotDuration,e.packshotDuration*t))})),t.addDestroyHandler((e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(Wa.ot.error({error:new Ha.w({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:s()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):this.destroy()})),this.addDestroyHandler((()=>{t.destroy({reason:"stopAd",details:void 0})}))})),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()})))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null==(e=this.params.videoParameters)?void 0:e.getAutoplay();!t||i?((0,ja.q)("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)):((0,ja.q)("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),Wa.ot.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,canAutoplay:i},probability:Fa.yl})),this.beforeDestroyLatch.subscribe(this.shouldPlay.add((e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")}))),this.beforeDestroyLatch.subscribe((()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()}))}stopAd(){this.destroy()}skipAd(){this.stopAdAndDestroyWrapper("skip")}stopAdAndDestroyWrapper(e){this.destroyReasonSniffers[e](),this.destroy()}getVideoDuration(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{duration:e}=t.getCurrentPosition(),i=l(e)?e:void 0;if(i){return i+this.getPackshotBgVideoDuration()}}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:r,videoParameters:n}=this.params;if(!e)return void this.adCreativeLatch.dispatch(gm);const{animationMediaFile:o,getPreloadedAdCreativeInitFunction:a,adCreativeParameters:s}=e;let l=a();try{if((0,As.m)(l))0;else{0;const{promise:e,teardown:i}=bt({animationMediaFile:o,win:t});this.beforeDestroyLatch.subscribe(i),l=await e}}catch(u){if((0,kl.S)(u))throw u;throw new Ha.w(u,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const d=new fm({slot:r,adParametersString:s,externalLiveCycle:Boolean(n),initAdCreative:l});this.beforeDestroyLatch.subscribe((()=>{d.destroy()}));const c=await d.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}attachToVideoNode(e,t){const{videoSlotSize:i,videoContentSize:r,videoMediaFile:n,videoMediaFiles:o,videoTimeout:a,bufferEmptyLimit:s,bufferFullTimeout:d,durationFallback:c,onVideoBufferingStateChange:u}=e,{videoNode:h}=t,{clickThroughUrl:p,animationParameters:A,slot:m}=this.params;t.onVolumeChange.add((()=>this.vpaidEventBus.dispatch("AdVolumeChange")));const v=Date.now();this.addDestroyHandler(t.onCanPlay.addOne((()=>{Wa.ot.values({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-v},data:void 0,labels:{},probability:Fa.yl})}))),t.setSrc(n),(0,wl.H)(p)&&this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{const e=()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:p,id:void 0,playerHandles:!0})};this.beforeDestroyLatch.subscribe(t.onClick.add((()=>{Wa.ot.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:p}}),e()}))),Xi(h)&&!Gd&&this.beforeDestroyLatch.subscribe(di(h,{cursor:"pointer"})),void 0===A&&(this.beforeDestroyLatch.subscribe((0,qa.V)({element:m,eventName:"click",listener:()=>{Wa.ot.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:p}}),e()},ignoreBubbling:!0})),Gd||this.beforeDestroyLatch.subscribe(di(m,{cursor:"pointer"})))}))),this.beforeDestroyLatch.subscribe(t.onVolumeChange.add((()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}))),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{const e=t.onPlayAfterPause.add((()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")})),i=t.playingState.add((e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")}));this.beforeDestroyLatch.subscribe(e),this.beforeDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)})));const _=()=>{const e=this.adCreativeLatch.getValue();if(!e||!(0,As.m)(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();l(t)&&(0,$d.f)(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.beforeDestroyLatch.subscribe(function(e){function t(){let{duration:e}=i.getCurrentPosition();return l(e)||(e=r()),e}let{videoNodeController:i,durationFallback:r,callbacks:{AdStarted:n,AdVideoFirstQuartile:o,AdVideoMidpoint:a,AdVideoThirdQuartile:s,AdVideoBeforeComplete:d,AdVideoComplete:c}}=e;const u=(0,Ya.I)(o),h=(0,Ya.I)(a),p=(0,Ya.I)(s),A=(0,Ya.I)(d);let m=0;const v=()=>{const e=t();if(!l(e))return;const{currentTime:r}=i.getCurrentPosition(),n=(r-m)/e;n>=.25&&u(),n>=.5&&h(),n>=.75&&p()},_=(0,Ya.I)((()=>{v(),c()})),f=[Sr(i.videoNode,(()=>{m=i.getCurrentPosition().currentTime,n()})),i.currentPosition.add((e=>{let{currentTime:i}=e;const r=function(e){let{currentTime:t,duration:i}=e;return!(t>=i)&&t+.5>=i}({currentTime:i,duration:t()});r&&A()})),i.currentPosition.add(v),i.onEnd.add(_)];return()=>(0,Ka.p)(f)}({durationFallback:c,videoNodeController:t,callbacks:wr({},f(this.lifeCycleLatches,(e=>()=>{e.dispatch(void 0)})),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),_()},AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}})}));const g=new Error;this.shouldPlayTimeCounter.addCallback(a,(()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Ha.w(g,{code:"video"===this.params.intrinsicAdCreativeType?"VIDEO_TIMEOUT":"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:a,mediaFile:n,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add((e=>{u(e)})))}))),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{this.beforeDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:r}=e;if(!l(i))return za.Z;let n=0;const o=t.onBufferingAfterPlay.add((()=>{n++,(0,ja.q)("bufferEmptyCount=["+n+"] limit=["+i+"]"),n<=i||(o(),r())}));return o}({videoNodeController:t,bufferEmptyLimit:s,callback:()=>{const e=new Ha.w({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_EMPTY_LIMIT":"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:s,mediaFile:n,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferFullTimeout:i,callback:r}=e,n=za.Z;const o=t.isBuffering.add((async e=>{if(n(),!e)return;const{promise:t,clear:a}=(0,El.n)(i);n=a,await t,n(),o(),r()}));return()=>{n(),o()}}({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new Ha.w({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_FULL_TIMEOUT":"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:n,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))}))),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add((()=>{Wa.ot.event({name:"AdCreativeRestoreSeek",data:{},probability:Fa.yl})}))),this.beforeDestroyLatch.subscribe((()=>{t.setSeekAllowed(!0)})),this.beforeDestroyLatch.subscribe(t.onError.add((e=>{e=new Ha.w(e,{details:wr({},e.details,{selectedMediaFile:n,mediaFiles:o})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}))),this.beforeDestroyLatch.subscribe(t.currentPosition.add((()=>{_(),this.remainingTime.dispatch(this.getAdRemainingTime())}))),this.beforeDestroyLatch.subscribe(i.add((e=>{const t=this.adCreativeLatch.getValue();t&&(0,As.m)(t.resizeVideoSlot)&&t.resizeVideoSlot(e)}))),this.beforeDestroyLatch.subscribe(r.add((e=>{const t=this.adCreativeLatch.getValue();t&&(0,As.m)(t.resizeVideoContent)&&t.resizeVideoContent(e)})))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:r,getVPAIDLogDetails:n}=this.params,o=r.getValue(),a=f(this.lifeCycleLatches,(e=>i?za.Z:()=>e.dispatch(void 0))),s=e.startAd({get slot(){return(0,_m.Z)('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),Wa.ot.error({error:new Ha.w({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:n()})}),t},callbacks:wr({AdClickThru:this.ignoreAfterDestroy(((e,t,i)=>{const r=(0,wl.H)(e)?e:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,id:t,playerHandles:i})}))},a),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():o,size:o,videoContentSize:null==i?void 0:i.videoContentSize.getValue()});if(!sl(s))throw new Ha.w({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy((e=>{if(i)return;let t="complete";if((0,as.K)(e)){const i=e.reason;(0,wl.H)(i)&&Boolean(this.destroyReasonSniffers[i])&&(t=i)}"complete"===t?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(t)}))).catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()})))}pauseAdCreative(e){null==e.pauseAd||e.pauseAd()}resumeAdCreative(e){null==e.resumeAd||e.resumeAd()}getPackshotBgVideoDuration(){var e,t;return"packshot"!==(null==(e=this.params.packshotParameters)?void 0:e.type)?0:null!=(t=this.params.packshotParameters.packshotDuration)?t:0}}const Em=(0,Ya.I)((e=>{Wa.ot.event({name:"IntersectionObserverMocked",data:{functionCode:(0,Ys.Y)((()=>e.IntersectionObserver.toString()))}})})),Tm=(0,Ya.I)((()=>{Wa.ot.event({name:"DocumentHiddenMocked",data:void 0})})),Sm=(0,Ya.I)((e=>{Wa.ot.event({name:"IframeIntersectionObserverMocked",data:{functionCode:(0,Ys.Y)((()=>e.IntersectionObserver.toString()))}})})),wm=(0,Ya.I)((()=>{Wa.ot.event({name:"IframeDocumentHiddenMocked",data:void 0})})),bm=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],Cm=(0,Pl.O)(window,"adsdkhoneypotforced");class Om{constructor(e,t){this.time=0,this.startTime=0,this.id=0,this.started=!1,this.loop=()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()},this.callback=t,this.animationFrameFunctions=Ir(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}var Im,Pm,Dm,Nm,Rm,km,Vm,Lm={},Mm=[],Bm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Im=Mm.slice,Pm={__e:function(e,t){for(var i,r,n;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),n=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e),n=i.__d),n)return i.__E=i}catch(t){e=t}throw e}},Dm=0,Vr.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Pr({},this.state),"function"==typeof e&&(e=e(Pr({},i),this.props)),e&&Pr(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),Br(this))},Vr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Br(this))},Vr.prototype.render=kr,Nm=[],Rm="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xr.__r=0,Vm=0;var xm,Um,Fm,Hm=e(9201),Wm=0,zm=[],jm=Pm.__b,Gm=Pm.__r,qm=Pm.diffed,Km=Pm.__c,Ym=Pm.unmount;Pm.__b=function(e){Um=null,jm&&jm(e)},Pm.__r=function(e){Gm&&Gm(e),xm=0;var t=(Um=e.__c).__H;t&&(t.__h.forEach(cn),t.__h.forEach(un),t.__h=[])},Pm.diffed=function(e){qm&&qm(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==zm.push(t)&&Fm===Pm.requestAnimationFrame||((Fm=Pm.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),Zm&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);Zm&&(t=requestAnimationFrame(i))})(dn)),Um=void 0},Pm.__c=function(e,t){t.some((function(e){try{e.__h.forEach(cn),e.__h=e.__h.filter((function(e){return!e.__||un(e)}))}catch(km){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Pm.__e(km,e.__v)}})),Km&&Km(e,t)},Pm.unmount=function(e){Ym&&Ym(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(cn)}catch(e){Pm.__e(e,t.__v)}};var Zm="function"==typeof requestAnimationFrame;const Xm=e=>(0,kl.S)(e)?e:new Ha.w(e,{code:"PREACT_ERROR",details:{error:e}}),Jm=e=>{const[t]=tn(new cl.R({status:"initial"}));nn((()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),za.Z):t.addOne((t=>{"initial"!==t.status&&e.onFirstRender(t)}))}),[t]),rn((()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})}),[t]);const[i]=function(e){var t=en(xm++,10),i=tn();return t.__=e,Um.componentDidCatch||(Um.componentDidCatch=function(e){t.__&&t.__(e),i[1](e)}),[i[0],function(){i[1](void 0)}]}((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];const o=(0,fl.k)(r)&&1===r.length&&(0,Hm.V)(r[0])?r[0]:void 0,a=null!=o?o:new Error("Preact error boundary error"),s=Xm(a);Wa.ot.error({error:s});const{status:l}=t.getValue();"initial"===l?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)}));return i||"error"===t.getValue().status?null:Nr(kr,null,e.children)},Qm=((0,os.n)({propertyName:"ERROR_BOUNDARY_GLOBAL_CALLBACK",win:window}),$r({}));Qm.Provider.displayName="ErrorBoundaryTestContext";const $m=e=>{const t=e.components;return Nr(kr,null,(0,gl.u)(t,((t,i)=>i(An({},e.componentsProps,{children:t}))),e.children))},ev=$r(cs);ev.Provider.displayName="SlotSizeContext";const tv=e=>_n(e),iv=()=>ln(ev),rv=$r({element:document.body});rv.Provider.displayName="SlotContext";const nv=e=>({element:e});Number(new Date);class ov{constructor(){this.usingStylesByContainersMap=new WeakMap}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const av=new class{constructor(){this.stylesUsingCounter=new ov,this.styleElementsMap=new WeakMap}useStyleModule(e,t){const i=t,r=[];for(let n=0;n<i.length;n++){const[t,o]=i[n];if(!o)continue;if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=fn(e,o),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}r.push(t)}return r.length?(0,Ya.I)((()=>{(0,Ja.E)(r,(t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);if(!i||!r)return;const n=r.get(t);(0,Ua.L)(n),r.delete(t),0===r.size&&this.styleElementsMap.delete(e)}))})):za.Z}},sv=$r({buttonText:"",openClickThroughUrl:za.Z});sv.Provider.displayName="HoneypotContext";var lv=e(1256),dv=e.n(lv);const cv=e=>{let{children:t,onClick:i}=e;return gn(dv()),Nr("div",{className:lv.locals.HoneypotButton,onClick:i},Nr("div",{className:lv.locals.HoneypotButton__content},t))};var uv=e(6383),hv=e.n(uv);const pv=e=>{let{width:t,height:i}=e;return gn(hv()),Nr("div",{className:uv.locals.HoneypotOverlay,style:{width:t+"px",height:i+"px"}})};var Av=e(5046),mv=e.n(Av);const vv=()=>{gn(mv());const{width:e,height:t}=iv(),{buttonText:i,openClickThroughUrl:r}=ln(sv);return Nr("div",{onClick:i?void 0:r,className:vn(Av.locals.HoneypotScreen,{[Av.locals.HoneypotScreen_clickable]:!i}),style:{width:e+"px",height:t+"px"}},Nr("div",{className:Av.locals.HoneypotScreen__honeypotOverlayWrapper},Nr(pv,{width:e,height:t})),i&&Nr("div",{className:Av.locals.HoneypotScreen__buttonWrapper},Nr(cv,{onClick:r},i)))},_v=[e=>Nr(rv.Provider,{value:nv(e.container),children:e.children}),e=>Nr(ev.Provider,{value:tv(e.containerSize),children:e.children}),e=>Nr(sv.Provider,{value:yn(e),children:e.children})];class fv extends Sl.V{constructor(e){super(),this.honeypotProgress=new cl.R(0),this.shouldPlay=new cl.R(!0),this.progress=new cl.R(0),this.props=e;const{win:t,onClick:i,videoNodeController:r,parent:n}=this.props;this.addDestroyHandler((e=>{(0,ja.q)("Honeypot: destroy honeypot reason=["+e.reason+"]"),Wa.ot.event({name:"HoneypotDestroyed",data:{reason:e}})}));const o=t.document.createElement("div");n.appendChild(o);const a=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return Qr(Nr(Jm,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},Nr($m,{components:_v,componentsProps:e},Nr(vv,null))),t),()=>{Qr(null,t)}}(En({},this.props,{container:o,containerSize:e.parentSize,onClick:()=>{Wa.ot.event({name:"HoneypotButtonClicked",data:void 0}),i()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));this.addDestroyHandler((()=>{a(),(0,Ua.L)(o)})),Wa.ot.event({name:"HoneypotRendered",data:void 0});const s=new Om(t,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.honeypotProgress.dispatch(i)}));if(this.addDestroyHandler((()=>{s.stop()})),s.start(),void 0!==r){const e=r.getMuted();if(!e){let i;r.setMuted(!0),this.addDestroyHandler(r.onVolumeChange.add((()=>{i=void 0!==i}))),this.addDestroyHandler((()=>{i||t.setTimeout((()=>{r.setMuted(e)}),100)}))}r.setLoop(!0),r.play(),this.addDestroyHandler((()=>r.setLoop(!1))),Wa.ot.event({name:"HoneypotBackgroundLoopedVideo",data:void 0,probability:Fa.yl})}this.shouldPlay.add((e=>{e?s.start():s.stop(),void 0!==r&&(e?r.play():r.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const gv=function(e){let t=0,i=e?(0,Ga.U)(e,(e=>e[0])):[],r=e?(0,Ga.U)(e,(e=>e[1])):[];const n=e=>(t=i.indexOf(e))>-1,o={get size(){return i.length},has:n,clear:()=>{i=[],r=[]},get:e=>r[i.indexOf(e)],keys:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>i.slice())),values:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>r.slice())),entries:()=>(0,Ga.U)(i,((e,t)=>[e,r[t]])),delete:e=>n(e)&&i.splice(t,1)&&Boolean(r.splice(t,1)),forEach(e,t){(0,Ja.E)(r,((r,n)=>e.call(t,r,i[n],o)))},set:(e,a)=>(n(e)?r[t]=a:r[i.push(e)-1]=a,o)};return o},yv=(Boolean(window.Map)&&"function"===typeof window.Map.prototype.keys&&window.Map,class{constructor(){this.map=new gv}add(e){return this.map.set(e,e),this}clear(){this.map.clear()}delete(e){return this.map.delete(e)}has(e){return this.map.has(e)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}get size(){return this.map.size}}),Ev=(0,rs.E)(window.Set)?window.Set:yv,Tv="https://"+ts.N9+"/pcode-static/measurers/75/omweb-js",Sv=Tv+"/Session-Client/omid-session-client-v1.js",wv=Tv+"/Service/omweb-v1.js",bv=Tv+"/Compliance-Script/omid-compliance-verification-script-v1.js",Cv=(e,t)=>{const{promise:i}=(0,KA.v)({src:t,win:e.contentWindow});return i},Ov=new yv;let Iv,Pv;const Dv=async e=>{void 0===Iv&&(void 0===Pv&&(Pv=(async e=>{const t=Xt(e.document.body,{sandbox:"allow-scripts allow-same-origin"});if(!t)throw new Ha.w({code:"OMSDK_ERROR",details:{reason:"Could not init IFrame for OM SDK script"}});const i=Cv(t,Sv),r=Cv(t,wv),n=Promise.all([i,r]),o=Promise.race([n.then((()=>t)),(0,El.n)(3e3).promise.then((()=>{throw new Error("OMID scripts loading timeout")}))]);return t.setAttribute("data-vas-omsdk",""),o})(e)),Iv=await Pv);const t=()=>{if(Ov.has(t)&&(Ov.delete(t),0===Ov.size)){const t=Iv;e.setTimeout((()=>{(0,Ua.L)(t)}),3e3),Iv=void 0,Pv=void 0}};return Ov.add(t),{omsdkFriendlyIFrame:Iv,release:t}},Nv="0.0."+bs.b,Rv="generic",kv="video";class Vv extends Sl.V{get videoNode(){return this.adPodViewer.adDisplayController.videoNode}get videoNodeController(){return this.adPodViewer.adDisplayController.videoNodeController}constructor(e,t){super(),this.omsdkServiceScriptIframe=new vm,this.omidSessionClient=new vm,this.onSessionFinish=new Ml.M,this.onDestroy=new vm,this.addDestroyHandler((()=>this.onDestroy.dispatch(void 0))),this.adPodViewer=e,this.verificationScriptParametersList=t,Dv(window).then((e=>{let{omsdkFriendlyIFrame:i,release:r}=e;this.omsdkServiceScriptIframe.dispatch(i),this.addDestroyHandler(r),Wa.ot.event({name:"OmidVerifiersHasBeenSuccessfullyLoaded",data:{parameters:JSON.stringify(t)}})})).catch((e=>((0,ja.q)("[OMSDK]: Could not register OMSDK on page"),this.destroy({reason:"Could not register OMSDK on page: "+e.message,isError:!0})))),this.addDestroyHandler(this.omsdkServiceScriptIframe.subscribe((e=>{const t=(0,Rs.U)(e.contentWindow,"OmidSessionClient.default");t?((0,ja.q)("OmidSessionClient initialized, "+t),this.omidSessionClient.dispatch(t)):this.destroy({reason:"OmidSessionClient was not initialized",isError:!0})}))),this.addDestroyHandler((e=>{let{reason:t,isError:i}=e;(0,ja.q)("[OMSDKController]: destroy "+t),i&&Wa.ot.error({error:new Ha.w({code:"OMSDK_ERROR",details:{reason:t}}),probability:Fa.yl})}))}async initSession(e){let{impressionType:t="unspecified"}=e;if(this.isDestroyed)return;const i=await Promise.race([this.omidSessionClient.wait(),this.onDestroy.wait()]);if(void 0!==i)try{var r;const{Partner:e,VerificationScriptResource:n,ou3aTMnHyyw:o,AdSession:a,AdEvents:l,MediaEvents:d,VastProperties:c}=i,u=Ce(window).split("?").shift(),h=new e("Yandex",Nv),p=new o(h,(0,Ga.U)(this.verificationScriptParametersList,(e=>{let{javaScriptResource:t,vendorKey:i,verificationParameters:r,accessMode:o}=e;return new n(t,i,r,o)})),u);p.setVideoElement(this.videoNode),qh.O&&(p.underEvaluation=!0);const A=null==(r=this.omsdkServiceScriptIframe.getValue())?void 0:r.contentWindow;if(!A)throw new Error("OMSDK service script IFrame is unloaded");p.setServiceWindow(A);const m=new a(p);if(!m.isSupported())throw new Error("AdSession is not supported");m.setCreativeType("video"),m.setImpressionType(t);const v=new l(m),_=new d(m);m.start(),this.addDestroyHandler((e=>{let{reason:t}=e;"complete"===t&&_.complete(),"skip"===t&&_.skipped(),m.finish(),this.onSessionFinish.dispatch()}));const f=s(this.adPodViewer.adPodViewerPlaybackParams.skipDelay),g=this.adPodViewer.adPodViewerPlaybackParams.skipDelay,y=this.adPodViewer.adDisplayController.getAutoplay(),E=new c(f,g,y,function(e){switch(e.mediaAd.adBreak.adType){case"midroll":case"inroll":case"pauseroll":return"midroll";case"preroll":return"preroll";case"postroll":return"postroll";default:return"standalone"}}(this.adPodViewer));this.adPodViewer.addDestroyHandler((e=>{let{reason:t,details:i}=e;"error"===t&&void 0!==i&&m.error(Rv,i.message)})),this.videoNodeController.onError.add((e=>m.error(kv,e.message))),this.videoNodeController.onLoadedData.add((()=>{v.loaded(E)})),this.videoNodeController.isBuffering.add((e=>{e?_.bufferStart():_.bufferFinish()})),this.adPodViewer.isStarted.add((()=>{const{duration:e}=this.videoNodeController.getCurrentPosition(),t=this.videoNodeController.getVolume();_.start(e,t)})),this.adPodViewer.onImpression.add((()=>{v.impressionOccurred()})),this.adPodViewer.onFirstQuartile.add((()=>_.firstQuartile())),this.adPodViewer.onMidpoint.add((()=>_.midpoint())),this.adPodViewer.onThirdQuartile.add((()=>_.thirdQuartile())),this.adPodViewer.onClickThrough.add((()=>_.adUserInteraction("click"))),this.adPodViewer.onPause.add((()=>_.pause())),this.adPodViewer.onResume.add((()=>_.resume())),this.videoNodeController.onVolumeChange.add((()=>{_.volumeChange(this.adPodViewer.adDisplayController.getVolume())})),this.adPodViewer.adDisplayController.isFullscreen.add((e=>{_.playerStateChange(e?"fullscreen":"normal")}))}catch(Lm){this.destroy({reason:"Session initialization failed: "+Lm.message,isError:!0})}}}const Lv=[ts.tr,ts.N9],Mv=new Ev;(0,Ja.E)([...Lv,"static.adsafeprotected.com"],(e=>{Mv.add(e)}));class Bv{constructor(e){this.position=0,this.offset=0,this.onAnimationFrame=e=>{let{diff:t}=e;const i=t/this.duration,r=1500/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const n=i*(1+this.offset/r);this.position=(0,ju.u)(this.position+n,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-n,this.params.callback(this.position)},this.params=e,this.duration=e.duration,this.onFinishOnce=(0,Ya.I)(e.onFinish),this.animationFramesController=new Om(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=(0,ju.u)(e,0,1),this.offset=0,this.params.callback(e))}}var xv=e(5432),Uv=e.n(xv);const Fv=e=>{const{url:t,children:i,onClick:r}=(e=>{const{url:t,children:i,onClick:r}=e;return{url:t,children:i,onClick:r}})(e);gn(Uv());return Nr("a",{onClick:e=>{e.preventDefault(),(0,As.m)(r)&&r()},className:xv.locals.ClickThroughLink,href:t,target:"_blank",rel:"nofollow noreferrer"},i)},Hv=$r({descriptionText:void 0,buttonText:"",openClickThroughUrl:za.Z,disableOverlay:!1,clickUrl:""});Hv.Provider.displayName="PackshotContext";var Wv=e(7480),zv=e.n(Wv);const jv=e=>{let{children:t}=e;return gn(zv()),Nr("div",{className:Wv.locals.PackshotButton},Nr("div",{className:Wv.locals.PackshotButton__content},t))};var Gv=e(4368),qv=e.n(Gv);const Kv=e=>{let{width:t,height:i}=e;return gn(qv()),Nr("div",{className:Gv.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var Yv=e(2670),Zv=e.n(Yv);const Xv=()=>{gn(Zv());const{width:e,height:t}=iv(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:r,buttonText:n,openClickThroughUrl:o,disableOverlay:a=!1,clickUrl:s}=ln(Hv),l=n?void 0:o,d=Nr("div",{onClick:l,className:vn(Yv.locals.PackshotScreen,{[Yv.locals.PackshotScreen_clickable]:!n}),style:{width:e+"px",height:t+"px"}},!a&&Nr("div",{className:Yv.locals.PackshotScreen__packshotOverlayWrapper},Nr(Kv,{width:e,height:t})),n&&Nr("div",{className:Yv.locals.PackshotScreen__buttonWrapper},Nr(Fv,{url:s,onClick:o},Nr(jv,null,n))),(0,wl.H)(r)&&Nr("div",{className:Yv.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},r));return l?(e=>Nr(Fv,{url:s,onClick:o},e))(d):d},Jv=[e=>Nr(rv.Provider,{value:nv(e.container),children:e.children}),e=>Nr(ev.Provider,{value:tv(e.containerSize),children:e.children}),e=>Nr(Hv.Provider,{value:In(e),children:e.children})];class Qv extends Sl.V{constructor(e){super(),this.progress=new cl.R(0),this.shouldPlay=new cl.R(!0),this.props=e;const{duration:t,win:i,openClickThroughUrl:r,videoNodeController:n,imageUrl:o,parent:a,clickUrl:s}=this.props,d=!l(t);this.addDestroyHandler((e=>{(0,ja.q)("Packshot: destroy packshot reason=["+e.reason+"]"),Wa.ot.event({name:"PackshotDestroyed",data:{isInfiniteDuration:d,reason:e},probability:Fa.yl})}));const c=i.document.createElement("div"),u=!o;o&&Zi(c,Pn({},Zl,{backgroundImage:"url("+o+")",backgroundPosition:"center",backgroundSize:"cover"})),a.appendChild(c);const h=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return Qr(Nr(Jm,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},Nr($m,{components:Jv,componentsProps:e},Nr(Xv,null))),t),()=>{Qr(null,t)}}(Pn({},this.props,{clickUrl:s,container:c,containerSize:e.parentSize,openClickThroughUrl:()=>{Wa.ot.event({name:"PackshotButtonClicked",data:void 0}),r()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));let p;if(this.addDestroyHandler((()=>{h(),(0,Ua.L)(c)})),Wa.ot.event({name:"PackshotRendered",data:{isInfiniteDuration:d},probability:Fa.yl}),d?(p=new Om(i,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.progress.dispatch(i)})),this.addDestroyHandler((()=>{p.stop()})),p.start()):(p=new Bv({win:i,duration:t*Vu,callback:e=>{this.progress.dispatch(e)},onFinish:()=>{this.destroy({reason:"complete",details:void 0})}}),this.progress.add((e=>{e>=1&&p.stop()})),this.addDestroyHandler((()=>{p.stop(),this.progress.removeAll(),this.shouldPlay.removeAll()})),p.start()),u&&void 0!==n){const e=n.getMuted();if(!e){let t;n.setMuted(!0),this.addDestroyHandler(n.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{t||i.setTimeout((()=>{n.setMuted(e)}),100)}))}n.setLoop(!0),n.play(),this.addDestroyHandler((()=>n.setLoop(!1))),Wa.ot.event({name:"PackshotBackgroundLoopedVideo",data:void 0,probability:Fa.yl})}this.shouldPlay.add((e=>{e?p.start():p.stop(),u&&void 0!==n&&(e?n.play():n.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const $v={duration:NaN,remainingTime:0};var e_=e(4190);const t_=(0,dl.Z)({portion:"portion",seconds:"seconds"});class i_{constructor(e){this.trackingUrls={portion:[],seconds:[]},(0,Ja.E)(e,(e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})}))}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!(0,$d.f)(i))return[];const r=t-i,n={portion:r/t,seconds:r},o=[];return(0,Ja.E)(t_,(e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,n[e]);o.push(...t)})),o}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=St(this.trackingUrls[e],(e=>{let{offset:i}=e;return t>=i}));return this.trackingUrls[e]=r,D((0,Ga.U)(i,(e=>{let{urls:t}=e;return t})))}}const r_="2.0",n_=(0,dl.Z)({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0}),o_=["slot","videoSlot"];class a_ extends Sl.V{static getVpaidAd(e){return ar(new a_({outsideApi:e}))}handshakeVersion(){return r_}stopAd(){(0,ja.q)("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),xn(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,r,n,o){if(this.isDestroyed)return void Wa.ot.error({error:new Ha.w({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:o}})});const a=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(o,o_);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:Un({},a,{videoSlot:void 0,slot:void 0})}]).then(za.Z).catch((e=>{this.destroy({reason:"fatal",details:e})}))}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.unsubscribe=za.Z,this.getAdIcons=Am,this.getterValues=(0,hd.N)((0,Ga.U)(n_,(e=>[e,aA[e]]))),this.subscribe=(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,((t,r)=>{e.apply(i,r)}))},this.params=e;const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy(((e,t)=>{this.getterValues[e]=t})))),this.addDestroyHandler((e=>{"fatal"===e.reason&&Wa.ot.error({error:new Ha.w({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})}))}callRemoteMethod(e,t){this.isDestroyed?Wa.ot.error({error:new Ha.w({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(za.Z).catch((e=>{this.destroy({reason:"fatal",details:e})}))}}const s_=(e,t,i,r,n,o)=>{const a=e?r:t,s=e?i:n;return{width:a,height:s,top:(o.height-s)/2,left:(o.width-a)/2}},l_=e=>{const{image:t,boundingRectangle:{width:i,height:r},scaleForHorizontal:n=1,scaleForVertical:o=1,pixelRatio:a,stretch:s}=e,l=t.width,d=t.height,c=l/d,u=c>i/r,h=c>1?n:o,p=h*(i<l||s?i:l),A=h*(r<d||s?r:d),m=l*(A/d),v=d*(p/l);return{width:u?p:m,height:u?v:A,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:s_(u,p,A,m,v,{width:i,height:r}),coeff:l*d/(i*r*a),isHorizontal:c>1,smartCenters:t.smartCenters}},d_=["idle","load","init","start","play"];const c_=e=>n(e)||!ke(e),u_=e=>{const{adConfig:{secureMode:t}}=e,i=null!=gc?gc:t;if(!i)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!c_(r.url);default:return!1}},h_={AdClickThru:e=>{Wa.ot.error({error:new Ha.w({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:e})})},AdSkipped:()=>{Wa.ot.error({error:new Ha.w({code:"CALL_USER_INTERACTION_DISPATCHER_AD_SKIPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdStopped:()=>{Wa.ot.error({error:new Ha.w({code:"CALL_USER_INTERACTION_DISPATCHER_AD_STOPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdUserClose:()=>{Wa.ot.error({error:new Ha.w({code:"CALL_USER_INTERACTION_DISPATCHER_AD_USER_CLOSE_WITHOUT_AD_CREATIVE",details:void 0})})},AdVideoComplete:()=>{Wa.ot.error({error:new Ha.w({code:"CALL_USER_INTERACTION_DISPATCHER_AD_VIDEO_COMPLETE_WITHOUT_AD_CREATIVE",details:void 0})})}};class p_ extends Sl.V{constructor(e){super(),this.onAdSkippableStateChange=new Ml.M,this.adSkippableState=!1,this.canUseMediaAfterPlayback=!1,this.lifeCycleStage=new cl.R("idle",((e,t)=>{const i=d_.indexOf(e);return d_.indexOf(t)-i!==1&&Wa.ot.error({error:new Ha.w({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:qn({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),this.startVpaidCreative=(0,Ya.I)((e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),(0,ja.q)("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();e.subscribe((0,Ya.I)((()=>{(0,ja.q)("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),Wa.ot.values({name:"VpaidCreativeStarted",probability:Fa.yl,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})})),"AdStarted")})),this.creativeAdStartedCallback=ue((()=>{if(this.isDestroyed)return void Wa.ot.error({error:new Ha.w({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||Wa.ot.error({error:new Ha.w({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=(0,Ya.I)((()=>{this.isStarted.dispatch(!0)})),t=this.playingState.getValue();(0,ja.q)("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"===t?e():this.playingState.subscribeValueConditionOnce((e=>"play"===e),e)}),(()=>{Wa.ot.error({error:new Ha.w({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),this.createContainerNode=(0,Ya.I)((e=>{let{isAdCreative:t}=e;const{creativesLayoutContainer:i,slotParameters:r}=this.adDisplayController,n=r.document.createElement("div");S(n,qn({},Zl,{pointerEvents:"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne((()=>{S(n,{visibility:"visible"})})),this.addDestroyHandler((()=>{(0,Ua.L)(n)})),i.appendChild(n);let o=null;return t&&(o=Nn(n),o&&S(o,Zl)),o||n})),this.prepareVpaidCreative=(0,Ya.I)((async()=>{this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add((()=>{this.onVolumeChange.dispatch(void 0)}))),this.omsdkController&&await this.omsdkController.initSession({impressionType:"viewable"});const e=await this.initCreative();if(!e||this.isDestroyed)throw new Ha.w({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});e.subscribe((e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})}),"AdError"),this.creative=e,this.addDestroyHandler((()=>{this.creative=void 0})),this.onReady.dispatch(void 0),"play"===this.playingState.getValue()?this.startVpaidCreative(e):this.startAndPauseVpaidCreative(e),this.updateAdSkippableState()})),this.updatePosition=this.ignoreAfterDestroy((()=>{var e,t,i,r;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!=(e=null==(t=this.creative)?void 0:t.getAdRemainingTime())?e:-1}),(0,ja.q)("[AdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!=(i=null==(r=this.creative)?void 0:r.getAdRemainingTime())?i:-1)+"]]")})),this.isAdPlayingCalled=!1,this.getVPAIDLogDetails=()=>({adPodId:this.mediaAd.getAdPodId(),adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:pi(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}),this.playbackPosition=new cl.R($v,Rn),this.userInteractionDispatchers=h_,this.packshotStartLatch=new vm,this.adVideoIsBuffering=new cl.R(!1),this.playingState=new cl.R("idle",((e,t)=>"idle"===t?(Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),this.isCreativeStartRequested=new cl.R(!1),this.onReady=new Ml.M,this.onBeforeDestroy=new Ml.M,this.isStarted=new cl.R(!1),this.onResume=new Ml.M,this.onPause=new Ml.M,this.onVolumeChange=new Ml.M,this.onImpression=new Ml.M,this.onFirstQuartile=new Ml.M,this.onMidpoint=new Ml.M,this.onThirdQuartile=new Ml.M,this.onBeforeComplete=new Ml.M,this.completeLatch=new vm((()=>{this.trackVastEvent("complete",void 0)})),this.onClickThrough=new Ml.M,this.onAdInteraction=new Ml.M,this.playingTimeCounter=new Lu,this.shouldPlayTimeCounter=new Lu,this.getAdParametersTrackingUrls=e=>{var t,i;return null==(t=this.mediaAd.vastAd.adParametersObject)||null==(i=t.trackingEvents)?void 0:i[e]},this.subscribeFullscreenForLogs=()=>{const{videoNodeController:e}=this.adDisplayController,t=(0,Ya.I)((()=>{Wa.ot.error({error:new Ha.w({code:"VIDEOTAG_FULLSCREEN",details:void 0})})}));e.isFullscreen()?t():this.onBeforeComplete.addOne((()=>{e.isFullscreen()&&t()}))};const{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r}=e;const n=On(i.vastAd,i.adConfig);if(n){(0,ja.q)("[OMSDK] Initializing OMSDKController with parameters: "+JSON.stringify(n));const e=new Vv(this,n);this.addDestroyHandler((t=>{let{reason:i}=t;e.destroy({reason:i,isError:!1})})),this.omsdkController=e}this.addDestroyHandler((e=>{const i=Math.round(this.shouldPlayTimeCounter.getTime()),r=Math.round(this.playingTimeCounter.getTime()),n=Math.round(i-r),o=Math.round(this.bufferingTimeManager.getBufferingTime()*Vu),a=Math.round(this.getDuration()*Vu),s=Math.round(this.getAdRemainingTime()*Vu),l=Math.round(a-s),d=Math.round(o/l*1e6),{droppedVideoFrames:u,corruptedVideoFrames:h,totalVideoFrames:p,droppedVideoFramesRatio:A}=c(this.adDisplayController.videoNode),m=t.getAdPlacementOptions(),{videoToDevicePixelRatio:v,videoPixelRatio:_}=m,f=void 0!==t.disclaimerParameters.getValue(),g=Boolean(this.getVideoSlotClickUrl()),{isTouchScreenDevice:y}=this.adDisplayController;Wa.ot.values({name:"ViewerDestroy",probability:Fa.yl,data:this.getAdPodViewerDestroyOptions({destroyReason:e,adPlacementOptions:m}),labels:{},values:{shouldPlayTime:i,playingTime:r,notPlayingTime:n,bufferingTime:o,duration:a,remainingTime:s,currentTime:l,bufferingTimeRatio:d,videoToDevicePixelRatio:v,videoPixelRatio:_,droppedVideoFrames:Math.round(u),corruptedVideoFrames:Math.round(h),totalVideoFrames:Math.round(p),droppedVideoFramesRatio:Math.round(1e6*A),vastHasDisclaimers_true:f?1:0,vastHasDisclaimers_false:f?0:1,videoSlotIsClickable_true:g?1:0,videoSlotIsClickable_false:g?0:1,touchScreen_true:y?1:0,touchScreen_false:y?0:1}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)})),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.isStarted.add((()=>{this.trackVastEvent("creativeView",void 0)})),this.onResume.add((()=>{this.trackVastEvent("resume",void 0)})),this.onPause.add((()=>{this.trackVastEvent("pause",void 0)})),this.packshotStartLatch.subscribe((()=>{this.trackVastEvent("packshotStart",void 0)}));let o=0===this.getVolume();this.onVolumeChange.add((()=>{const e=0===this.getVolume();o!==e&&(this.trackVastEvent(e?"mute":"unmute",void 0),o=e)})),this.onImpression.addOne((()=>{this.trackVastEvent("impression",void 0)}));const a=new i_(i.vastAd.progressTrackings);this.playbackPosition.add((e=>{let{remainingTime:t,duration:i}=e;const r=a.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&Vn({eventName:"progress",trackingEventDetails:void 0,trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"})})),this.onFirstQuartile.add((()=>{this.trackVastEvent("firstQuartile",void 0)})),this.onMidpoint.add((()=>{this.trackVastEvent("midpoint",void 0)})),this.onThirdQuartile.add((()=>{this.trackVastEvent("thirdQuartile",void 0)})),this.bufferingTimeManager=new AA,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add((e=>{"play"===e?(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume()):(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause())}))})),this.isStarted.addOne((()=>{const e=(this.getDuration()+20)*Vu;this.playingTimeCounter.addCallback(e,(()=>{this.trackError(new Ha.w({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))})),this.playingTimeCounter.start(),this.onPause.add((()=>{this.playingTimeCounter.stop()})),this.onResume.add((()=>{this.playingTimeCounter.start()})),this.addDestroyHandler((()=>{this.playingTimeCounter.stop()}))})),this.isStarted.add((()=>{this.playingState.dispatch("play")})),this.onPause.add((()=>{this.playingState.dispatch("pause")})),this.onResume.add((()=>{this.playingState.dispatch("play")})),this.addDestroyHandler((()=>{this.playingState.dispatch("end")})),this.onBeforeComplete.add((()=>{this.trackVastEvent("beforeComplete",void 0)})),this.addDestroyHandler((e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackVastEvent(t,void 0)})),this.addDestroyHandler((()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()})),this.addDestroyHandler((0,qa.V)({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne((()=>{this.subscribeFullscreenForLogs()}));const s=new Error,{vpaidTimeout:l}=r;this.shouldPlayTimeCounter.addCallback(l,(()=>{const e=this.getSrc(),t=this.lifeCycleStage.getValue(),{videoNodeController:i}=this.adDisplayController,{videoNode:n}=i,o={adPodId:this.mediaAd.getAdPodId(),timeout:l,src:e,config:this.adDisplayController.playbackParameters,viewerPlaybackParams:r,liveCycleStage:t,videoNodeSrc:n.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:n.networkState,readyState:n.readyState};this.isDestroyed?Wa.ot.error({error:new Ha.w({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:o})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&Wa.ot.error({error:new Ha.w({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:o})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Ha.w(s,{code:Gn({creativeLifeCycleStage:t,isYandexCreative:c_(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:o})}))})),this.completeLatch.subscribe((()=>{const{clear:e,promise:t}=(0,El.n)(1e4);this.addDestroyHandler(e),t.then((()=>{Wa.ot.error({error:new Ha.w({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})})).catch(ol.L)})),this.completeLatch.subscribe((()=>{const{clear:e,promise:t}=(0,El.n)(25e3);this.addDestroyHandler(e),t.then((()=>{Wa.ot.error({error:new Ha.w({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})})).catch(ol.L)})),this.addDestroyHandler((()=>{this.onAdSkippableStateChange.removeAll()}))}play(){this.isDestroyed&&Wa.ot.error({error:new Ha.w({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const e=this.adDisplayController.getAutoplay()?"play":"pause";this.playingState.dispatch(e),this.creative?this.resume():this.prepareVpaidCreative().catch((e=>{this.destroy({reason:"error",details:e})}))}getCurrentTime(){if(!this.creative)return 0;const e=this.creative.getAdRemainingTime()||0;return s(e)?this.getDuration()-e:0}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return s(e)?e<0?this.isStarted.getValue()?e:this.getDuration():e:this.isStarted.getValue()?-2:this.getDuration()}getAdPodViewerDestroyOptions(e){let{destroyReason:t,adPlacementOptions:i}=e;const{adBreakType:r,adFormatType:n}=i;return{destroyReason:t,adBreakType:r,adFormatType:n,wasViewerStarted:this.isStarted.getValue()}}pause(){this.playingState.dispatch("pause"),this.creative&&((0,ja.q)("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),(0,ja.q)("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):((0,ja.q)("AdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():oA}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0}resizeAd(e,t,i){var r;void 0===i&&(i=Gh.NORMAL),null==(r=this.creative)||r.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:.5;this.setVolume(e?0:i)}getVolume(){var e,t;return null!=(e=null==(t=this.creative)?void 0:t.getAdVolume())?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!u_(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,r=i.volume,n=i.muted;this.creative.setAdVolume(e);const o=i.volume,a=i.muted;!t||this.adCreativeWrapper||this.mediaAd.getIsIndependentOnVideoElement()||r!==o||n!==a||Wa.ot.event({name:"VpaidCreativeDidNotChangeVideoSlotVolume",probability:Fa.yl,data:this.getVPAIDLogDetails()})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){c_(this.getScriptSrc())&&((0,ja.q)("preload VPAID creative by start and pause"),this.startVpaidCreative(e),Wa.ot.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:Fa.yl,data:{vpaidSrc:this.getSrc()}}),(0,ja.q)("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,n=Et(r),o=this.createContainerNode({isAdCreative:n});let a;if(n){(0,ja.q)("[AdPodViewer]: play creative as AdCreative"),a=o;const{creative:i,wrapper:r}=this.wrapAdCreative(a);e=i,this.adCreativeWrapper=r,t=(0,Ya.I)((()=>{try{(0,ja.q)("[AdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(t){Wa.ot.error({error:new Ha.w(t,{code:"AD_CREATIVE_STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}))}else if(u_(this.mediaAd)){(0,ja.q)("[AdPodViewer]: play creative via VASFrame"),a=o;const i=fd({container:a,initTimeout:5e3});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler((()=>{this.destroy({reason:"error",details:new Ha.w({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),this.addDestroyHandler((()=>{r.destroy(void 0)})),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const n=()=>a_.getVpaidAd(r),s=this.getStandardVpaidCreative(n);e=s.creative,t=(0,Ya.I)((()=>{(0,ja.q)("[AdPodViewer]: call VPAID stopAd method"),s.stopAd()})),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{(0,ja.q)("[AdPodViewer]: play creative with Friendly Iframe");const i=jh.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;S(r,Zl),a=r.contentDocument.body;const n=r.contentWindow;Cr(n)&&wm(),Or(n)&&Sm(n),(0,Ja.E)(bm,(e=>{this.addDestroyHandler((0,qa.V)({element:a,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))})),this.addDestroyHandler((()=>{i.destroy(void 0)})),i.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}));const s=await this.loadVpaidMediaFile(n);if(this.isDestroyed)return;const l=this.getStandardVpaidCreative(s);e=l.creative,t=l.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne((()=>{(0,ja.q)("[AdPodViewer]: call stopAd in onBeforeDestroy callback"),t()})),Wa.ot.values({name:"VpaidCreativeLoaded",probability:Fa.yl,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new Ha.w({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:s}=this,{videoNodeController:l,playbackParameters:d}=s,{clientWidth:c,clientHeight:u}=l.videoNode,h=this.getDesiredBitrate(),p={AdParameters:this.getAdParameters()},{canPlayMuted:A,canPlayUnMuted:m}=s.autoplayAbilitySignal.getValue(),v={slot:a,videoSlot:l.videoNode,videoSlotCanAutoPlay:l.videoNode.muted?A:m,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:d.lang,skipDelay:d.skipDelay,controlsSettings:{controlsVisibility:Xd},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},_=Bn({creative:e,isYandexCreative:c_(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(_,a.ownerDocument.defaultView);const f=Date.now();return await new Promise(((i,r)=>{_.subscribe((()=>{(0,ja.q)("VPAID dispatched AdLoaded event"),i(_)}),"AdLoaded"),_.subscribe((e=>{(0,ja.q)("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))}),"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(c,u,Gh.NORMAL,h,p,v)}catch(n){throw(0,ja.q)("[AdPodViewer]: creative.initAd() error, call stopAd"),t(),new Ha.w(n,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}})),Wa.ot.values({name:"VpaidCreativeInitialized",probability:Fa.yl,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-f},labels:{}}),_}wrapAdCreative(e){const t=this.getAdParameters(),{parsed:{videoMediaFiles:i,animationMediaFile:r,adParameters:n},errors:o}=ft(t);ce(o);const{playbackParameters:a,videoContentSize:s,videoSlotSize:l,slotParameters:d,videoNodeController:c,visibilitySlotParameters:u}=this.adDisplayController,{videoTimeout:h,bufferFullTimeout:p,bufferEmptyLimit:A}=this.adPodViewerPlaybackParams,m=!((null==r?void 0:r.type)===Zc)&&i.length>0,v=this.mediaAd.getIsConvertedFromVideoVast();let _,f;if(m){let e=this.mediaAd.getPreloadedVideoFile();const{adBreak:t}=this.mediaAd,r=this.mediaAd.getAdPodId(),{allowedToHideVideoSlotAreaPortion:n}=a,o=qn({container:d.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:(0,As.m)((0,xl.x)(d.window)),allowedToHideVideoSlotAreaPortion:n},ph);e||(e=jt(i,o,{adBreak:t,adPodId:r,initiator:"AdPodViewer"}).prioritisedMediaFile);const c=v?1===i.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE":"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE";if(!e)throw new Ha.w({code:c,details:{mediaFiles:i,adPodId:this.mediaAd.getAdPodId(),mediaFilePriorityOptions:o}});_={videoContentSize:s,videoSlotSize:l,videoMediaFile:qn({},e,{url:du(e.url)}),videoMediaFiles:i,videoTimeout:h,bufferFullTimeout:p,bufferEmptyLimit:A,durationFallback:()=>this.mediaAd.getDuration(),getAutoplay:()=>this.adDisplayController.getAutoplay(),onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}f=r&&"InteractiveElementsAdCreative"===Jc[r.url]?"IV":"AD_CREATIVE_FRIENDLY_IFRAME";let g,y=e.ownerDocument.defaultView;if(r){g={animationMediaFile:r,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:n};const t=jh.createHidden({parentElement:e,scope:f,provideLogDetails:this.getVPAIDLogDetails});y=t.window,this.addDestroyHandler((()=>{t.destroy(void 0)})),t.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}))}const E=y,T={AdClickThru:e=>{Wa.ot.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e},probability:Fa.yl}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)},AdSkipped:()=>{this.userInteractionDispatchers.AdSkipped(),this.destroy({reason:"skip",details:void 0})},AdStopped:()=>{var e,t;this.userInteractionDispatchers.AdStopped(),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e}})},AdUserClose:()=>{this.userInteractionDispatchers.AdUserClose(),this.destroy({reason:"close",details:void 0})},AdVideoComplete:()=>{this.userInteractionDispatchers.AdVideoComplete(),(0,ja.q)("VPAID dispatched AdVideoComplete event"),this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})}};let S=this.adPodViewerPlaybackParams.packshotParameters;this.adPodViewerPlaybackParams.isPackshotDisabled?S=void 0:S||(S=this.getAutogeneratedPackshotParameters(m));const w=this.getVideoSlotClickUrl(),b=this.mediaAd.getIsConvertedFromVideoVast(),{creative:C,wrapper:O,userInteractionDispatchers:I}=br({adCreativeWindow:E,slot:e,measurersSlot:this.adDisplayController.measurersSlot,visibilityRatio:u.visibilityRatio,animationParameters:g,videoParameters:_,videoNodeController:c,slotSize:d.size,clickThroughUrl:w,intrinsicAdCreativeType:b?"video":"vpaid",getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:this.getCreativePackshotParameters({win:E,slot:e,packshotParameters:S,slotSize:d.size,videoNodeController:c,adCreativeUserInteractionCallbacks:T,lang:a.lang}),lang:a.lang,adCreativeUserInteractionCallbacks:T,verifyLogAdditionalData:Tn(this.mediaAd.vastAd)});return this.userInteractionDispatchers=I,{creative:C,wrapper:O}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null==(e=t.adParametersObject)?void 0:e.theme,r="video-banner_theme_caucasus"===i,n="video-banner_theme_moroz"===i,o="video-banner_theme_lake"===i;gu(t)&&(r||n||o)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=c_(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(Kt(e,((e,i,r)=>{Wa.ot.error({error:Gt({scope:t,errorType:i,error:e,details:qn({},this.getVPAIDLogDetails(),{error:e,data:r})})})})));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(zh(e,(()=>{this.destroy({reason:"error",details:new Ha.w({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})}))),t;Wa.ot.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=Fu({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(r){throw new Ha.w(r,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=c_(this.getScriptSrc());if("function"!==typeof e)throw new Ha.w({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:qn({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(o){throw new Ha.w(o,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=(0,Ya.I)((()=>{(0,ja.q)("[AdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(o){Wa.ot.error({error:new Ha.w(o,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}));if(!(e=>(0,as.K)(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe)(i))throw new Ha.w({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(r_);if(!(e=>{let{versionSupported:t,versionToCheck:i}=e;const r=(0,Ga.U)(t.split("."),(e=>parseInt(e,10))),n=(0,Ga.U)(i.split("."),(e=>parseInt(e,10)));for(let o=0;o<n.length;o++){const e=n[o],t=r[o],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0})({versionSupported:r_,versionToCheck:n}))throw(0,ja.q)("[AdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new Ha.w({code:"VPAID_VERSION_ERROR",details:qn({},this.getVPAIDLogDetails(),{playerSupportedVersion:r_,creativeVersion:n})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,250);return this.addDestroyHandler((()=>{e.clearInterval(t)})),()=>{e.clearInterval(t)}}subscribeCreativeEvents(e,t){e.subscribe((()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e}})}),"AdStopped"),e.subscribe(((e,t,i)=>{Wa.ot.event({name:"VpaidDispatchedAdClickThru",data:this.getVPAIDLogDetails(),probability:Fa.yl}),this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})}),"AdClickThru"),e.subscribe((()=>{this.updateAdSkippableState()}),"AdSkippableStateChange");const i=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let r;e.subscribe((()=>{(0,ja.q)("VPAID dispatched AdDurationChange event"),i()}),"AdDurationChange"),e.subscribe((()=>{this.creativeAdStartedCallback(),i(),(0,As.m)(r)&&r(),r=this.setUpdatePositionInterval(t)}),"AdStarted"),e.subscribe((()=>{(0,ja.q)("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),(0,As.m)(r)&&r(),r=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)}),"AdPlaying"),e.subscribe((()=>{(0,ja.q)("VPAID dispatched AdPaused event"),this.updatePosition(),(0,As.m)(r)&&r(),this.onPause.dispatch(void 0)}),"AdPaused"),e.subscribe((()=>{this.trackStartEvent()}),"AdVideoStart"),e.subscribe((()=>{this.onImpression.dispatch(void 0)}),"AdImpression"),e.subscribe((()=>{this.onFirstQuartile.dispatch(void 0)}),"AdVideoFirstQuartile"),e.subscribe((()=>{this.onMidpoint.dispatch(void 0)}),"AdVideoMidpoint"),e.subscribe((()=>{this.onThirdQuartile.dispatch(void 0)}),"AdVideoThirdQuartile");const n=(0,Ya.I)((()=>this.onBeforeComplete.dispatch(void 0)));e.subscribe((()=>{n()}),"AdVideoBeforeComplete"),e.subscribe((()=>{this.onVolumeChange.dispatch(void 0)}),"AdVolumeChange"),e.subscribe((()=>{this.destroy({reason:"skip",details:void 0})}),"AdSkipped");const o=(0,Ya.I)((()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})}));e.subscribe((()=>{(0,ja.q)("VPAID dispatched AdVideoComplete event"),o()}),"AdVideoComplete"),e.subscribe((()=>{this.destroy({reason:"close",details:void 0})}),"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new Ha.w({code:t,message:"String error from vpaid ["+e+"]",details:i}):(0,kl.S)(e)?e:e?new Ha.w(e,{code:t,details:i}):new Ha.w({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}getAutogeneratedPackshotParameters(e){var t;if(!nA||!e)return;const{vastAd:i}=this.mediaAd,{slotParameters:r}=this.adDisplayController;return{packshotImageUrl:zn(i,r.size.getValue()),packshotDuration:nA,packshotActionButtonClickUrl:null==(t=this.mediaAd.vastAd.playbackAdParameters)?void 0:t.clickThroughUrl,packshotButtonText:void 0}}get contentType(){return this.mediaAd.contentType}trackOnCreativeInit(){this.trackVastEvent("onCreativeInit",void 0)}trackVastEvent(e,t){var i;const r=null!=(i=this.mediaAd.vastAd.trackingEvents[e])?i:[];Vn({eventName:e,options:this.adDisplayController.getAdPlacementOptions(),trackingEventDetails:t,trackingUrls:r,pixelsSource:"vast"})}trackStartEvent(){this.isCreativeStartRequested.getValue()||Wa.ot.error({error:new Ha.w({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=ss),this.trackVastEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let n;this.isDestroyed&&Wa.ot.error({error:new Ha.w({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),e.url?n=e.url:r&&(Wa.ot.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r,adPodId:this.mediaAd.getAdPodId()}}),n=r);const{pauseOnClickThrough:o,clickThroughConfirmation:a,clickThroughCallback:s}=this.adDisplayController.playbackParameters,l=Boolean(s||n);if(!l||!i)return this.trackVastEvent("clickThrough",void 0),void Wa.ot.event({name:"PhantomClickThrough",data:{canHandleClickThrough:l,playerHandles:i,hasClickThroughCallback:Boolean(s),clickThroughUrl:n,clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()},probability:Fa.yl});n&&(n=p({url:Dn(n),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const d=(0,Ya.I)((function(i){void 0===i&&(i=!1);const r=Date.now(),a=t.adDisplayController.getPaused(),l=o&&!a;if(l&&t.pause(),i){const e=or(window.document,(i=>{var n;if(!i)return;l&&t.resume();const o=Date.now()-r;Vn({eventName:"returnAfterClickThrough",trackingEventDetails:{timeSpentBeforeReturn:o},trackingUrls:null!=(n=t.getAdParametersTrackingUrls("returnAfterClickThrough"))?n:[],options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"});const a=(e=>{switch(!0){case e<=1e3:return"ReturnBackAfterClickThroughIn1Sec";case e<=2e3:return"ReturnBackAfterClickThroughIn2Sec";case e<=1e4:return"ReturnBackAfterClickThroughIn10Sec";case e<=6e4:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}})(o);Wa.ot.event({name:a,data:{timeSpentBeforeReturn:o,adPodId:t.mediaAd.getAdPodId()}}),e()}));t.addDestroyHandler(e)}t.trackVastEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(o)}),s&&Wa.ot.event({name:"ClickThroughCallbackHandle",probability:Fa.yl,data:{clickThroughParams:e,url:n,pauseOnClickThrough:o,adPodId:t.mediaAd.getAdPodId()}})}));if(s){a||d();const t=this.isDestroyed;s({url:n,onHandle:d}),!t&&this.isDestroyed&&Wa.ot.error({error:new Ha.w({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),Wa.ot.event({name:"ClickThroughCallbackCall",probability:Fa.yl,data:{clickThroughParams:e,url:n,pauseOnClickThrough:o,adPodId:this.mediaAd.getAdPodId()}})}else{null!==window.open(n,"_blank")&&d(!0)}}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isAdaptive())return Pu;const e={width:this.getAdWidth(),height:this.getAdHeight()};return 0!==e.height&&0!==e.width?e:void 0}getVideoSlotClickUrl(){var e,t;const{mediaAd:i}=this;if("video"===i.contentType)return this.adPodViewerPlaybackParams.clickThroughUrl;const{vastAd:r}=i;if((null==(e=r.adParametersObject)?void 0:e.theme)===$c){const{clickThrough:e}=r;if((0,wl.H)(e))return e}return null==(t=r.playbackAdParameters)?void 0:t.clickThroughUrl}getDesiredBitrate(){const{desiredBitrate:e=qd}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}trackHoneypotShowEvent(){var e;Vn({eventName:"showHp",trackingEventDetails:void 0,trackingUrls:null!=(e=this.getAdParametersTrackingUrls("showHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}trackHoneypotClickEvent(){var e;Vn({eventName:"clickHp",trackingEventDetails:void 0,trackingUrls:null!=(e=this.getAdParametersTrackingUrls("clickHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}isHoneypotEnabledForCurrentCreative(){return!uu&&(!!Cm||("Multiroll"===Cs.R0||"AdLoader"===Cs.R0)&&!n(ps.K)&&this.areHoneypotTrackingUrlsDefined()&&(0,zs.M)()<.005&&"TRUE"===ms.L.getFlagValueAndActivateTestId("VAS_ENABLE_HONEYPOT_ON_SMALL_PERCENT"))}areHoneypotTrackingUrlsDefined(){return Boolean(this.getAdParametersTrackingUrls("showHp")&&this.getAdParametersTrackingUrls("clickHp"))}getCreativePackshotParameters(e){let{win:t,slot:i,packshotParameters:r,slotSize:n,videoNodeController:o,adCreativeUserInteractionCallbacks:a,lang:s}=e;const l=()=>{this.packshotStartLatch.dispatch(void 0)};return this.isHoneypotEnabledForCurrentCreative()?{type:"honeypot",renderLayoutComponent:()=>{this.trackHoneypotShowEvent(),Wa.ot.event({name:"AdCreativeWrapperHoneypotRender",data:void 0,probability:Fa.Vn}),l();const e=new fv({win:t,parent:i,parentSize:n,videoNodeController:o,onClick:()=>{(0,ja.q)("Honeypot clicked"),this.trackHoneypotClickEvent(),Wa.ot.event({name:"AdCreativeWrapperHoneypotContinueClicked",data:void 0,probability:Fa.Vn}),e.destroy({reason:"complete",details:void 0})},buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"});return e}}:r?qn({},r,{type:"packshot",renderLayoutComponent:()=>(l(),new Qv({win:t,parent:i,parentSize:n,videoNodeController:o,imageUrl:r.packshotImageUrl,duration:r.packshotDuration,clickUrl:r.packshotActionButtonClickUrl,openClickThroughUrl:()=>{a.AdClickThru({url:r.packshotActionButtonClickUrl,id:void 0,playerHandles:!0})},buttonText:r.packshotButtonText||vl("LEARN_MORE",s),descriptionText:void 0,disableOverlay:void 0}))}):void 0}}const A_=Zd,m_={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:ro(.6,.7,.61,1.09,.01)},v_="linear",__={number:(e,t,i)=>t+(i-t)*e,boolean:(e,t)=>t},f_=$r((e=>vl(e,pl)));f_.Provider.displayName="I18NContext";const g_=e=>{let{adDisplayController:t}=e;const{lang:i}=t.playbackParameters;return e=>vl(e,i)},y_=()=>ln(f_),E_=function(e,t){const i=Fc(e);return(0,bl.q)(t,i)?i:void 0}("ENABLE_ACTION_PANEL_WITH_ARROW",["EVERYWHERE"]),T_=$r({actionButtonParameters:void 0,progress:0,clickThrough:za.Z,shouldUseActionPanel:!1});T_.Provider.displayName="SkinActionButtonContext";const S_=e=>{let{actionButtonParameters:t,actionButtonAnimationProgress:i,clickThrough:r}=e;const n=_n(t),o="EVERYWHERE"===E_;return{actionButtonParameters:n,progress:_n(i),clickThrough:sn((e=>{r(e,"SkinActionButton")}),[r]),shouldUseActionPanel:o}},w_=()=>ln(T_),b_=e=>{const{width:t="1em",height:i="1em",style:r={}}=e;return Nr("svg",{width:t,height:i,style:oo({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},r),viewBox:"14 14 38 38"},Nr("g",{"fill-rule":"nonzero",fill:"currentcolor"},Nr("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var C_=e(8774),O_=e.n(C_);const I_=e=>{let{size:t,children:i}=e;return gn(O_()),Nr("div",{className:C_.locals.ActionButton},Nr("div",{className:vn(C_.locals.ActionButton__content,{[C_.locals.ActionButton__content_middle]:"middle"===t,[C_.locals.ActionButton__content_small]:"small"===t})},i,Nr(b_,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:i?"0.3em":"0px"}})))};var P_=e(9286),D_=e.n(P_);const N_=e=>{let{title:t,greenUrl:i}=e;gn(D_());const r=on(null),n=on(null),[o,a]=tn(!1);nn((()=>{r.current&&n.current&&a(r.current.clientHeight>n.current.clientHeight)}),[t]);const s=Nr("div",{ref:n,className:P_.locals.InfoBlock__titleSpy},t);return Nr("div",{className:vn(P_.locals.InfoBlock,o&&P_.locals.InfoBlock_multiline)},s,Nr("div",{ref:r,className:P_.locals.InfoBlock__title},t),i?Nr("div",{className:P_.locals.InfoBlock__greenUrl},i):null)};var R_=e(398),k_=e.n(R_);const V_=e=>"https://favicon.yandex.net/favicon/"+e+"?size=32",L_=$r(NaN);L_.Provider.displayName="AdDurationContext";const M_=e=>{let{adDisplayController:t}=e;return _n(t.adPodDuration)},B_=()=>ln(L_),x_=$r({});x_.Provider.displayName="ControlsVisibilityContext";const U_=()=>ln(x_),F_=$r({isPackshotPlaying:!1});F_.Provider.displayName="SkinPackshotContext";const H_=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:_n(t)}},W_=()=>ln(F_);var z_=e(2820),j_=e.n(z_);const G_=e=>{gn(j_());const t=y_(),{actionButtonParameters:i,clickThrough:r}=w_(),n=B_(),{isPackshotPlaying:o}=W_(),a=iv(),{punyDomain:s,clickUrl:d,greenUrl:c,label:u}=i||{},h=sn((()=>{r({url:d})}),[r,d]),{actionButton:p}=U_();if(!1===p)return null;if(!i)return null;if(o)return null;if(!l(n))return null;let A;(0,wl.H)(s)&&(A=V_(s));const{size:m,showLabelOnButton:v}=e,_=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),f="small"===m?_:null!=u?u:_,g=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),y=null!=c?c:g,E=a.width>=260;return Nr(Fv,{url:d,onClick:h},Nr("div",{className:z_.locals.ActionPanelSmall__clickableContainer},Nr("div",{className:vn(z_.locals.ActionPanelSmall,{[z_.locals.ActionPanelSmall__middle]:"middle"===m})},Nr("div",{className:z_.locals.ActionPanelSmall__favIconContainer},A?Nr("img",{className:z_.locals.ActionPanelSmall__favIcon,src:A,alt:"favicon",style:{marginLeft:"small"===m?7:10}}):void 0),E&&Nr("span",{className:z_.locals.ActionPanelSmall__label},y),Nr("div",{style:{paddingRight:"small"===m?4:5}},Nr(I_,{size:m},v?f:void 0)))))},q_=()=>{const{clickThrough:e,actionButtonParameters:t}=w_(),i=iv(),r=i.width<450||i.height<300;if(!t)return null;const{clickUrl:n,punyDomain:o,greenUrl:a,label:s}=t;let l;(0,wl.H)(o)&&(l=V_(o));const d=sn((()=>{e({url:n})}),[e,n]);return Nr("div",null,r?Nr(G_,{showLabelOnButton:!0,size:"small"}):Nr(J_,{title:void 0,greenUrl:a,buttonLabel:s,clickUrl:n,onClickThrough:d,faviconSrc:l,disableAnimation:!0}))},K_=700,Y_=io([{durationPortion:.2857142857142857,values:[-62,10]}],K_),Z_=io([{durationPortion:.7142857142857143,value:0},{durationPortion:.2857142857142857,values:[0,1]}],K_),X_=io([{durationPortion:.7142857142857143,value:0},{durationPortion:.2857142857142857,values:[0,1]}],K_),J_=e=>{gn(k_());const{progress:t}=w_(),i=iv(),r=y_(),n=r("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),o=r("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:a,greenUrl:s,onClickThrough:l,buttonLabel:d=o,disableAnimation:c=!1,faviconSrc:u,clickUrl:h}=e,p=(0,ju.u)(t*K_,0,K_),A=c?1:no({position:p,unit:"number",steps:Z_}),m=c?10:no({position:p,unit:"number",steps:Y_}),v=c?1:no({position:p,unit:"number",steps:X_}),_=1.1*ao(i),f={height:_,maxWidth:280*_/48+20,fontSize:_/4};return Nr("div",{className:R_.locals.ActionPanel__clickableLayer,style:f},Nr("div",{className:R_.locals.ActionPanel},Nr("div",{className:R_.locals.ActionPanel__content},Nr(Fv,{url:h,onClick:l},Nr("div",{className:R_.locals.ActionPanel__mask,style:{opacity:A,maxWidth:f.maxWidth*v}},Nr("div",{className:vn(R_.locals.ActionPanel__wrapper,!u&&R_.locals.ActionPanel__wrapper_wide)},Nr(N_,{greenUrl:s,title:(0,wl.H)(a)?a:n}),Nr(I_,{size:"big"},d)))),u?Nr("div",{className:R_.locals.ActionPanel__favicon,style:{left:m+"px"}},u?Nr("img",{src:u,alt:"favicon"}):void 0):null)))},Q_=-1,$_=-1===sp&&!(cp&&dp>=15);var ef=e(5563);const tf=Ir(window),rf=tf.requestAnimationFrame,nf=tf.cancelAnimationFrame;class of extends Sl.V{constructor(e){var t,i;super(),this.isPlaying=new cl.R(!1),this.framesInterval=100,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=.3;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=ji(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:n,clientHeight:o}=this.params.container,a=n/o,s=r.width/r.height,l=s-a;this.prepareBlurCanvas(s,l),this.setVisibility(!0);const{context:d}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=2;d.drawImage(c,0,0,r.width,r.height,0,0,e,e),d.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else d.drawImage(c,0,0,r.width,r.height,0,0,u,h);d.globalAlpha=.1,this.handleSlowDevices(),this.setRepaintTimeout()},this.params=e,this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add((e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))})),this.addDestroyHandler((()=>{this.setPlaying(!1),(0,Ua.L)(this.blurWrapper)}))}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[1.6,Math.max(e,1.6)];t&&i.reverse(),this.slowDevice||VA(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){VA(this.canvas,{opacity:e})}simplifyBlur(){const{clientWidth:e,clientHeight:t}=this.params.container;this.setCanvasSize(e+10,t+10);const i="-5px";VA(this.canvas,{left:i,top:i,transform:"",filter:"blur(5px)",width:100*(1+10/e)+"%",height:100*(1+10/t)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=ci(this.params.videoNode).position;-1===(0,ef.c)(["fixed","absolute"],t)&&(e["z-index"]="-1"),VA(this.blurWrapper,e),VA(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout((()=>this.rafId=rf(this.repaint)),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),nf(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,n=t<0,o=n?r.offsetHeight*e:r.offsetWidth/e,a=n?o:r.offsetWidth,s=n?r.offsetHeight:o,l=(n?i.offsetWidth:i.offsetHeight)/o*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*l,n)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}var af;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(af||(af={}));const sf=new gv,lf=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class df{constructor(e){const{cues:t}=co(e);this.cues=t.sort(((e,t)=>e.start-t.start))}findCuesByCurrentTime(e){return(0,_l.h)(this.cues,(t=>this.isCueApplicable(t,e)))}isCueApplicable(e,t){const{start:i,end:r}=e;return t>=i&&t<=r}}const cf=e=>{const t=Ai(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=di(e,{objectFit:""});return(0,Ya.I)((()=>{t(),i()}))},uf=15,hf=1e3,pf="Fullscreen is not supported";class Af{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new Ml.M,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=Wi(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&cp&&(this.onDestroy.addOne((0,qa.V)({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne((0,qa.V)({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=Hi(e,t),this.names&&(this.onDestroy.addOne((0,qa.V)({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(pf);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(pf);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(pf);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=(0,_l.h)(this.handlers,(t=>t!==e))}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,(0,Ja.E)(this.handlers,(t=>t(e)))}}class mf{constructor(e){this.violatedSources=[],this.securityPolicyViolationCallback=e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const n={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(n)},this.unsubscribeEvent=(0,qa.V)({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return(0,Nu.s)(this.violatedSources,(t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)}))}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const vf=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class _f extends Sl.V{constructor(e){super(),this.params=e,this.mediaSource=new e.MediaSourceConstructor,(0,qa.V)({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy((e=>{(0,ja.q)("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new Ha.w(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))}))}),(0,ja.q)("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler((()=>{var e;(0,ja.q)("MSEController: detach BLOB URL"),(e=this.params.videoSlot).removeAttribute("src"),e.load()})),this.init().then((()=>{(0,ja.q)("MSEController: MSE successfully attached"),Wa.ot.event({name:"MSEControllerAttachSuccess",data:{},probability:Fa.yl})})).catch((e=>{(0,ja.q)("MSEController: init error"),"AbortError"===e.name?Wa.ot.event({name:"MSEControllerFetchWasAborted",data:{message:e.message},probability:Fa.yl}):Wa.ot.error({error:new Ha.w(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})}))}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler((()=>{if(e.signal.aborted)return(0,ja.q)("MSEController#reader: abort controller was already aborted"),void Wa.ot.error({error:new Ha.w({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});(0,ja.q)("MSEController#reader: abort controller"),e.abort()}));const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new Ha.w({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler((()=>{(0,ja.q)("MSEController#reader: cancel reader"),xn(i.cancel())})),(0,ja.q)("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise((e=>(0,qa.V)({element:this.mediaSource,eventName:"sourceopen",listener:e})));const{mediaFile:e}=this.params,{type:t,codec:i}=e;let r;t&&i?r=gh({type:t,codec:i}):(Wa.ot.event({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e},probability:Fa.yl}),r='video/webm; codecs="vorbis,vp8"');const n=this.mediaSource.addSourceBuffer(r);return(0,qa.V)({element:n,eventName:"error",listener:this.ignoreAfterDestroy((e=>{(0,ja.q)("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Ha.w(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))}))}),this.addDestroyHandler((()=>{"open"===this.mediaSource.readyState&&((0,ja.q)("MSEController#abort source buffer"),n.abort())})),(0,ja.q)("MSEController: got source buffer"),n}async doReadCycle(e,t){(0,ja.q)("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+vf);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise((e=>(0,qa.V)({element:t,eventName:"updateend",listener:e})));if(!i.value)break;if(this.isDestroyed)return;if(vf){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise((e=>(0,qa.V)({element:t,eventName:"updateend",listener:e})));i=await e.read()}while(i.value);for(vf&&((0,ja.q)("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise((e=>(0,qa.V)({element:t,eventName:"updateend",listener:e})));(0,ja.q)("MSEController: read cycle complete")}async finalize(e){for((0,ja.q)("MSEController#close streams");e.updating;)await new Promise((t=>(0,qa.V)({element:e,eventName:"updateend",listener:t})));"open"===this.mediaSource.readyState?((0,ja.q)("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):(0,ja.q)("MSEController#finalize: media source is closed")}}class ff{constructor(e,t){this.seekAllowed=!0,this.onVideoTimeUpdate=()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())},this.video=e,this.onSeekRestore=t,this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=(0,qa.V)({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<50)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>2*(i||1)}}const gf=Math.ceil(8),yf=Ah.$;class Ef extends Sl.V{constructor(e,t){super(),this.onClick=new Ml.M,this.currentPosition=new cl.R({currentTime:0,duration:0},Rn),this.onError=new Ml.M,this.onEnd=new Ml.M,this.onVolumeChange=new Ml.M,this.onPlay=new Ml.M,this.onPlayAfterPause=new Ml.M,this.onBufferingAfterPlay=new Ml.M,this.isBuffering=new cl.R(!1),this.onPlaying=new Ml.M,this.onSeekRestore=new Ml.M,this.onCanPlay=new Ml.M,this.onLoadedData=new Ml.M,this.pauseRequest=new cl.R(-1),this.videoNode=e,this.window=t,this.playingState=new cl.R(this.videoNode.paused?Dp.PAUSE:Dp.PLAY),this.seekController=new ff(e,(()=>this.onSeekRestore.dispatch(void 0))),this.win=Xi(e)?e.ownerDocument.defaultView:this.window,this.fullscreenApi=new Af(this.win,e),this.cspErrorHandler=new mf(this.win);let i=this.playingState.getValue();this.playingState.add((e=>{const{currentTime:t,duration:r,paused:n,ended:o}=this.videoNode;switch((0,ja.q)("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:i,nextPlayingState:e,currentTime:t,duration:r,paused:n,ended:o})+"]"),e){case Dp.PLAY:"pause"===i&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case Dp.END:this.onEnd.dispatch(void 0);break;case Dp.BUFFERING:"play"===i&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===Dp.BUFFERING),i=e}));const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new Ha.w({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&Wa.ot.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=(0,El.n)(1e3);this.addDestroyHandler((()=>{t(),i()})),e.then(i).catch(ol.L)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch(Dp.PLAY)},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch(Dp.PLAY)}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange(),this.subscribeLoadedData();for(const n in r)r.hasOwnProperty(n)&&e.addEventListener(n,r[n]);this.addDestroyHandler((()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll(),this.onCanPlay.removeAll()}))}play(){(0,ja.q)("VideoNodeController.play");const e=this.videoNode.play();sl(e)&&e.catch((e=>{this.shouldIgnorePlayRejection(e)||Wa.ot.error({error:new Ha.w(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})}))}pause(){(0,ja.q)("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause(),this.playingState.getValue()!==Dp.END&&this.playingState.dispatch(Dp.PAUSE)}setSrc(e){const t=this.prepareSrcUrl(e),{videoNode:i}=this;let r;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const n=(0,xl.x)(this.win);r=!(!(0,As.m)(n)||void 0!==xt(e)),(0,ja.q)("VideoNodeController.setSrc shouldPlayWithMSE=["+r+"] url=["+t+"]"),wi(i,(()=>{if(!r)return i.src=t,void i.load();const n=(e=>{if(!Ih||!Sh)throw new Ha.w({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new _f(_o({},e,{MediaSourceConstructor:Sh}))})({mediaFile:e,videoSlot:i});this.activeMSEController=n,n.addDestroyHandler(this.ignoreAfterDestroy((e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)}))),this.addDestroyHandler((()=>{n.destroy(void 0)}))}))}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return vo(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return Wi(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){wi(e,(()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:.5;e.volume=t}}))}(this.videoNode,e)}getVolume(){return fo(this.videoNode)}setVolume(e){!function(e,t){wi(e,(()=>{e.volume=t,e.muted=0===t}))}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}setLoop(e){this.videoNode.loop=e}getLoop(){return this.videoNode.loop}prepareSrcUrl(e){const{url:t}=e;return Ut(e.type)?(0,Qa.Sr)(e.url,{video_height:String(this.getHeight()),video_width:String(this.getWidth())}):t}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:r,duration:n,error:o,networkState:a,readyState:l}=e,d=o&&o.code,c={code:d,message:o&&o.message||"",src:t,currentSrc:i,currentTime:r,duration:n,networkState:a,readyState:l,selectedMediaFile:void 0,mediaFiles:void 0};if(!o||"undefined"===typeof MediaError)return new Ha.w({code:"VIDEO_ERROR",details:c});switch(d){case MediaError.MEDIA_ERR_ABORTED:return new Ha.w({code:"MEDIA_ERR_ABORTED",details:c});case MediaError.MEDIA_ERR_NETWORK:return new Ha.w({code:"MEDIA_ERR_NETWORK",details:c});case MediaError.MEDIA_ERR_DECODE:return new Ha.w({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:c});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return s(a)&&s(l)&&l===e.HAVE_NOTHING&&a===e.NETWORK_NO_SOURCE?new Ha.w({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:c}):new Ha.w({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:c});default:return new Ha.w({code:"MEDIA_ERROR_UNRECOGNIZED",details:c})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=dp>=11?mo(this.videoNode,e):(0,qa.V)({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{if(this.seekController.isSeekingIllegal())return;this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();(0,ja.q)("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},r=(0,qa.V)({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,250)},options:{passive:!0}}),n=(0,qa.V)({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),o=(0,qa.V)({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=(0,qa.V)({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(r),this.addDestroyHandler(n),this.addDestroyHandler(o),this.addDestroyHandler(a),this.addDestroyHandler((()=>{this.win.clearInterval(e)}))}subscribePause(){const{videoNode:e}=this,t=(0,qa.V)({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch(Dp.PAUSE)},options:{passive:!0}}),i=Yt((()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===Dp.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;(0,ja.q)("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Wa.ot.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i},probability:Fa.yl}),this.playingState.dispatch(Dp.PAUSE)}}));this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=(0,qa.V)({element:this.videoNode,eventName:"ended",listener:()=>{if(this.seekController.isSeekingIllegal())return;const{currentTime:e,duration:t}=this.getCurrentPosition();e+.25>=t?this.playingState.dispatch(Dp.END):(0,ja.q)("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const r=Yt((()=>{const{currentTime:e,duration:r}=this.getCurrentPosition(),{paused:n}=this.videoNode,o=this.playingState.getValue();if(r>0&&e>=r)return void(o!==Dp.END&&(Wa.ot.event({name:"DetectVideoEndByCurrentTime",probability:Fa.yl,data:void 0}),this.playingState.dispatch(Dp.END)));const a=!n&&r>0&&e===i&&r-e<1&&this.playingState.getValue()===Dp.PLAY;i=e,a?t>=gf?(t=0,o!==Dp.END&&(Wa.ot.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(Dp.END))):t++:t=0}));this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=za.Z;const t=pA(this.videoNode,(t=>{let i;if(i=t?Dp.BUFFERING:this.videoNode.paused?Dp.PAUSE:Dp.PLAY,e(),this.playingState.dispatch(i),t&&yf){const{clear:t,promise:i}=(0,El.n)(1e3);e=t,this.addDestroyHandler(t),i.then((()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+.1;this.setCurrentTime(i);const{currentSrc:r,src:n}=this.videoNode;Wa.ot.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:r,src:n,currentTime:e,duration:t}})})).catch(ol.L)}}));this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler((0,qa.V)({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}subscribeLoadedData(){this.addDestroyHandler((0,qa.V)({element:this.videoNode,eventName:"loadeddata",listener:()=>this.onLoadedData.dispatch(void 0)}))}shouldIgnorePlayRejection(e){if(this.isDestroyed)return!0;if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=1e3}}const Tf=e=>{var t;const{adParametersObject:i}=e;if(!(0,as.K)(i))return;const r=null!=(t=i.adParameters)?t:i;return{parsedParameters:Jp(r),adParametersObject:i}},Sf=["left-bottom","right-bottom"],wf=["left-bottom","right-bottom","left-center","right-center"],bf=e=>!1!==e.abuse,Cf={isCloseAvailable:!1,isCloseDialogActive:!1},Of={clickableVideo:!0,video:!0,interactiveViewer:!0,external:void 0,motion:void 0,overlay:void 0,survey:void 0,themeEmpty:void 0,vpaidCreative:void 0},If=(e,t)=>t>=WA&&("play"===e||"pause"===e);var Pf=e(1614);const Df=[{type:"video/x-flv",codec:void 0},{type:"video/webm",codec:"vp8, vorbis"},{type:"video/webm",codec:"vp8"},{type:"video/webm",codec:"vp08, vorbis"},{type:"video/webm",codec:"vp08"},{type:"video/webm",codec:"vp9, vorbis"},{type:"video/webm",codec:"vp9"},{type:"video/webm",codec:"vp09, vorbis"},{type:"video/webm",codec:"vp09"},{type:"video/webm",codec:"av1"},{type:"video/webm",codec:void 0},{type:"video/ogg",codec:void 0},{type:"video/mp4",codec:"avc1.640033, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640033"},{type:"video/mp4",codec:"avc1.640034, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640034"},{type:"video/mp4",codec:"avc1.64082A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64082A"},{type:"video/mp4",codec:"avc1.640828, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640828"},{type:"video/mp4",codec:"avc1.640820, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640820"},{type:"video/mp4",codec:"avc1.64081F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081F"},{type:"video/mp4",codec:"avc1.64081E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081E"},{type:"video/mp4",codec:"avc1.64002A,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A"},{type:"video/mp4",codec:"avc1.640028,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028"},{type:"video/mp4",codec:"avc1.640020,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020"},{type:"video/mp4",codec:"avc1.64001F,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F"},{type:"video/mp4",codec:"avc1.64001E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E"},{type:"video/mp4",codec:"avc1.4D481E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D481E"},{type:"video/mp4",codec:"avc1.4D401E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E"},{type:"video/mp4",codec:"h264"},{type:"video/mp4",codec:"av1"},{type:"video/mp4",codec:void 0},{type:"video/3gpp",codec:"av1"},{type:"video/3gpp",codec:void 0},{type:"application/x-mpegURL",codec:void 0},{type:"application/vnd.apple.mpegurl",codec:void 0},{type:"video/x-ms-wmv",codec:void 0},{type:"application/x-shockwave-flash",codec:void 0},{type:"video/3gp",codec:"av1"},{type:"video/3gp",codec:void 0},{type:"video/mpeg",codec:void 0},{type:"video/mpeg",codec:"av1"}];let Nf=0;class Rf extends Sl.V{constructor(e){let{config:i,videoNode:r,videoWrapperNode:n,skinParameters:o,backgroundSlot:a,visibilitySlotParameters:s,measurersSlot:d,retainLastMediaAfterPlayback:c}=e;super(),this.volumeButtonCollapseProgress=new cl.R(void 0),this.volumeStatus=new cl.R("unknown"),this.videoSlotClickUrl=new cl.R(void 0),this.onReady=new Ml.M,this.onBeforeDestroy=new Ml.M,this.onDestroy_PUBLIC_DO_NOT_USE=new Ml.M,this.onBeforeAdStart=new Ml.M,this.onAdStart=new Ml.M,this.adSlowStart=new cl.R(!1),this.onAdMediaStart=new Ml.M,this.onAdMediaEnd=new Ml.M,this.onAdEnd=new Ml.M,this.onAdSkipped=new Ml.M,this.onClickThrough=new Ml.M,this.autoplayAbilitySignal=new cl.R(Co({},Op)),this.onAdStartRejected=new Ml.M,this.adContentSize=new cl.R(void 0,Rn),this.onAdStop=new Ml.M,this.onAdStartRequest=new Ml.M,this.onAdPodPlayAdMedia=new Ml.M,this.onAdPodStartRequest=new Ml.M,this.onAdPodStart=new Ml.M,this.onAdPodImpression=new Ml.M,this.onAdPodFirstQuartile=new Ml.M,this.onAdPodMidpoint=new Ml.M,this.onAdPodThirdQuartile=new Ml.M,this.onAdPodPause=new Ml.M,this.onAdPodResume=new Ml.M,this.onAdPodError=new Ml.M,this.onAdPodComplete=new Ml.M,this.onAdPodClose=new Ml.M,this.onAdInteraction=new Ml.M,this.adMediaState=new cl.R({name:"idle"},Rn),this.isPackshotPlaying=new cl.R(!1),this.actionButtonParameters=new cl.R(void 0,Rn),this.disclaimerParameters=new cl.R(void 0,Rn),this.actionButtonAnimationProgress=new cl.R(0),this.abuseParameters=new cl.R(Up,Rn),this.adPodDuration=new cl.R(NaN),this.adVolumeAvailability=new cl.R(false),this.adPodRemainingTime=new cl.R(-2),this.skinAnimationProgress=new cl.R(0),this.timeToSkip=new cl.R(Q_),this.adSkippableState=new cl.R(oA),this.playingState=new cl.R("idle",((e,t)=>"idle"===t?(Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),this.adPodCloseState=new cl.R(Cf,Rn),this.adTuneState=new cl.R(Wp,Rn),this.combinedSkinControlsVisibility=new cl.R({},Rn),this.adSystemType=new cl.R(void 0),this.contentAfterAdPod=new cl.R(Bd,Rn),this.socialAdvertising=new cl.R(!1),this.abuseDisplayStatus=new cl.R("hidden"),this.pauseByOpenAbuseScreen=new cl.R(!1),this.adPodsCount=new cl.R(0),this.playingAdPodIndex=new cl.R(0),this.adPodCurrentSubtitles=new cl.R([]),this.isFullscreen=new cl.R(!1,Rn),this.logAbuseOpenFirstTime=(0,Ya.I)((()=>{Wa.ot.event({name:"AbuseScreenOpenFirstTime",data:{},probability:Fa.Vn})})),this.onAllAdPodComplete=new Ml.M,this.lastMediaRetained=new cl.R(void 0),this.adType=new cl.R(void 0),this.retainLastMediaAfterPlayback=!1,this.skinControlsHideReasons=new cl.R((0,hd.N)((0,Ga.U)(Zd,(e=>[e,[]])))),this.publicApiControlsSettings=new cl.R({controlsVisibility:{}}),this.isCreativeWithOwnControls=new cl.R(!1),this.vastAdControlsSettings=new cl.R(void 0),this.shouldHandleResize=!0,this.viewersList=[],this.showAdCounter=0,this.shouldBlurBeVisibleByApiLogic=new cl.R(!0),this.adPodBackground=new cl.R(void 0),this.adPodDestroyReasonObjects=[],this.destroyBlur=za.Z,this.adVideoIsBuffering=new cl.R(!1),this.onAdInteractionWrapper=((e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}})((()=>{this.onAdInteraction.dispatch(void 0)}),500),this.prepareSkin=(0,Ya.I)((()=>{const e=this.skinContainer;S(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px",overflow:"hidden",lineHeight:"initial"});const t=Nn(e);t||Wa.ot.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:r,clear:n}=this.skinParameters.renderSkinFunction(null!=t?t:e,this);i.catch((e=>{Wa.ot.error({error:new Ha.w(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)})),r.catch((e=>{Wa.ot.error({error:new Ha.w(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)})),this.addDestroyHandler((()=>{n(),(0,Ua.L)(e)}))})),this.openAdSystemWebsite=()=>{const e=this.socialAdvertising.getValue(),t=e?"https://yandex.ru/socialads-transparency-report":vl("YANDEX_DIRECT_LINK",this.playbackParameters.lang),i=!this.getPaused(),r=Date.now();Wa.ot.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause();if(null===window.open(t,"_blank"))return;const n=or(window.document,(o=>{o&&(Wa.ot.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),n(),i&&this.resume())}));this.addDestroyHandler(n)},this.clickThrough=(e,t)=>{this.currentViewer?(Wa.ot.event({name:"AdDisplayControllerClickThrough",data:{source:t,playbackParameters:this.playbackParameters},probability:Fa.yl}),this.viewerClickThrough(this.currentViewer,e)):Wa.ot.error({error:new Ha.w({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{source:t,playbackParameters:this.playbackParameters}})})},this.destroyCurrentViewer=()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen(),this.showCreativesContainer())},this.logAbuseEventToStats=e=>{Wa.ot.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:Fa.Vn});const t="AbuseVariantChoose_"+e;Wa.ot.event({name:t,data:{},probability:Fa.Vn})},this.showCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display=""}catch(e){Wa.ot.error({error:new Ha.w(e,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.hideCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display="none"}catch(e){Wa.ot.error({error:new Ha.w(e,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.abuseVariantChooseHandler=(e,t)=>{if(!this.currentViewer)return void Wa.ot.error({error:new Ha.w({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});null!=t&&t.needToHideCreativesContiner&&this.hideCreativesContainer();const{reason:i,action:r}=xp[e];this.sendAdTuneTracking({actionId:r,reasonId:i,options:t}),this.logAbuseEventToStats(e);(null==t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()},this.onAbuseCopyLinkToClipboardClick=e=>{e?(Wa.ot.event({name:"AbuseScreenCopiedCountLink",data:{},probability:Fa.Vn}),function(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(r){}document.body.removeChild(t)}(e)):Wa.ot.error({error:new Ha.w({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})},this.getSendBeaconParams=e=>{const t=null==e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})},this.abuseButtonClickHandler=()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),Wa.ot.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:Fa.Vn}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:kp.action,reasonId:kp.reason})},this.abuseScreenCloseHandler=()=>{Wa.ot.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:Fa.Vn}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:Vp.action,reasonId:Vp.reason})},this.handleAbuseScreenCloseByResumeError=()=>{Wa.ot.error({error:new Ha.w({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")},this.getCurrentViewerAssets=()=>{const e=this.currentViewer;if(!e)return void Wa.ot.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:Fa.yl});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?Jp(t):void 0,r=this.getAdPlacementOptions(),{adFormatType:n}=r,o="survey"===n?n:void 0;if(!i)return Wa.ot.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:Fa.yl}),{logo:void 0,domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,images:void 0,adFormatType:o,isFullyClickable:So(n,e.getVideoSlotClickUrl()),sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const a=null==i?void 0:i.assets,s=null==a?void 0:a.button,{abuseUrl:l}=this.abuseParameters.getValue(),d={logo:null==a?void 0:a.logo,domain:null==i?void 0:i.domain,greenUrl:null==i?void 0:i.greenUrl,punyDomain:null==i?void 0:i.punyDomain,title:null==i?void 0:i.title,body:null==i?void 0:i.body,age:null==i?void 0:i.ageRestriction,buttonCaption:null==s?void 0:s.caption,lang:this.playbackParameters.lang,targetUrl:null==i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),app:null==a?void 0:a.app,icon:null==a?void 0:a.icon,images:null==a?void 0:a.images,adFormatType:o,isFullyClickable:So(n,e.getVideoSlotClickUrl()),sendAdTuneTracking:l?e=>{Wa.ot.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:Fa.yl}),this.sendAdTuneTracking(e)}:void 0,clickThrough:Boolean(e.adPodViewerPlaybackParams.clickThroughUrl)?()=>{Wa.ot.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:Fa.yl}),this.viewerClickThrough(e,{})}:void 0,clickThroughButtonAsset:s?()=>{Wa.ot.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:Fa.yl}),this.viewerClickThrough(e,{id:s.key,url:s.href})}:void 0};return Wa.ot.event({name:"GetCurrentViewerAssetsReturnAssets",data:d,probability:Fa.yl}),d},this.subscribeInteractionHandlers=()=>{if(!ap(this.slotParameters.element))return za.Z;const e=[],t=Xi(this.videoNode);return(0,Ja.E)(bm,(i=>{e.push((0,qa.V)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push((0,qa.V)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))})),()=>(0,Ka.p)(e)},this.viewerClickThrough=(e,t)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)},this.saveCurrentInstanceToRegistry=()=>{var e,t;if(!qh.O)return;const i=window;if(null==(e=i.ya)||null==(t=e.videoAd)||!t.debugParameters)return;const r=i.ya.videoAd.debugParameters;if(!r.adDisplayControllerRegistry){const e=new yv;Object.defineProperty(r,"adDisplayControllerRegistry",{get:()=>(Wa.ot.warning({name:"UsingDebugCodeAdDisplayControllerRegistryGetter",message:"You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."}),e)});const t=()=>{Wa.ot.warning({name:"UsingDebugCodeAdDisplayControllersGetter",message:"You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."});return[...r.adDisplayControllerRegistry.values()]};r.getAdDisplayControllers=t;const i=()=>(Wa.ot.warning({name:"UsingDebugCodeGetBlocksInfo",message:"You are using debug code get blocks info, WE DON'T PROVIDE SUPPORT FOR THIS CODE."}),(0,Ga.U)(r.getAdDisplayControllers(),(e=>(e=>({visibilityTrackingElement:e.visibilitySlotParameters.element,adType:e.adType.getValue(),bundleName:Cs.R0,SID:vs.x}))(e))));r.getBlocksInfo=i}const n=r.adDisplayControllerRegistry;n.add(this),this.addDestroyHandler((()=>{n.delete(this)}))},this.retainLastMediaAfterPlayback=Boolean(c),this.addDestroyHandler((e=>{this.onBeforeDestroy.dispatch(e)})),qh.O&&this.saveCurrentInstanceToRegistry(),this.backgroundSlot=a,this.visibilitySlotParameters=s,this.measurersSlot=d,function(e){Cr(e)&&Tm(),Or(e)&&Em(e)}(window);const u=void 0===r.volume||void 0===r.muted;u&&Wa.ot.error({error:new Ha.w({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:h,errors:p}=to(i);this.playbackParameters=h,void 0!==i.skipDelay&&Wa.ot.event({name:"UseOfPublicApiSkipDelayParameter",data:{config:i}}),this.adVolume=new cl.R(fo(r)),this.adHasBeenUnmuted=new cl.R(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=u;const A=new yA(n),m=A.onResize;m.add((e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)})),m.add((()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()})),this.addDestroyHandler((()=>{A.destroy()}));const v=new cl.R(!1);this.addDestroyHandler(Ui(n,(e=>{v.dispatch(e)}))),this.slotParameters={element:n,document:n.ownerDocument,window:n.ownerDocument.defaultView,size:m,isHovered:v},this.skinParameters=o,this.isTouchScreenDevice=(0,Os.S)(this.slotParameters.window),this.addDestroyHandler(((e,t)=>{const i=Yt((()=>{pi(e)||(i(),t())}));return i})(n,(()=>{this.destroy({reason:"error",details:new Ha.w({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})}))),this.videoContentSize=new cl.R(void 0,Rn);const _=new cl.R(If(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));if(this.addDestroyHandler(Mi([this.playingState,this.visibilitySlotParameters.visibilityRatio],If,(e=>_.dispatch(e)))),this.addDestroyHandler((e=>{let{valueSignal:t,time:i,callback:r,win:n}=e,o=0;const a=()=>null==n?void 0:n.clearTimeout(o),s=t.add((e=>{e?o=n.setTimeout((()=>{r(),s()}),i):a()}));return()=>{a(),s()}})({valueSignal:_,time:2e3,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotParameters.window})),this.onAdStart.addOne((()=>{this.addDestroyHandler(Ao(r,(e=>{this.videoContentSize.dispatch(e)}))),this.videoContentSize.dispatch(ji(r))})),this.adHasBeenUnmuted.addOne((e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()})),this.volumeStatus.addOne((()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)})),this.addDestroyHandler((()=>{A.destroy()})),Xi(r)){const e=new yA(r);this.addDestroyHandler((()=>e.destroy())),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotParameters.size;ce(p),this.videoNode=r,wo(this.videoNode),this.timeToSkip.add((e=>{this.adSkippableState.dispatch(0===e)}));const g=this.adVolume.add((e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),g())}));this.addDestroyHandler(Mi([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],((e,t,i)=>function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unknown"}({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i})),(e=>this.volumeStatus.dispatch(e)))),Nf++,100===Nf&&Wa.ot.error({error:new Ha.w({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),Wa.ot.event({name:"CreateAdDisplayController",probability:Fa.yl,data:{config:this.playbackParameters}}),this.desiredBitrate=i.desiredBitrate,this.videoNodeController=new Ef(r,this.slotParameters.window),this.onAdEnd.add((()=>this.setVisibleNativeControls(!0))),this.onReady.add((()=>this.setVisibleNativeControls(!1)));const y=this.playbackParameters.controlsSettings;this.addDestroyHandler(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:r,controlsSettingsFromConfig:n,slotSize:o,skinControlsHideReasons:a,isCreativeWithOwnControls:s,vastAdControlsSettings:l,publicApiControlsSettings:d}=e,c={};return Mi([r,o,a,s,l,d],((e,t,r,o,a,s)=>{let{width:l}=t;if("idle"===e||!(l>=140)||o)return Xd;const d={controlsVisibility:f(r,(e=>!(e.length>0)&&void 0))};return Yn(a,n,s,d,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility}),ue((e=>{c=e,t(c)}),(e=>{for(const i of Zd)if(e[i]!==c[i])return c=e,void t(c)})))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,controlsSettingsFromConfig:y,slotSize:this.slotParameters.size,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,publicApiControlsSettings:this.publicApiControlsSettings},(e=>{this.combinedSkinControlsVisibility.dispatch(e)}))),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t,nextViewer:i}=e;let r;r=void 0===i?this.playbackParameters.contentAfterAd:{type:"nextAd",poster:[]};const{mediaAd:n}=t;this.isCreativeWithOwnControls.dispatch(n.isCreativeWithOwnControls()),this.adSystemType.dispatch(n.getIsYandexCreative()?"yandex":"external"),this.contentAfterAdPod.dispatch(r);const o=Jn(n.vastAd);this.vastAdControlsSettings.dispatch(o),this.actionButtonParameters.dispatch(function(e){if(!go(e))return;const t=Tf(e);if(!(0,as.K)(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!(0,as.K)(i)||!(0,as.K)(r))return;const n=Di(i);if(!n)return;const{greenUrl:o,domain:a,punyDomain:s,hasTitle:l,title:d,hasBody:c,body:u,hasAgeRestriction:h,ageRestriction:p,hasGreenUrl:A}=r,m=!1===A?void 0:o;return{greenUrl:o,punyDomain:null!=s?s:a,clickUrl:n,buttonPlacement:yo(i),oldButtonStyle:Eo(i),label:Hn(i),title:l?d:void 0,body:c?u:void 0,ageRestriction:h?p:void 0,themeEmptyGreenUrl:m}}(n.vastAd));(go(n.vastAd)||Tt(n.vastAd))&&this.disclaimerParameters.dispatch(function(e,t){const{parsedParameters:i}=Tf(e)||{};if(i)return i.hasDrugDisclaimer?{text:vl("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:.05}:i.hasDietarysupplDisclaimer?{text:vl("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:.1}:void 0}(n.vastAd,this.playbackParameters.lang)),t.playbackPosition.subscribeValueConditionOnce((e=>{let{duration:t,remainingTime:i}=e;return!!l(t)&&(!!l(i)&&t-i>=1)}),(()=>{const e=new Bv({win:window,duration:K_,callback:e=>{this.actionButtonAnimationProgress.dispatch(e)},onFinish:()=>{e.stop()}});e.start(),t.addDestroyHandler((()=>{e.stop()}))})),t.packshotStartLatch.subscribe((()=>{this.isPackshotPlaying.dispatch(!0)}))})),this.onAdMediaEnd.add((()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.contentAfterAdPod.dispatch(Bd),this.vastAdControlsSettings.dispatch(void 0),this.actionButtonParameters.dispatch(void 0),this.disclaimerParameters.dispatch(void 0),this.actionButtonAnimationProgress.dispatch(0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1)})),this.onAdPodStartRequest.add((e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t;return!0===(null==(t=e.adParametersObject)?void 0:t.socialAdvertising)}(i));const{abuseUrl:r,adParametersObject:n}=i;if(!r)return;const{adParameters:o}=n||{},a=o?Vi(o).legalInfoText:void 0;this.abuseParameters.dispatch({abuseUrl:r,legalInfoText:a})})),this.onBeforeAdStart.add((()=>{this.slotParameters.element.appendChild(this.creativesLayoutContainer),this.slotParameters.element.appendChild(this.skinContainer),this.addDestroyHandler((()=>{(0,Ua.L)(this.creativesLayoutContainer),(0,Ua.L)(this.skinContainer)}))})),this.onBeforeAdStart.addOne((()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&((0,ja.q)("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout((()=>{const t=Date.now()-e;(0,ja.q)("mark slow start, actual passed time=["+t+"]ms"),Wa.ot.event({name:"AdSlowStart",probability:Fa.yl,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)}),1e3),this.onAdStart.addOne((()=>{i()})),this.addDestroyHandler((()=>{i()})),this.autoplayAbilitySignal.add((e=>{e.requireUserGesture&&this.onAdStartRejected.dispatch(void 0)})),this.autoplayAbilitySignal.add((e=>{e.requireMute&&this.videoNodeController.setMuted(!0)}))})),this.onAdMediaStart.add((e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)})),this.onAdMediaEnd.add((()=>{this.adPodBackground.dispatch(void 0)})),this.addDestroyHandler((e=>{this.isFinished=!0,this.playingState.dispatch("end"),(0,Ja.E)(this.viewersList,((t,i)=>{if("unload"===e.reason)return void t.destroy({reason:"unload",details:void 0});const r=this.adPodDestroyReasonObjects[i];void 0===r?t.destroy({reason:"destroy",details:void 0}):t.destroy(r)})),this.viewersList.length=0,this.adType.removeAll(),this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),_.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.adVolume.removeAll(),this.autoplayAbilitySignal.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&Wa.ot.error({error:new Ha.w({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType.getValue()})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),(0,Ua.L)(this.nativeControlsHideStyle)})),this.addDestroyHandler(Mi([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],To,(e=>this.adPodCloseState.dispatch(e)))),this.adPodCloseState.add((e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})})),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t}=e;this.adPodCurrentSubtitles.dispatch([]);const i=(e=>{const{adParametersObject:t}=e;if(!(0,as.K)(t))return;if(!(0,as.K)(t.subtitles))return;const{vtt:i}=t.subtitles;return(0,wl.H)(i)?i:void 0})(t.mediaAd.vastAd);let r;if(i)try{r=new df(i)}catch(Lm){Wa.ot.event({name:"SubtitleProviderInitializationError",data:{message:Lm.message},probability:Fa.yl})}Np||t.addDestroyHandler(Mi([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],((e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i})),(e=>{let{remainingTime:t,duration:i,isPackshotPlaying:n}=e;const o=Math.max(0,i-t);if(n)this.adPodCurrentSubtitles.dispatch([]);else if(r){const e=r.findCuesByCurrentTime(o);this.adPodCurrentSubtitles.dispatch(e)}})))}));const{skinContainer:E,creativesLayoutContainer:T}=this.prepareContainersToAppend();this.skinContainer=E,this.creativesLayoutContainer=T,this.prepareSkin(),this.addDestroyHandler(t((()=>{this.destroy({reason:"unload",details:void 0})}),null!=xa.h?xa.h:window)),this.addDestroyHandler((()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())})),this.addDestroyHandler((e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})),this.isFullscreen.dispatch(zi(window,r)),this.addDestroyHandler(((e,t)=>{if(sf.has(t)){const i=sf.get(t);null==i||i.tasks.push(e)}else{const i=()=>{const e=sf.get(t);e&&((0,Ka.p)(e.tasks),e.timeoutId=window.setTimeout(i,t))};sf.set(t,{timeoutId:window.setTimeout(i,t),tasks:[e]})}return()=>{const i=sf.get(t);if(!i)return;const{timeoutId:r,tasks:n}=i,o=n.indexOf(e);-1!==o&&n.splice(o,1),0===n.length&&(window.clearTimeout(r),sf.delete(t))}})((()=>{const e=zi(window,r);this.isFullscreen.dispatch(e)}),1e3)),this.onAdPodStartRequest.add((e=>{const t=e.getVideoSlotClickUrl();this.videoSlotClickUrl.dispatch(t)})),this.addDestroyHandler((()=>{this.videoSlotClickUrl.dispatch(void 0)}))}prepareContainersToAppend(){return{skinContainer:this.slotParameters.document.createElement("div"),creativesLayoutContainer:this.slotParameters.document.createElement("div")}}async prepareToPlayAd(e){const t=this.onReady.promise(),i=this.onAdEnd.promise();this.pause(),this.showAd(e),await Promise.race([t,i.then((()=>{throw new Ha.w({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})}))])}showAd(e){var t;const i=Date.now(),r=Xi(this.videoNode)?pi(this.videoNode):void 0;if(!1===r){const e=this.slotParameters.element,t=ap(e)?pi(e):void 0;return Wa.ot.error({error:new Ha.w({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:t}})}),Promise.resolve()}if(!e.length)return Wa.ot.error({error:new Ha.w({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.playbackParameters}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&Wa.ot.event({name:"CallShowAdMultipleTimes",probability:Fa.yl,data:void 0});const{adBreak:n}=e[0],o=null!=(t=n.adType)?t:"preroll";return this.adType.dispatch(o),this.isFinished=!1,new Promise(((t,r)=>{this.viewersList=(0,Ga.U)(e,(e=>{e.vastAd.trackingEvents=Z(e.vastAd.trackingEvents,this.playbackParameters.trackingEvents);const t=Qn({playbackParameters:this.playbackParameters,vastAd:e.vastAd,adBreak:e.adBreak}),i=new p_({adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:t});return i.adVideoIsBuffering.add((e=>this.adVideoIsBuffering.dispatch(e))),i.onImpression.add(this.onAdPodImpression),i.onFirstQuartile.add(this.onAdPodFirstQuartile),i.onMidpoint.add(this.onAdPodMidpoint),i.onThirdQuartile.add(this.onAdPodThirdQuartile),i.onAdInteraction.add(this.onAdInteractionWrapper),i})),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:o}),this.onAdPodStart.addOne((()=>{Wa.ot.values({name:"AdStarted",probability:Fa.yl,data:{config:this.playbackParameters},labels:{},values:{startTime:Date.now()-i}})})),this.startAdPlayback(o).then((()=>t())).catch((e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:o}),r(e)})),this.addDestroyHandler(this.subscribeInteractionHandlers())})).catch((e=>{Wa.ot.errorToStats(e)})).then((()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:o}),this.destroyBlur()}))}getAdPlacementOptions(){const{videoNode:e,currentViewer:t}=this;let i;t&&(i=t.mediaAd.getAdPodId());let r,o,a=0;if(t&&(a=t.getBufferingTime()),t&&(r=t.mediaAd.adBreak.adType),t){t.mediaAd.getMediaFiles().length>0&&(o=function(e){const t=e.getMediaFiles()[0],{vastAd:i}=e;if(!(0,as.K)(t))return"external";const{type:r,url:o}=t;if(e.getIsConvertedFromVideoVast()||"js"!==ze({type:r}))return"video";if("js"!==ze({type:r}))return"video";if(!n(o))return"external";try{const{adFormatType:e}=We(i.adParameters);return e}catch(a){return"external"}}(t.mediaAd))}return Gi({win:this.slotParameters.window,slotSize:this.slotParameters.size.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),adPodId:i,videoNode:e,bufferingTime:a,adBreakType:r,adFormatType:o})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i=Gh.NORMAL),null==(r=this.currentViewer)||r.resizeAd(e,t,i)}async play(){const{currentViewer:e}=this;return e?(e.play(),new Promise(((t,i)=>{e.addDestroyHandler((e=>{const r=$n(e);r?i(r):t()}))}))):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void Wa.ot.error({error:new Ha.w({code:"NO_AD_POD_TO_SKIP",details:void 0})});if(this.currentViewer.isDestroyed)Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_DESTROY",details:void 0})});else if(this.currentViewer.isStarted.getValue()){if(!this.isFinished)return this.currentViewer.getAdSkippableState()?void this.currentViewer.skipAd():((this.getCurrentViewerSkipDelay()||this.timeToSkip.getValue()>0)&&Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})}),void Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD_POD",details:void 0})}));Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_FINISH",details:void 0})})}else Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_START",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:r}=e;const{abuseUrl:n}=this.abuseParameters.getValue();n||Wa.ot.error({error:new Ha.w({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})});Vn({eventName:"close",trackingEventDetails:void 0,trackingUrls:[(0,Qa.Sr)(n,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(r),pixelsSource:"adParameters"})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdWidth())?e:0}getAdHeight(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdHeight())?e:0}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}getCurrentViewerSkipDelay(){return this.currentViewer?this.currentViewer.adPodViewerPlaybackParams.skipDelay:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!=(e=null==t?void 0:t.mediaAd.getDuration())?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return(0,Ja.E)(this.viewersList,(t=>{const i=t.getDuration();i>0&&(e+=i)})),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewersWithVideoCountBeforeCurrent(){let e=0;if(this.currentViewer)for(let t=0;t<this.viewersList.length;t++){const i=this.viewersList[t];if(i===this.currentViewer)break;i.mediaAd.getIsIndependentOnVideoElement()||e++}return e}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(((e,t,i,r)=>{const n=e[t];let o=n;return i?o=(0,_l.h)(n,(e=>e!==r)):i||(0,bl.q)(n,r)||(o=[...n],o.push(r)),bo({},e,{[t]:o})})(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!(0,as.K)(e)&&!1!==e&&void 0!==e){const t=new Ha.w({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw Wa.ot.error({error:t}),(0,_m.Z)("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsSettings.getValue();let i;i=(0,as.K)(e)?Co({},t,{controlsVisibility:Co({},t.controlsVisibility,e)}):Co({},t,{visibility:e}),Wa.ot.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i},probability:Fa.yl}),(0,ja.q)("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsSettings.dispatch(i)}areAllAdPodsCompleted(){return Ac(this.adPodDestroyReasonObjects,(e=>{let{reason:t}=e;return"complete"===t}))}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(this.getViewersWithVideoCountBeforeCurrent()>0)return(0,ja.q)("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return(0,ja.q)("autoplay=false due to requireUserGesture"),!1;const e=this.playingState.getValue();if("idle"!==e){const t="pause"!==e;return(0,ja.q)("autoplay=["+t+"] due to playingStateValue"),t}return(0,ja.q)("autoplay=true due to default"),!0}setVisibleNativeControls(e){e?(0,Ua.L)(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=fn(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==this.adType.getValue()&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=za.Z;this.addDestroyHandler((()=>t())),this.addDestroyHandler(this.adPodBackground.add((i=>{(0,as.K)(i)&&(0,wl.H)(i.color)?t=di(e,{backgroundColor:i.color}):t()})))}initBackground(e){let{backgroundSlot:t}=this.playbackParameters;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!Xi(e))return;const{parentElement:t}=e;if(t)return t;Wa.ot.error({error:new Ha.w({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void(0,ja.q)("BackgroundBlur container cannot be created");this.initBackgroundColor(t);if(!es(e,(e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background})))return;if((0,ja.q)("BackgroundBlur is presented in AdBreak"),!$_)return void(0,ja.q)("BackgroundBlur is NOT supported");const r=new of({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{r.destroy()},Wa.ot.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:Fa.yl}),this.addDestroyHandler(Mi([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],((e,t,r,n)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const o=n.width/n.height,a=r.width/r.height-o;return Math.abs(a)>.1}),(e=>{r.setPlaying(e)}))),this.addDestroyHandler((()=>null==r?void 0:r.destroy()))}playAdMedia(e){let{viewer:t,viewerIndex:i,nextViewer:r,destroyCallback:n}=e;this.currentViewer=t,this.onAdPodStartRequest.dispatch(t),t.trackOnCreativeInit();let o=NaN;t.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{o=Date.now()})),this.adContentSize.dispatch(t.mediaAd.getAdContentDimensions()),t.isStarted.addOne((()=>{this.adContentSize.dispatch(t.getAdContentSize())})),t.addDestroyHandler((()=>{this.adContentSize.dispatch(void 0)})),t.isStarted.add((()=>{isNaN(o)?Wa.ot.error({error:new Ha.w({code:"AdPodStartWithoutPlayRequest",details:void 0})}):Wa.ot.values({name:"AdPodStart",probability:Fa.yl,values:{startTime:Date.now()-o},data:{src:t.getSrc(),config:this.playbackParameters,playRequestTime:String(o),adPodId:t.mediaAd.getAdPodId(),position:t.mediaAd.vastAd.parseIndex,bidreqid:t.mediaAd.vastAd.bidreqid,campaignid:t.mediaAd.vastAd.campaignid,pageId:t.mediaAd.vastAd.pageId,impId:t.mediaAd.vastAd.impId,vmapRequestId:t.mediaAd.vastAd.vmapRequestId},labels:{}})})),this.onAdPodPlayAdMedia.dispatch({viewer:t,viewerIndex:i,nextViewer:r});const a=t.playingState.getValue();"idle"!==a&&Wa.ot.error({error:new Ha.w({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:a}})}),t.playingState.subscribeValueCondition((e=>"end"!==e),(e=>{this.currentViewer===t?this.playingState.dispatch(e):Wa.ot.error({error:new Ha.w({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:e}})})})),t.addDestroyHandler((e=>{const i=$n(e);i&&(this.trackError(i),Wa.ot.error({error:i}),Qt("AdPod playing error",i),this.onAdPodError.dispatch({error:i,adPodId:t.mediaAd.getAdPodId()})),this.currentViewer=void 0,n(e)})),this.onAdPodComplete.add((()=>{t.isDestroyed||(t.destroy({reason:"destroy",details:void 0}),Wa.ot.error({error:new Ha.w({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:t.getSrc()}})}))})),t.play()}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this,i=Xi(t);if(i){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),r={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},n=cf(e),{parentElement:o}=e;return(0,Ya.I)((()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),n(),w(e,r),o&&o!==e.parentElement&&Wa.ot.error({error:new Ha.w({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})}))}(t);this.onBeforeDestroy.addOne((t=>{let{reason:i}=t;"unload"!==i&&e()}));const i=lo(t);this.onBeforeDestroy.addOne(i);const r=function(e){if(!Xi(e))return za.Z;const t=e.getAttribute("src")||e.src||null,i=(0,Ga.U)((0,Ns.w)(e.getElementsByTagName("source")),(e=>({src:e.getAttribute("src"),type:e.getAttribute("type")})));return(0,Ya.I)((()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),(0,Ja.E)(i,(t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),(0,Kd.M)(t,((e,t)=>{i.setAttribute(t,String(e))}))})),wi(e,(()=>{e.load()}))}))}(t);this.onBeforeDestroy.addOne((e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&r()})),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add((()=>{cf(t)})))}let r;const n=Ac(this.viewersList,(e=>e.mediaAd.getIsIndependentOnVideoElement())),{videoSlotCanAutoPlay:o}=this.playbackParameters;this.videoNode;if(n?((0,ja.q)("autoplayAbility=positive for independentOnVideoElement ad"),r=Ip):"boolean"===typeof o?((0,ja.q)("autoplayAbility=["+o+"] due to videoSlotCanAutoPlay"),r=o?Ip:Op):i?((0,ja.q)("start autoplay ability request"),r=await this.requestAutoplayAbility(),(0,ja.q)("autoplayAbility=["+JSON.stringify(r)+"]")):((0,ja.q)("autoplayAbility=positive for fake video element"),r=Ip),this.isFinished)throw new Ha.w({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(r);const a=(0,Ya.I)((()=>{this.onReady.dispatch(void 0)})),s=(0,Ya.I)((()=>{this.onAdStart.dispatch({adType:e})}));return(0,Ja.E)(this.viewersList,((t,i)=>{t.addDestroyHandler((t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)})),t.onReady.addOne(a),t.isStarted.addOne(s),t.isStarted.add((()=>{this.onAdPodStart.dispatch(void 0)})),t.onPause.add((()=>{this.onAdPodPause.dispatch(void 0)})),t.onResume.add((()=>{this.onAdPodResume.dispatch(void 0)})),t.onVolumeChange.add((()=>{this.adVolume.dispatch(t.getVolume())})),t.isStarted.addOne((()=>{this.adVolume.dispatch(t.getVolume())}));const{skipDelay:r}=t.adPodViewerPlaybackParams;t.isStarted.addOne((()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration()),this.updateTimeToSkip(t,r,i)})),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:r,playingState:n,isStarted:o,isBuffering:a,callback:s}=e;const d=new vm,c=new cl.R(-1);return d.subscribe((()=>c.removeAll)),o.addOne((()=>{const e=new Bv({win:t,duration:i.getValue()*Vu,callback:e=>{const t=(0,ju.u)(e,0,1);s(t)},onFinish:za.Z});c.add((t=>{(0,$d.f)(t)&&e.adjustPosition(t)})),d.subscribe((()=>{e.stop()})),d.subscribe(Mi([r,i],((e,t)=>(0,$d.f)(e)&&l(t)?(t-e)/t:-1),(e=>{c.dispatch(e)}))),d.subscribe(Mi([c,n,a],((e,t,i)=>(0,$d.f)(e)&&"play"===t&&!i),(t=>{t?e.start():e.stop()})))})),()=>{d.dispatch(void 0)}}({win:this.slotParameters.window,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add((()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add((()=>{this.adMediaState.dispatch({name:"stalled"})}))),t.addDestroyHandler(this.videoNodeController.playingState.add((e=>{e===Dp.PLAY&&this.adMediaState.dispatch({name:"playing"})})))})),t.addDestroyHandler((()=>{this.adMediaState.dispatch({name:"idle"})})),t.addDestroyHandler((()=>{this.adPodRemainingTime.dispatch(-2),this.skinAnimationProgress.dispatch(0)})),t.playbackPosition.add((e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)})),t.onClickThrough.add((e=>this.onClickThrough.dispatch(e)));var n;!(n=t).isVpaidAdPodViewer()||!!n.mediaAd.vastAd.imhoParams||!!n.mediaAd.getIsYandexCreative()||!!Et(n.mediaAd.vastAd)?t.isStarted.addOne((()=>{t.playbackPosition.add((()=>{this.updateTimeToSkip(t,r,i)}))})):t.onAdSkippableStateChange.add((e=>{this.timeToSkip.dispatch(e?0:Q_)}))})),new Promise((t=>{this.playAdViewers(e,(()=>{t([])}))}))}playAdViewers(e,t){this.adPodDestroyReasonObjects=[],this.onAdStartRequest.dispatch(void 0);const i=(0,Ga.U)(this.viewersList,((t,i)=>{const r=this.viewersList[i+1];return n=>{if(this.timeToSkip.dispatch(Q_),this.isFinished){const e=new Ha.w({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),n()}const o=this.getAdPodContainerSizeError(t);if(o)return t.mediaAd.trackError(o),this.onAdPodError.dispatch({error:o,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:o}),(0,_m.Z)('You are using unplayable "slot" sizes, check passed element dimensions.'),n();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Zn(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia({viewer:t,viewerIndex:i,nextViewer:r,destroyCallback:t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),n()}})}}));let r=-1;!function e(){r++;const n=i[r];void 0===n?t():n(e)}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters,r=t.getValue();if(xi(r,Gd))return;if(xi(i.getBoundingClientRect(),Gd))return;const n=0===r.width||0===r.height,o="none"===ci(i).display;let a;return a=n?o?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new Ha.w({code:a,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:r,config:this.playbackParameters,adConfig:e.mediaAd.adConfig,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const r=Oi(e),n=new Pp(e,{checkSoundEnabled:i,promise:r});return{promise:n.promise,stop:n.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let r=!1;return new Promise((n=>{t.then((t=>{r=!0,Wa.ot.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.playbackParameters,autoplayAbility:t},labels:{},probability:Fa.yl}),n(t)})).catch((e=>{r=!0,this.isFinished||Wa.ot.error({error:new Ha.w({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:{error:e}})})})),"idle"===this.playingState.getValue()&&this.playingState.addOne((e=>{r||((0,ja.q)("RAA stopped by playingState=["+e+"]"),i(),n(Ip))}))}))}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){t[r].trackVastEvent(e,void 0)}this.stop()}startVolumeButtonProgress(){(e=>{let{win:t,callback:i,addDestroyHandler:r}=e;const n=new Bv({win:t,duration:250,callback:e=>{const t=(0,ju.u)(e,0,1);i(t),1===t&&n.stop()},onFinish:za.Z});r((()=>n.stop())),n.start()})({win:this.slotParameters.window,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==Rp&&"middle"===so(this.slotParameters.size.getValue())}updateTimeToSkip(e,t,i){const r=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return Q_;if(r>i-2)return Q_;if(!(0,$d.f)(t))return Q_;const n=i-t;return r<=n?0:r-n}({remainingTime:e.getAdRemainingTime(),duration:e.getDuration(),skipDelay:t});this.timeToSkip.dispatch(r)}}class kf extends Sl.V{constructor(e){let{videoSlot:i,slot:r,mediaAds:n,playbackParameters:o,onPlayAd:a,skinParameters:s}=e;super(),this.pauseAd=this.createPlaybackMethod("pauseAd",(()=>{(0,ja.q)("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),this.resumeAd=this.createPlaybackMethod("resumeAd",(()=>{(0,ja.q)("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),this.isPlayAdCalled=!1,this.getPublicInstance=()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,sendAdTuneTracking:this.sendAdTuneTracking,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility}),this.getAdMediaState=()=>this.adDisplayController.adMediaState.getValue(),this.getAdContentSize=()=>this.adDisplayController.adContentSize.getValue(),this.setControlsVisibility=e=>this.adDisplayController.setPublicApiControlsSettings(e),this.getMediaElementStatusAfterAdStopped=()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}},this.playAd=()=>{if((0,ja.q)("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled){m(new Ha.w({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then((()=>{this.destroy("adComplete")})).catch(ol.L)},this.stopAd=()=>{(0,ja.q)("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")},this.getAdPlayingState=()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle",this.getAdSkippableState=()=>this.adDisplayController.adSkippableState.getValue(),this.getAdPodTimeToSkip=()=>!this.isPlayAdCalled||this.isDestroyed?Q_:this.adDisplayController.timeToSkip.getValue(),this.getAdPodCloseState=()=>this.adDisplayController.adPodCloseState.getValue(),this.getAdPodAdTuneState=()=>this.adDisplayController.adTuneState.getValue(),this.getAdVolume=()=>!this.isPlayAdCalled||this.isDestroyed?0:this.adDisplayController.getVolume(),this.setAdVolume=e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))},this.sendAdTuneTracking=e=>{let{actionId:t,reasonId:i}=e;Wa.ot.event({name:"SendAdTuneTracking",data:{actionId:t,reasonId:i},probability:Fa.yl}),this.adDisplayController.sendAdTuneTracking({actionId:t,reasonId:i})},this.getAdVolumeAvailabilityState=()=>!(!this.isPlayAdCalled||this.isDestroyed)&&this.adDisplayController.getAdVolumeAvailability(),this.getAdRemainingTime=()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration(),this.getAdPodRemainingTime=()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration(),this.getAdDuration=()=>this.isPlayAdCalled?this.adDisplayController.getDuration():Oo(this.mediaAds),this.getAdPodDuration=()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds;return null!=(e=null==t?void 0:t.getDuration())?e:0},this.skipAd=()=>{if(this.getAdSkippableState())this.adDisplayController.skipAllViewers();else if(this.isDestroyed)Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_AD_AFTER_DESTROY",details:void 0})});else if(this.isPlayAdCalled){if(this.adDisplayController.getCurrentViewerSkipDelay()||this.getAdPodTimeToSkip()>0)return void Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_AD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})});Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD",details:void 0})})}else Wa.ot.error({error:new Ha.w({code:"ATTEMPT_TO_SKIP_AD_BEFORE_START",details:void 0})})},this.getCurrentViewerAssets=()=>this.adDisplayController.getCurrentViewerAssets(),this.subscribe=(e,t)=>{if("function"!==typeof t)return za.Z;const i=i=>{try{t(i)}catch(r){Wa.ot.error({error:new Ha.w({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),(0,ol.L)(r)}},r=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(r);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(r);case"AdStartRequest":return this.adDisplayController.onAdStartRequest.add(r);case"AdStarted":return this.adDisplayController.onAdStart.add(r);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(r);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(r);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(r);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(r);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(r);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(r);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add((()=>{i({})}));case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(r);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(r);case"AdClickThru":return this.adDisplayController.onClickThrough.add(r);case"AdPodError":return this.adDisplayController.onAdPodError.add((e=>{let t,{error:r,adPodId:n}=e;"string"===typeof r.code?t=r.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",Wa.ot.error({error:new Ha.w({code:t,details:{error:r,adPodId:n}})})),i({code:t,adPodId:n})}));case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(r);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(r);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(r);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(r);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add((e=>{let{reason:t}=e;"unload"!==t&&r()}));case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add((e=>{i({skippableState:e})}));case"AdVolumeChange":return this.adDisplayController.adVolume.add((()=>{i({})}));case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add((()=>{i({})}));case"AdPlayingStateChange":return this.adDisplayController.playingState.add((e=>{i({playingState:e})}));case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(r);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(r);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(r);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(r);default:return za.Z}},this.videoSlot=i,this.slot=r,this.mediaAds=n,this.playbackParameters=o,this.onPlayAd=a;const l=new yA(r);this.addDestroyHandler((()=>{l.destroy()}));const d=new jA(r,{numberOfMeasurementSteps:10,enableElementFromPoint:op});this.addDestroyHandler((()=>{d.destroy(void 0)}));const c={element:r,size:l.onResize,visibilityRatio:d.totalVisibilityRatioValueSignal};this.adDisplayController=new Rf({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,skinParameters:s,visibilitySlotParameters:c,retainLastMediaAfterPlayback:this.playbackParameters.retainLastMediaAfterPlayback}),this.addDestroyHandler((e=>{this.adDisplayController.destroy({reason:e,details:void 0})})),this.addDestroyHandler(t((()=>{this.destroy("unload")}),null!=xa.h?xa.h:window))}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{m(new Ha.w({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const Vf=$r({isAbuseSupported:!1,abuseButtonClickHandler:za.Z,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:za.Z,abuseVariantChooseHandler:za.Z,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:za.Z,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:za.Z,isAbuseSubmitted:!1,setAbuseSubmitted:za.Z,abuseSubmitType:void 0,setAbuseSubmitType:za.Z,previousDisplayType:"default",setPreviousDisplayType:za.Z,destroyCurrentViewer:za.Z,abuseScaleRate:void 0,setAbuseScaleRate:za.Z,legalInfoText:void 0,onAbuseCopyLinkToClipboardClick:za.Z,resetAbuseVisualState:za.Z,abusePlaceholderHint:"",abusePlaceholderText:""});Vf.Provider.displayName="AbuseContext";const Lf=e=>{let{adDisplayController:t}=e;const i=_n(t.pauseByOpenAbuseScreen),r=_n(t.abuseDisplayStatus),{abuseParameters:n,playingState:o}=t,{abuseUrl:a,legalInfoText:s}=_n(n),l=function(e){return void 0===e&&(e=""),Hp+e.slice(e.lastIndexOf("/"))}(a),[d,c]=tn(""),[u,h]=tn("default"),[p,A]=tn(!1),[m,v]=tn(undefined),[_,f]=tn("default"),[g,y]=tn(undefined);rn((()=>{"play"===o.getValue()&&"hidden"!==r&&t.handleAbuseScreenCloseByResumeError()}),[r,o]);const E=(e=>{var t;const i=null==(t=_n(e.actionButtonParameters))?void 0:t.clickUrl;return i&&(0,Qa.Sr)(i,{[ys]:_s.Q,[gs]:vs.x,[ws]:e.getAdPlacementOptions().adPodId})})(t),T=E?()=>{t.onAbuseCopyLinkToClipboardClick(E)}:void 0,S=sn((()=>{A(!1),v(void 0),h("default")}),[A,v,h]),w=y_();let b="",C="";switch(m){case"complaint":b=w("ABUSE_PLACEHOLDER_TEXT_COMPLAINT"),C=w("ABUSE_PLACEHOLDER_HINT_COMPLAINT");break;case"hide":b=w("ABUSE_PLACEHOLDER_TEXT_HIDE"),C=w("ABUSE_PLACEHOLDER_HINT_HIDE")}return{isAbuseSupported:Boolean(a),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseDisplayStatus:r,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:T,abuseCustomReasonText:d,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,resetAbuseVisualState:S,abuseSubmitType:m,setAbuseSubmitType:v,isAbuseSubmitted:p,setAbuseSubmitted:A,previousDisplayType:_,setPreviousDisplayType:f,abuseScaleRate:g,setAbuseScaleRate:y,legalInfoText:s,abusePlaceholderHint:C,abusePlaceholderText:b,oo12QiserInfoUrl:l}},Mf=()=>ln(Vf),Bf=$r({socialAdvertising:!1});Bf.Provider.displayName="SocialAdvertisingContext";const xf=e=>{let{adDisplayController:t}=e;return{socialAdvertising:_n(t.socialAdvertising)}},Uf=()=>ln(Bf);var Ff=e(8866),Hf=e.n(Ff);const Wf=e=>{let{isActive:t}=e;return gn(Hf()),Nr("svg",{className:vn(Ff.locals.AbuseAnimationIcon,{[Ff.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},Nr("g",{className:Ff.locals.AbuseAnimationIcon__lines},Nr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:vn(Ff.locals.AbuseAnimationIcon__line,Ff.locals.AbuseAnimationIcon__line_left)}),Nr("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:vn(Ff.locals.AbuseAnimationIcon__line,Ff.locals.AbuseAnimationIcon__line_right)})),Nr("g",null,Nr("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),Nr("g",null,Nr("circle",{class:vn(Ff.locals.AbuseAnimationIcon__dot,Ff.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),Nr("circle",{class:Ff.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),Nr("circle",{class:vn(Ff.locals.AbuseAnimationIcon__dot,Ff.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))};var zf=e(2013),jf=e.n(zf);const Gf=e=>{let{isActive:t}=e;gn(jf());const i=vn(zf.locals.AbuseNoAnimationIcon__dots,{[zf.locals.AbuseNoAnimationIcon__dots_Hidden]:t}),r=vn(zf.locals.AbuseNoAnimationIcon__lines,{[zf.locals.AbuseNoAnimationIcon__lines_Hidden]:!t});return Nr("svg",{width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",className:zf.locals.AbuseNoAnimationIcon},Nr("rect",{className:zf.locals.AbuseNoAnimationIcon__circle,width:"24",height:"24",rx:"12"}),Nr("g",{className:r},Nr("path",{d:"M 7 7 L 17 17","stroke-width":"2","stroke-linecap":"round",stroke:"#fff"}),Nr("path",{d:"M 7 17 L 17 7","stroke-width":"2","stroke-linecap":"round",stroke:"#fff"})),Nr("g",{className:i},Nr("g",null,Nr("circle",{fill:"#fff",cx:"12",cy:"6",r:"1.5"}),Nr("circle",{cx:"12",cy:"12",r:"1.5"}),Nr("circle",{fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},qf=e=>{let{width:t,height:i}=e;return t<=240||i<=280};var Kf=e(8971),Yf=e.n(Kf);const Zf=e=>{let{onClickHandler:t,isActive:i}=e;gn(Yf());const r=qf(iv());return Nr("div",{onClick:t,className:vn(Kf.locals.AbuseBurgerButton,{[Kf.locals.AbuseBurgerButton_inFullSize]:r})},Nr(uu?Gf:Wf,{isActive:i}))};var Xf=e(2020),Jf=e.n(Xf);const Qf=e=>{let{children:t,isActive:i=!0,url:r,onClick:n,className:o,buttonClassName:a,contentClassName:s}=e;gn(Jf());const l=vn(Xf.locals.Button,o,{[Xf.locals.Button_active]:i,[Xf.locals.Button_link]:Boolean(r)}),d=Nr("div",{className:Xf.locals.Button__clickable},Nr("div",{className:a},Nr("div",{className:vn(Xf.locals.Button__content,s)},t)));return r?Nr("a",{className:l,href:r,target:"_blank",onClick:n},d):Nr("div",{className:l,onClick:n},d)};var $f=e(2645),eg=e.n($f);const tg=e=>{let{icon:t,className:i}=e;return t?Nr("div",{className:i},t):null},ig=e=>{let{buttonText:t,leftIcon:i,rightIcon:r,onClick:n,url:o}=e;gn(eg());const a=sn((()=>{n&&n()}),[n]);return Nr(Qf,{className:$f.locals.AbuseOptionButton,url:o,buttonClassName:$f.locals.AbuseOptionButton__clickable,contentClassName:$f.locals.AbuseOptionButton__content,onClick:a},Nr(tg,{icon:i,className:$f.locals.AbuseOptionButton__leftIcon}),t,Nr(tg,{icon:r,className:$f.locals.AbuseOptionButton__rightIcon}))},rg=e=>{let{className:t}=e;return Nr(Io,{className:t})},ng=e=>{let{className:t}=e;return Nr(Po,{className:t})},og=e=>"anotherReasonAd"===e?Nr(rg,null):"about"===e||"oo12QiserInfo"===e?Nr(ng,null):void 0;var ag=e(7486),sg=e.n(ag);const lg=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=y_();return Nr("div",{className:ag.locals.AbuseDisplay__complaintDisplay},Nr("div",{className:ag.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),(0,Ga.U)((0,dl.Z)(t),(e=>Nr(ig,{key:e,onClick:i[e],rightIcon:og(e),buttonText:t[e]}))))},dg=e=>{let{className:t}=e;return Nr(Do,{className:t})},cg=e=>{let{className:t}=e;return Nr(No,{className:t})},ug=e=>{let{className:t}=e;return Nr(Ro,{className:t})},hg=e=>{let{className:t}=e;return Nr(ko,{className:t})},pg=e=>{let{className:t}=e;return Nr(Vo,{className:t})},Ag=e=>{switch(e){case"hide":return Nr(ug,null);case"complaint":return Nr(cg,null);case"about":return Nr(pg,null);case"oo12QiserInfo":return Nr(hg,null);default:return}},mg=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:r,isVisibleAbuse:n}=e;const{onAbuseCopyLinkToClipboardClick:o,oo12QiserInfoUrl:a}=Mf(),s=y_(),[l,d]=tn(!1);return rn((()=>{n||d(!1)}),[n]),Nr("div",null,r&&Nr("div",{className:ag.locals.AbuseDisplay__legal},r),(0,Ga.U)((0,dl.Z)(t),(e=>{let r;switch(e){case"oo12QiserInfo":r=a;break;case"about":r=Fp;break;default:r=void 0}return Nr(ig,{key:e,url:r,onClick:i[e],leftIcon:Ag(e),rightIcon:og(e),buttonText:t[e]})})),o&&Nr(ig,{key:"copy",onClick:()=>{o&&(o(),d(!0))},buttonText:s(l?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:Nr(dg,null)}))},vg=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=y_();return Nr("div",{className:ag.locals.AbuseDisplay__hideDisplay},Nr("div",{className:ag.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),(0,Ga.U)((0,dl.Z)(t),(e=>Nr(ig,{key:e,onClick:i[e],rightIcon:og(e),buttonText:t[e]}))))},_g=e=>{let{className:t}=e;return Nr(Lo,{className:t})},fg=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:r,abuseCustomReasonTextHandler:n,setAbuseActiveDisplayType:o}=Mf(),a=y_(),s=sn((()=>{o(t)}),[t]);return Nr("div",{className:ag.locals.AbuseDisplay__customReasonDisplay},Nr("div",{className:ag.locals.AbuseDisplay__customReasonDisplayHeader},Nr("div",{className:ag.locals.AbuseDisplay__arrowLeftIcon,onClick:s},Nr(_g,null)),Nr("div",{className:ag.locals.AbuseDisplay__hint},a("ABUSE_OPTION_ANOTHER_REASON"))),Nr("div",{className:ag.locals.AbuseDisplay__messageBox},Nr("textarea",{className:ag.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:a("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&n(t)},value:r}),Nr(Qf,{className:ag.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:ag.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:r})},a("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},gg=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;gn(sg());const{abuseVariantChooseHandler:r,abuseActiveDisplayType:n,setAbuseActiveDisplayType:o,isAbuseSubmitted:a,setAbuseSubmitted:s,setAbuseSubmitType:l,previousDisplayType:d,destroyCurrentViewer:c,setPreviousDisplayType:u,legalInfoText:h,resetAbuseVisualState:p}=Mf(),A=iv(),m=qf(A),[v,_]=tn(null),g={current:null};rn((()=>{!t&&a&&(p(),c())}),[a,t,p]),rn((()=>{if(m)return;const e=g.current;e&&_(e.offsetHeight+"px")}),[n,m]),rn((()=>{m&&_(null)}),[m]);const y=an((()=>f(xp,((e,t)=>()=>{if(u(n),"hide"===t){if(i)return void r(t);o("hide"),l("hide"),s(!0),r(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0})}else if("complaint"===t)o("complaint"),l("complaint"),s(!0),r(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0});else if("anotherReasonAd"===t)o("message");else{const e="about"===t||"oo12QiserInfo"===t;p(),r(t,{noDestroyOnClick:e})}}))),[r,n,i]),E={height:null!=v?v:""},T=y_(),S=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),oo12QiserInfo:e("ABUSE_OPTION_ADVERTISER_INFO"),about:e("ABUSE_OPTION_ABOUT")}))(T),w=(e=>(0,gl.u)((0,dl.Z)(Lp),((t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t}),{}))(T),b=((e,t)=>t?(0,gl.u)((0,dl.Z)(Bp),((t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t}),{}):(0,gl.u)((0,dl.Z)(Mp),((t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t}),{}))(T,i);return Nr("div",{className:vn(ag.locals.AbuseDisplay,{[ag.locals.AbuseDisplay_fullSize]:m,[ag.locals.AbuseDisplay_visible]:t}),style:E},Nr("div",{className:ag.locals.AbuseDisplay__content,ref:g},"default"===n?Nr(mg,{isVisibleAbuse:t,legalInfoText:h,buttonTexts:S,onClickHandlers:y}):null,"hide"===n?Nr(vg,{buttonTexts:w,onClickHandlers:y}):null,"complaint"===n?Nr(lg,{buttonTexts:b,onClickHandlers:y}):null,"message"===n?Nr(fg,{onClickHandler:r,previousDisplayType:d}):null))};var yg=e(8561),Eg=e.n(yg);const Tg=()=>{gn(Eg());const{isAbuseSubmitted:e,abusePlaceholderText:t,abusePlaceholderHint:i}=Mf(),{width:r}=iv();if(!e)return null;const n=r<=640;return Nr("div",{className:vn(yg.locals.AbusePlaceholder,{[yg.locals.AbusePlaceholder_place_left]:n,[yg.locals.AbusePlaceholder_place_center]:!n})},Nr("div",{className:yg.locals.AbusePlaceholder__container},Nr("div",{className:yg.locals.AbusePlaceholder__text},t),Nr("div",{className:yg.locals.AbusePlaceholder__hint},i)))};var Sg=e(1155),wg=e.n(Sg);const bg=()=>{gn(wg());const{abuseDisplayStatus:e,isAbuseSupported:t}=Mf(),i=U_(),r=bf(i),n="selection"===e,{abuseScreenCloseHandler:o,abuseButtonClickHandler:a}=Mf(),{socialAdvertising:s}=Uf();if(!r)return null;if(!t)return null;return Nr("div",{className:Sg.locals.AbuseContainer},Nr(Tg,null),Nr(Zf,{onClickHandler:()=>n?o():a(),isActive:n}),Nr(gg,{isVisibleAbuse:n,socialAdvertising:s}))},Cg=$r({isHovered:!1});Cg.Provider.displayName="SlotHoverContext";const Og=$r(0);Og.Provider.displayName="AdAnimationProgressContext";const Ig=e=>{let{skinAnimationProgress:t}=e;return _n(t)},Pg=()=>ln(Og),Dg=$r(void 0),Ng=$r({isTouchScreenDevice:!1});Ng.Provider.displayName="IsTouchScreenDeviceContext";const Rg=e=>{let{isTouchScreenDevice:t}=e;return{isTouchScreenDevice:t}},kg=$r({playingState:"idle",play:za.Z,isStarted:!1,isSlowStart:!1});kg.Provider.displayName="PlayingStateContext";const Vg=e=>{let{adDisplayController:t}=e;const[i,r]=tn(!1),n=_n(t.playingState),o=_n(t.adSlowStart);rn((()=>{const e=t.onAdStart.addOne((()=>{r(!0)}));return()=>{e()}}),[]);return{playingState:n,play:sn((()=>{t.resume(),Wa.ot.event({name:"SkinPlayByCircleButton",data:{}})}),[]),isStarted:i,isSlowStart:o}},Lg=()=>ln(kg),Mg=$r({skinVariant:"default"});Mg.Provider.displayName="SkinVariantContext";const Bg=e=>{let{skinVariant:t}=e;return{skinVariant:t}},xg=$r(void 0);xg.Provider.displayName="VideoSlotClickUrlContext";const Ug=()=>ln(xg);var Fg=e(5050),Hg=e.n(Fg);const Wg=()=>(gn(Hg()),Nr("div",{className:Fg.locals.ControlsBottomShadow})),zg=e=>Math.floor(1e4*e)/1e4;var jg=e(1172),Gg=e.n(jg);const qg="#F8CC46",Kg=1,Yg=e=>{let{currentNumber:t,count:i,color:r,adAnimationProgress:n,backgroundOpacity:o=Kg}=e;gn(Gg());const{width:a,transform:s}=function(e){let{currentNumber:t,count:i}=e;const r=4*(i-1)/i,n=4*t;return{width:"calc("+zg(100/i)+"% - "+zg(r)+"px)",transform:"translateX(calc("+zg(100*t)+"% + "+zg(n)+"px))"}}({currentNumber:t,count:i});return Nr("div",{className:jg.locals.TimelineBar__container,style:{width:a,transform:s}},Nr("div",{className:vn(jg.locals.TimelineBar,jg.locals.TimelineBar__background),style:{opacity:""+o}}),Nr("div",{className:vn(jg.locals.TimelineBar,jg.locals.TimelineBar__progress),style:{transform:"scaleX("+n+")",backgroundColor:r}}))};var Zg=e(4659),Xg=e.n(Zg);const Jg=e=>{let{text:t,textLength:i,viewBox:r}=e;return gn(Xg()),Nr("svg",{className:vn(Zg.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:r},Nr("text",{className:Zg.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var Qg=e(550),$g=e.n(Qg);const ey=((e,t,i,r)=>{const n=((e,t,i,r)=>{const n=(t-r)/(e-i),o=t-n*e;return e=>n*e+o})(e,t,i,r),o=(a=t,s=r,e=>Math.max(a,Math.min(e,s)));var a,s;return e=>{const t=n(e);return o(t)}})(100,5,600,330),ty=e=>{let{text:t,heightPortion:i}=e;const r=iv();gn($g());const{textLength:n,viewBox:o,fontSize:a}=function(e,t){const{width:i,height:r}=e,n=r,o=Math.min(n,ey(i)),a=Math.max(i,t.length*o/1.2);return{fontSize:o,textLength:a,textPositionOffset:(n+o/2)/2,viewBox:"0 0 "+a+" "+n}}({width:r.width,height:r.height*i},t);return Nr("div",{className:Qg.locals.Disclaimer,style:{height:r.height*i,fontSize:a}},Nr(Jg,{text:t,textLength:n,viewBox:o}))};var iy=e(3366),ry=e.n(iy);const ny=()=>{gn(ry());const e="small"===so(iv()),{actionButtonParameters:t,clickThrough:i}=w_();if(!t)return null;const{themeEmptyGreenUrl:r,clickUrl:n}=t;if(!r)return null;const o=sn((()=>i({url:n})),[i,n]);return Nr("div",{className:vn(iy.locals.Domain_container,!e&&iy.locals.Domain_container__lifted)},r&&Nr(Fv,{url:n,onClick:o},Nr("span",{className:iy.locals.Domain_greenUrl},r)))},oy=$r(void 0);oy.Provider.displayName="AdAnimationUnmuteButtonContext";const ay=e=>{let{adDisplayController:t}=e;return _n(t.volumeButtonCollapseProgress)},sy=()=>ln(oy),ly=$r({volumeStatus:"unknown",setMuted:za.Z});ly.Provider.displayName="VolumeContext";const dy=e=>{let{adDisplayController:t}=e;return{volumeStatus:_n(t.volumeStatus),setMuted:e=>t.setMuted(e)}},cy=()=>ln(ly);var uy=e(1796),hy=e.n(uy);const py=e=>{let{className:t}=e;return gn(hy()),Nr(Mo,{className:vn(uy.locals.MuteIcon,t)})};var Ay=e(5751),my=e.n(Ay);const vy=["isActive","className","size"],_y=e=>{let{isActive:t=!0,className:i,size:r}=e,n=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,vy);gn(my());const o=vn(Ay.locals.SquareButton,i,{[Ay.locals.SquareButton_active]:t,[Ay.locals.SquareButton_middle]:"middle"===r});return Nr(Qf,Bo({},n,{isActive:t,className:o,buttonClassName:Ay.locals.SquareButton__basebutton,contentClassName:Ay.locals.SquareButton__basecontent}))};var fy=e(1197),gy=e.n(fy);const yy=e=>{let{className:t}=e;return gn(gy()),Nr(xo,{className:vn(fy.locals.UnmuteIcon,t)})};var Ey=e(3683),Ty=e.n(Ey);const Sy=()=>{const{playingState:e}=Lg(),t=sy(),i=U_();gn(Ty());const r=y_(),{volumeStatus:n,setMuted:o}=cy(),a=m_.easeOut(sy()),s=1-a,l="unmuted"===n,d=sn((()=>{o(!0)}),[]),c=so(iv()),u="middle"===c,h=sn((()=>{o(!1)}),[]),p=!("idle"!==e&&"unknown"!==n&&void 0!==t&&!1!==i.mute),A=r("UNMUTE");return Nr(_y,{className:vn(Ey.locals.VolumeButton,l?Ey.locals.MuteButton:Ey.locals.UnmuteButton,p&&Ey.locals.MuteButton__hidden),onClick:l?d:h,size:c},Nr("div",{className:Ey.locals.VolumeButton__content},Nr("div",{className:vn(Ey.locals.VolumeButton__iconContainer,{[Ey.locals.VolumeButton__iconContainer_middle]:u})},Nr(l?py:yy,{className:Ey.locals.VolumeButton__icon})),1!==a&&Nr("div",{className:vn(Ey.locals.UnmuteButton__text,Ey.locals.UnmuteButton__text_animation,{[Ey.locals.UnmuteButton__text_middle]:u}),style:{maxWidth:140*s,transform:"scale("+s+")",opacity:s,marginRight:12*s}},A)))};var wy=e(8453),by=e.n(wy);const Cy=e=>{let{style:t}=e;const{playingState:i}=Lg(),r=U_();gn(by());const{volumeStatus:n,setMuted:o}=cy(),a="unmuted"===n,s=sn((()=>{o(!0)}),[]),l=sn((()=>{o(!1)}),[]);return"idle"!==i&&"unknown"!==n&&!1!==r.mute?Nr("div",{style:t,className:wy.locals.MuteUnmuteButtonWithoutBackground,onClick:a?s:l},Nr(a?py:yy,null)):null},Oy=$r({timeToSkip:Q_,skipCurrentAdPod:za.Z});Oy.Provider.displayName="SkipContext";const Iy=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:_n(i),skipCurrentAdPod:sn((()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():Wa.ot.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})}),[])}},Py=()=>ln(Oy),Dy=e=>{let{className:t}=e;return Nr(Uo,{className:t})},Ny=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:r}=e;if(!t)return Nr(Dy,{className:i});const[n,o]=t;return Nr("div",{className:r},Nr("span",null,n),Nr("span",null,o))};var Ry=e(5037),ky=e.n(Ry);const Vy=e=>{let{isActive:t,onClick:i,countdownString:r}=e;return gn(ky()),Nr(_y,{className:vn(Ry.locals.SkipButtonSmall,{[Ry.locals.SkipButtonSmall__disabled]:!t}),onClick:i,size:"small",isActive:t},Nr("div",{class:Ry.locals.SkipButtonSmall__content},Nr(Ny,{timeToSkipString:r,iconClassName:Ry.locals.SkipButtonSmall__timeToSkipString__icon})))};var Ly=e(8712),My=e.n(Ly);const By=e=>{let{isActive:t,onClick:i,skipText:r,countdownString:n}=e;return gn(My()),Nr(_y,{className:Ly.locals.SkipButtonWithText,onClick:i,size:"middle",isActive:t},Nr("div",{className:Ly.locals.SkipButtonWithText__content},Nr("div",{className:Ly.locals.SkipButtonWithText__text},r),Nr("div",{className:Ly.locals.SkipButtonWithText__timeToSkipString},Nr(Ny,{timeToSkipString:n,iconClassName:Ly.locals.SkipButtonWithText__icon,digitsContainerClassName:Ly.locals.SkipButtonWithText__digitsContainer}))))};var xy=e(3398);const Uy=()=>{const e=iv(),{skipCurrentAdPod:t,timeToSkip:i}=Py(),r=y_(),n=U_(),o=so(e),a=Fo(i);if(!Ho(n))return null;if(i===Q_)return null;const s=0===i;return"small"===o?Nr(Vy,{onClick:t,countdownString:a,isActive:s}):Nr(By,{onClick:t,skipText:r("SKIP"),countdownString:a,isActive:s})},Fy=$r({adPodsCount:0,playingAdPodIndex:0});Fy.Provider.displayName="MediaFileContext";const Hy=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:_n(t),playingAdPodIndex:_n(i)}};var Wy=e(7864),zy=e.n(Wy);const jy=e=>{let{color:t}=e;gn(zy());const{adPodsCount:i,playingAdPodIndex:r}=ln(Fy),n=Pg();return!1!==U_().timeline?Nr("div",{className:Wy.locals.Timeline},(0,Ga.U)(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(i),(e=>Nr(Yg,e<r?{key:e,adAnimationProgress:1,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:e===r?{key:e,adAnimationProgress:n,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:{key:e,adAnimationProgress:0,currentNumber:e,count:i,backgroundOpacity:.3,color:t})))):null},Gy=(e,t)=>{const{width:i,height:r}=e,{fontSize:n,lineHeight:o=n,noFontSizeLimit:a}=t,s=Math.min(r+i/20,Math.sqrt(i*i+r*r)/2);if(a)return{fontSize:n*s+"px",lineHeight:o*s+"px"};const l=Math.max(n*s,9);return{fontSize:l+"px",lineHeight:Math.max(o/n*l,9)+"px"}};var qy=e(2256),Ky=e.n(qy);const Yy=e=>{const{children:t,style:i,onClick:r}=e;return gn(Ky()),Nr("button",{style:i,className:qy.locals.ArrowButton,onClick:r},Nr("span",{className:qy.locals.ArrowButton__content},t&&Nr("span",{className:qy.locals.ArrowButton__textContent},t),Nr(b_,null)))},Zy={body:{fontSize:.035,lineHeight:.05},title:{fontSize:.057,lineHeight:.07},buttonWithoutText:{fontSize:.157,lineHeight:.157},buttonWithText:{fontSize:.107,lineHeight:.107}},Xy=e=>{let{oldButtonStyle:t,buttonPlacement:i,label:r}=e;const n=iv(),{actionButtonParameters:o,clickThrough:a}=w_();if(!o)return null;const s=Pg(),l=B_(),d=l*s,{clickUrl:c}=o,u=function(e,t,i){return{[i]:no({position:e,unit:"number",steps:[{duration:.06*t,values:[-500,0],easing:ro(.54,1.25,.54,1.26,.01)},{duration:.62*t,value:0},{duration:.02*t,values:[0,-1],easing:ro(.5,1,.5,60,.01)},{duration:.04*t,values:[-1,0],easing:ro(.5,100,.5,-100,.01)}]})+"%"}}(d,l,i.side),h=sn((()=>a({url:c})),[a,c]);return Nr("div",{style:{padding:"0 5%"}},Nr(Fv,{url:c,onClick:h},Nr(Yy,{style:Wo({position:"relative",pointerEvents:"auto"},Gy(n,r?Zy.buttonWithText:Zy.buttonWithoutText),t,u)},r)))},Jy=$r(Bd);Jy.Provider.displayName="ContentAfterAdPodContext";const Qy=e=>{let{className:t}=e;return Nr(zo,{className:t})};var $y=e(806),eE=e.n($y);const tE=e=>{let{countdownString:t}=e;if(!t)return Nr(Qy,{className:$y.locals.MultirollSkipButton__icon});const[i,r]=t;return Nr("div",{className:$y.locals.MultirollSkipButton__timeToSkipString},Nr("span",{className:$y.locals.MultirollSkipButton__timeToSkipString__leftDigit},i),Nr("span",{className:$y.locals.MultirollSkipButton__timeToSkipString__rightDigit},r))},iE=e=>{let{skipTitle:t,image:i}=e;return Nr("div",{className:$y.locals.MultirollSkipButton__contentLeft},i.length>0?Nr("img",{src:i[0].url,className:$y.locals.MultirollSkipButton__leftImage}):Nr("div",{className:$y.locals.MultirollSkipButton__skipText},t))},rE=()=>{gn(eE());const{skipCurrentAdPod:e,timeToSkip:t}=Py(),i=iv(),r=y_(),n=U_(),o=ln(Jy),a=Fo(t);if(!Ho(n))return null;if(t===Q_)return null;const s=r("SKIP"),l=0===t,d=vn($y.locals.MultirollSkipButton__clickable,{[$y.locals.MultirollSkipButton_active]:l}),c=ao(i),u=i.width>=320;let h;return h="startVideo"===o.type||"continueVideo"===o.type?o.poster:[],Nr("div",{className:d,onClick:e,style:{fontSize:.28*c}},Nr("div",{className:$y.locals.MultirollSkipButton},u&&Nr(iE,{skipTitle:s,image:h}),Nr("div",{className:$y.locals.MultirollSkipButton__contentRight},Nr(tE,{countdownString:a}))))};var nE=e(4993),oE=e.n(nE);const aE=(e,t,i)=>an((()=>e?(0,Ga.U)((e=>{let{maxLines:t,maxLettersInLine:i,decrease:r=.8,text:n}=e;const o=[],a=n.split(/\s+/g),s=[],l=Math.floor(i*r);for(;a.length>0;){const e=a.shift();if("string"!==typeof e)continue;let t=0;const r=e.length>l?l:e.length;for(let i=0;i<r;i++){const r=e.charAt(i);r!==r.toLowerCase()&&t++}const n=Math.floor(i-(i-l)*t/l);if(e.length>n){let t,i,r=e.lastIndexOf("-");r===e.length-1&&(r=e.lastIndexOf("-",r-1)),r>-1?(i=e.slice(0,r+1),t=e.slice(r+1)):(i=e.slice(0,n),t=e.slice(n)),a.unshift(i,t)}else s.push(e)}const d=1/r;return(0,Ja.E)(s,(e=>{const t=o.pop()||[];let r=0;(0,Ja.E)(t,(e=>{r+=jo(e,d)+1})),r+=jo(e,d),r>=i?(o.push(t),o.push([e])):(t.push(e),o.push(t))})),(0,_l.h)(o,(e=>Boolean(e.length))).slice(0,t)})({maxLines:t,maxLettersInLine:i,text:e}),(e=>e.join(" "))):[]),[e,t,i]),sE=()=>{gn(oE());const e=Pg(),t=B_(),i=iv(),{actionButtonParameters:r,shouldUseActionPanel:n,clickThrough:o}=w_(),a=U_(),{title:s,body:l}=r||{},d=n?K_/(t*Vu):0,c=e<.36+d,u=c&&!1!==a.title,h=!c&&!1!==a.body,p=aE(c?s:l,4,44);if(!r)return null;if(!h&&!u)return Nr("div",{style:{flex:1}});const{clickUrl:A,buttonPlacement:m}=r,v=Math.min(i.width,i.height),_=t*e,f=e=>function(e,t,i,r,n){void 0===n&&(n=0);const o=.014*r,a=.012*r;return{[i]:no({position:e,unit:"number",steps:[{duration:t*(.05+o+n),value:-400},{duration:t*(.07-o),values:[-400,0],easing:"easeOutBack"},{duration:t*(.205+a),value:0},{duration:t*(.035-a),values:[0,400],easing:"easeIn"},{duration:t*(.049-o),values:[-400,0],easing:"easeOutBack"},{duration:t*(.444+a),value:0},{duration:t*(.035-a),values:[0,180],easing:"easeIn"}]})+"%"}}(_,t,m.oppositeSide,e,d),g=sn((()=>{o({url:A})}),[o,A]);return Nr("div",{className:nE.locals.TitleAndBody,style:{fontSize:.05*v}},(0,Ga.U)(p,((e,t)=>Nr(kr,{key:t},Nr(Fv,{url:A,onClick:g},Nr("span",{style:null==f?void 0:f(t),className:nE.locals.TitleAndBody_line},e)),Nr("br",null)))))};var lE=e(9976),dE=e.n(lE);const cE=e=>{let{showSkipButton:t}=e;gn(dE());const i=B_(),{actionButtonParameters:r,shouldUseActionPanel:n}=w_(),{isPackshotPlaying:o}=W_(),a=U_(),s=iv(),d=so(s);if(!1===a.actionButton)return null;if(!r)return null;if(o)return null;if(!l(i))return null;if(n){let e;return e=t&&Ho(a)?s.width<750:"small"===d,e?Nr("div",{className:lE.locals.CallToActionControls__actionPanelLayoutTwoLines},Nr("div",null,Nr(sE,null)),Nr("div",{className:lE.locals.CallToActionControls__actionPanelLayoutTwoLines__buttonsLine},Nr(q_,null),t&&Nr(rE,null))):Nr("div",{className:lE.locals.CallToActionControls__actionPanelLayoutOneLine},Nr(q_,null),Nr(sE,null),t&&Nr(rE,null))}let{oldButtonStyle:c,buttonPlacement:u,label:h}=r;return"TRUE"===ms.L.getFlagValueAndActivateTestId("VAS_LONG_EXP_PLACE_OLD_ACTION_BUTTON_IN_LEFT_BOTTOM_CORNER")&&(h=void 0,u={position:"left-bottom",side:"left",oppositeSide:"right"},c=Eo({})),Nr("div",{className:vn(lE.locals.CallToActionControls,vn("right-center"===u.position&&lE.locals.CallToActionControls__rightCenter,"left-center"===u.position&&lE.locals.CallToActionControls__leftCenter,"left-bottom"===u.position&&lE.locals.CallToActionControls__leftBottom))},Nr(sE,null),Nr(Xy,{label:h,buttonPlacement:u,oldButtonStyle:c}))},uE=$r({cues:[]});uE.Provider.displayName="SubtitlesContext";const hE=e=>{let{adDisplayController:t}=e;return{cues:_n(t.adPodCurrentSubtitles)}};var pE=e(4061),AE=e.n(pE);const mE=e=>{let{style:t={}}=e;gn(AE());const{cues:i}=ln(uE);return i.length>0?Nr("div",{className:pE.locals.Subtitles__container,style:t},(0,Ga.U)(i,(e=>{let{text:t}=e;return Nr("div",{className:pE.locals.Subtitles__subtitle},t)}))):null};var vE=e(2990),_E=e.n(vE);const fE=()=>{gn(_E());const{isAbuseSubmitted:e}=Mf(),{skinVariant:t}=ln(Mg),{shouldUseActionPanel:i}=w_();if(e)return null;const r=i?qg:"#ff1a2d",n="multiroll"===t;return i&&"videoInCombo"===t?Nr("div",{className:vE.locals.BottomControls__container},Nr(SE,null)):Nr("div",{className:vE.locals.BottomControls__container},Nr(cE,{showSkipButton:n}),Nr(yE,{showSkipButton:!n}),Nr(gE,null),Nr(jy,{color:r}))},gE=()=>{const e=ln(Dg),t=U_();if(!e||!1===t.disclaimers)return Nr("div",{style:{height:"6px"}});const{text:i,mandatoryHeightPortion:r}=e;return Nr("div",{className:vE.locals.DisclaimerContainer},Nr(ty,{heightPortion:r,text:i}))},yE=e=>{let{showSkipButton:t}=e;const i=so(iv()),r=U_(),{shouldUseActionPanel:n}=w_(),o=!n&&!1!==r.domain,a="small"===i;return Nr(kr,null,!a&&Nr(mE,null),Nr("div",{className:vE.locals.ButtonControls},Nr(Sy,null),a&&Nr(mE,{style:{flex:1}}),t&&Nr(Uy,null)),o&&Nr(ny,null))},EE=e=>{let{shouldShowHoverControls:t}=e;return Nr("div",{className:vn(t?vE.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:vE.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden)},Nr(Cy,null),Nr("div",{style:{position:"absolute",left:12,right:12,bottom:40}},Nr(jy,{color:qg})))},TE=()=>Nr(kr,null,Nr(Cy,{style:{paddingBottom:10}}),Nr(jy,{color:qg})),SE=()=>{const{isTouchScreenDevice:e}=ln(Ng),t=Ug(),i=Boolean(t),{height:r}=iv(),n=!e||!i,{isHovered:o}=ln(Cg),a=B_(),{playingState:s}=Lg(),l=Pg(),d=o||a*l<2||"pause"===s,c=!n||d,u=Math.max(48,r/8);return Nr("div",null,Nr("div",{style:{position:"absolute",left:0,right:0,bottom:0}},Nr("div",{className:c?vE.locals.ComboVideoControls__controlsBottomShadow_visible:vE.locals.ComboVideoControls__controlsBottomShadow_hidden},Nr(Wg,null)),Nr(gE,null)),Nr("div",{style:{position:"absolute",left:0,right:0,bottom:0}},n?Nr(EE,{shouldShowHoverControls:d}):Nr(TE,null)),Nr("div",{style:{position:"absolute",left:0,right:0,bottom:u}},Nr(cE,{showSkipButton:!1})))};var wE=e(4115),bE=e.n(wE);(0,os.n)({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const CE=e=>{let{className:t}=e;return gn(bE()),Nr(Go,{className:vn(wE.locals.SpinnerIcon__css_animated,t)})},OE=CE;var IE=e(9130),PE=e.n(IE);const DE=e=>{let{className:t}=e;return gn(PE()),Nr(OE,{className:vn(IE.locals.Spinner,t)})},NE=e=>{let{className:t}=e;return Nr(qo,{className:t})};var RE=e(7276),kE=e.n(RE);const VE=e=>{let{onClick:t,size:i}=e;gn(kE());const r=vn(RE.locals.CirclePlayButton,{[RE.locals.CirclePlayButton_middle]:"middle"===i}),n=vn(RE.locals.CirclePlayButton__icon,{[RE.locals.CirclePlayButton__icon_middle]:"middle"===i});return Nr(Qf,{className:r,contentClassName:RE.locals.CirclePlayButton__basecontent,onClick:t},Nr(NE,{className:n}))},LE=()=>{const e=so(iv()),{play:t}=Lg();return Nr(VE,{size:e,onClick:t})};var ME=e(7012),BE=e.n(ME);const xE=()=>{gn(BE());const{playingState:e,isStarted:t,isSlowStart:i}=Lg(),{play:r,loader:n}=U_(),{isAbuseSubmitted:o,abuseDisplayStatus:a}=Mf(),{isPackshotPlaying:s}=W_(),l=qf(iv());if(o)return null;const d="pause"===e,c=d&&!1!==r&&!("selection"===a&&l)&&!s,u=!c&&!d&&!t&&i&&!1!==n;return Nr("div",{className:ME.locals.CenterControls},c&&Nr(LE,null),u&&Nr(DE,null))},UE="TRUE"===ms.L.getFlagValueAndActivateTestId("VAS_ENABLE_AD_LABEL_OF_YANDEX_DIRECT")||void 0,FE=$r({adSystemType:void 0,openAdSystemWebsite:za.Z});FE.Provider.displayName="AdSystemContext";const HE=e=>{let{adDisplayController:t}=e;return{adSystemType:_n(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var WE=e(5170),zE=e.n(WE);const jE=e=>{let{size:t,shouldShowLabel:i,shouldShowTitle:r,ageRestriction:n,onClick:o}=e;gn(zE());const a=y_();if(!i&&!(0,wl.H)(n))return null;const s=a("AD_TITLE"),l=a("YANDEX_DIRECT"),d=i;return Nr("div",{className:vn(WE.locals.AdLabel,{[WE.locals.AdLabel_middle]:"middle"===t,[WE.locals.AdLabel_clickable]:d}),title:r?l:void 0,onClick:d?o:void 0},i&&s,n?Nr(kr,null,i&&Nr("span",{className:WE.locals.AdLabel__delimiter},"|"),Nr("span",{className:WE.locals.AdLabel__ageLabel},n)):null)};var GE=e(6937),qE=e.n(GE);const KE=e=>{let{onClick:t}=e;gn(qE());const i=U_(),r=y_()("SOCIAL_ADVERTISING_AD_LABEL");return!1===i.socialAdLabel?null:Nr("a",{className:GE.locals.SocialAdvertisingAdLabel,onClick:t},r)},YE=()=>{const{playingState:e}=Lg(),t=U_(),i=so(iv()),{adSystemType:r,openAdSystemWebsite:n}=ln(FE),{socialAdvertising:o}=Uf(),{actionButtonParameters:a,clickThrough:s}=w_(),{ageRestriction:l}=a||{},d=Ug();if(o)return Nr(KE,{onClick:n});const c=void 0!==r&&("yandex"!==r||!0===UE),u=!1!==t.adLabel&&"idle"!==e,h=c&&u,p=h&&"yandex"===r,A=!1!==t.ageLabel,{clickUrl:m}=null!=a?a:{};return Nr(jE,{size:i,shouldShowLabel:h,shouldShowTitle:p,ageRestriction:A?l:void 0,onClick:()=>{"TRUE"===ms.L.getFlagValueAndActivateTestId("VAS_OPEN_AD_INSTEAD_OF_AD_SYSTEM_BY_LABEL_CLICK")?s({url:null!=m?m:d}):n()}})};var ZE=e(4499),XE=e.n(ZE);const JE=()=>(gn(XE()),Nr("div",{className:ZE.locals.TopControls},Nr(YE,null))),QE=()=>Nr(kr,null,Nr(JE,null),Nr(fE,null),Nr(xE,null),Nr(bg,null)),$E=$r(xc.l);$E.Provider.displayName="ABFlagContext";const eT=$r(void 0);eT.Provider.displayName="VideoContentSizeContext";const tT=$r(cs);tT.Provider.displayName="VideoSlotSizeContext";const iT=[e=>Nr(rv.Provider,{value:nv(e.slotElement),children:e.children}),e=>Nr(kg.Provider,{value:Vg(e),children:e.children}),e=>Nr(Fy.Provider,{value:Hy(e.adDisplayController),children:e.children}),e=>Nr(Og.Provider,{value:Ig(e.adDisplayController),children:e.children}),e=>Nr(L_.Provider,{value:M_(e),children:e.children}),e=>Nr(ev.Provider,{value:tv(e.adDisplayController.slotParameters.size),children:e.children}),e=>{return Nr(tT.Provider,{value:(t=e.adDisplayController.videoSlotSize,_n(t))},e.children);var t},e=>{return Nr(eT.Provider,{value:(t=e.adDisplayController.videoContentSize,_n(t))},e.children);var t},e=>Nr(Oy.Provider,{value:Iy(e),children:e.children}),e=>Nr(Mg.Provider,{value:Bg(e.adDisplayController.skinParameters),children:e.children}),e=>{return Nr(xg.Provider,{value:(t=e.adDisplayController,_n(t.videoSlotClickUrl)),children:e.children});var t},e=>Nr(Ng.Provider,{value:Rg(e.adDisplayController),children:e.children}),e=>{return Nr(Cg.Provider,{value:(t=e.adDisplayController.slotParameters.isHovered,{isHovered:_n(t)}),children:e.children});var t},e=>Nr(f_.Provider,{value:g_(e),children:e.children}),e=>{return Nr(x_.Provider,{value:(t=e.adDisplayController.combinedSkinControlsVisibility,_n(t)),children:e.children});var t},e=>Nr(ly.Provider,{value:dy(e),children:e.children}),e=>Nr(oy.Provider,{value:ay(e),children:e.children}),e=>Nr($E.Provider,{value:xc.l,children:e.children}),e=>Nr(Vf.Provider,{value:Lf(e),children:e.children}),e=>Nr(FE.Provider,{value:HE(e),children:e.children}),e=>{return Nr(Jy.Provider,{value:(t=e.adDisplayController,_n(t.contentAfterAdPod)),children:e.children});var t},e=>Nr(Bf.Provider,{value:xf(e),children:e.children}),e=>Nr(T_.Provider,{value:S_(e.adDisplayController),children:e.children}),e=>{return Nr(Dg.Provider,{value:(t=e.adDisplayController,_n(t.disclaimerParameters)),children:e.children});var t},e=>Nr(F_.Provider,{value:H_(e.adDisplayController),children:e.children}),e=>Nr(uE.Provider,{value:hE(e)},e.children)];const rT=(nT=()=>Nr(QE,null),(e,t)=>{const i=new Ml.M,r=new Ml.M,n=new Ml.M,o=new Promise(((e,t)=>{i.addOne((()=>{i.removeAll(),r.removeAll(),e()})),r.addOne((e=>{i.removeAll(),r.removeAll(),t(e)}))})),a=new Promise(((e,t)=>{n.addOne((()=>{t()}))})),s=Nr(Jm,{onFirstRender:e=>{"success"===e.status?i.dispatch(void 0):r.dispatch(e.error)},onRuntimeError:()=>{n.dispatch(void 0)}},Nr($m,{components:iT,componentsProps:{id:"skin",adDisplayController:t,slotElement:e}},nT()));return(0,ja.q)("Skin: render skin"),Qr(s,e),{firstRenderPromise:o,runtimeErrorPromise:a,clear:()=>{i.removeAll(),r.removeAll(),(0,ja.q)("Skin: destroy skin"),Qr(null,e)}}});var nT;const oT=["preloadTimeout"];var aT=0,sT=Zo("preloadPromise"),lT=Zo("showAdPlaybackControllers"),dT=Zo("subscriptions"),cT=Zo("mediaAds"),uT=Zo("vast"),hT=Zo("cancelPreloading"),pT=Zo("destroyPreloading");class AT{constructor(e,t){var i=this;Object.defineProperty(this,sT,{writable:!0,value:void 0}),Object.defineProperty(this,lT,{writable:!0,value:[]}),Object.defineProperty(this,dT,{writable:!0,value:[]}),Object.defineProperty(this,cT,{writable:!0,value:void 0}),Object.defineProperty(this,uT,{writable:!0,value:void 0}),this.createPlaybackController=function(e,t,r){void 0===r&&(r={}),Wa.ot.event({name:"CreatePlaybackController",probability:Fa.yl,data:{config:r}});const{config:n,errors:o}=to(r);ce(o);const a="VideoBannerAd"===Cs.R0||"Test"===Cs.R0,s=r.renderSkin,l=new kf({videoSlot:e,slot:t,mediaAds:Yo(i,cT)[cT],playbackParameters:n,onPlayAd:()=>Yo(i,hT)[hT]("PublicControllerPlayAd"),skinParameters:{renderSkinFunction:a&&s?s:rT,skinVariant:"default"}}).getPublicInstance(),d=(0,_l.h)(Yo(i,dT)[dT],(e=>{let{event:t}=e;return"CreateAdPlaybackController"===t}));return(0,Ja.E)(d,(e=>{let{handler:t}=e;return t({playbackController:l})})),l},this.showAd=function(e,t,r){void 0===r&&(r={}),Yo(i,hT)[hT]("AdStoreShowAd");const n=i.createPlaybackController(e,t,r);Yo(i,lT)[lT].push(n);const o=new Promise((e=>{n.subscribe("AdStopped",(()=>{Yo(i,lT)[lT]=(0,_l.h)(Yo(i,lT)[lT],(e=>e!==n)),e()}))}));return n.playAd(),o},this.getAdDuration=()=>Oo(Yo(this,cT)[cT]),this.separateAdPods=()=>(0,Ga.U)(Yo(this,cT)[cT],(e=>{const t=new AT([e],Yo(this,uT)[uT]);return(0,Ja.E)(Yo(this,dT)[dT],(e=>{let{event:i,handler:r}=e;t.subscribe(i,r)})),t})),this.getAdSourceTypes=()=>(0,_l.h)((0,Ga.U)(Yo(this,cT)[cT],(e=>{let{contentType:t}=e;return t})),((e,t,i)=>i.indexOf(e)===t)),this.setStatsRootFields=e=>{Wa.ot.setRootFields(e)},this.hasNotReplacedBroadcastAd=()=>(Wa.ot.error({error:new Ha.w({code:"USING_HAS_NOT_REPLACED_BROADCAST_AD_METHOD_FROM_AD_STORE",details:void 0})}),!1),this.hasYandexCreative=()=>es(Yo(this,cT)[cT],(e=>e.getIsYandexCreative())),this.getNonYandexVastXmlTree=()=>this.hasYandexCreative()?void 0:Ko(Yo(this,uT)[uT]),this.destroy=()=>{(0,Ja.E)(Yo(this,lT)[lT],(e=>{e.stopAd()})),Yo(this,lT)[lT].length=0,Yo(this,pT)[pT]("AdStoreDestroy"),Yo(this,sT)[sT]=void 0,Yo(this,dT)[dT].length=0},this.preload=e=>{let{preloadTimeout:t=zd}=e,i=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,oT);if((0,As.m)((0,xl.x)(window)))return Promise.resolve();const r=(0,El.n)(t).promise.then((()=>Yo(this,pT)[pT]("Timeout")));if(void 0===Yo(this,sT)[sT]){const e=(0,Ga.U)(Yo(this,cT)[cT],(e=>e.preload(i)));Yo(this,sT)[sT]=Promise.all(e).then(za.Z)}return Promise.race([Yo(this,sT)[sT],r])},this.filterAdPodsIndependentOnHtmlControls=e=>{const[t,i]=St(Yo(this,cT)[cT],(e=>e.getIfIsRequiredHtmlControls()));Yo(this,cT)[cT]=ii(i),(0,Ja.E)(t,(t=>{t.trackError(new Ha.w({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))}))},this.preventPlaying=(e,t)=>{(0,Ja.E)(Yo(this,cT)[cT],(i=>{i.trackError(new Ha.w({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))})),Yo(this,cT)[cT]=[]},this.getAdPodsCount=()=>Yo(this,cT)[cT].length,this.subscribe=(e,t)=>(Yo(this,dT)[dT].push({event:e,handler:t}),()=>{Yo(this,dT)[dT]=(0,_l.h)(Yo(this,dT)[dT],(i=>!(i.event===e&&i.handler===t)))}),Object.defineProperty(this,hT,{writable:!0,value:e=>{(0,Ja.E)(Yo(this,cT)[cT],(t=>{t.isPreloaded()||t.cancelPreloading(e)}))}}),Object.defineProperty(this,pT,{writable:!0,value:e=>{(0,Ja.E)(Yo(this,cT)[cT],(t=>{t.cancelPreloading(e)}))}}),Yo(this,cT)[cT]=e,Yo(this,uT)[uT]=t}}class mT extends Sl.V{constructor(e){let{adConfig:t,vmap:i,adBreak:r,adPlacementOptions:n}=e;if(super(),this.getPublicInstance=()=>({loadAd:this.loadAd,destroy:()=>this.destroy()}),this.load=async e=>{const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t},this.loadAd=async()=>{try{const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Ha.w({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new AT(t,i)}catch(e){throw Qt(e),Wa.ot.errorToStats(e),e}},this.getInPageBlock=()=>li(this.getAdBreaks(),"inpage")[0],this.getPrerollBlock=()=>li(this.getAdBreaks(),"preroll")[0],this.getDefaultAdBreakToPlayAd=()=>{const{impId:e}=this.adConfig;return e?function(e,t){return(0,Nu.s)(e,(e=>e.impId===t))}(this.getAdBreaks(),e):li(this.getAdBreaks(),"preroll")[0]},this.adConfig=t,this.adBreak=r,this.vmap=i,this.adPlacementOptions=n,(0,ja.q)("AdLoader: create"),Wa.ot.event({name:"CreateAdLoader",probability:Fa.yl,data:{adConfig:t,adBreak:r}}),yc({secureMode:t.secureMode,url:void 0})){const e=Td();e.addUser(),this.addDestroyHandler((()=>{e.removeUser()})),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:5e3})}}getAdBreaks(){return this.adBreak?[this.adBreak]:this.vmap.adBreaks}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return si({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}const vT={start:"preroll",end:"postroll"},_T=(0,dl.Z)({inpage:0,preroll:0,midroll:0,pauseroll:0,postroll:0,replaced:0,notReplaced:0,inroll:0}),fT={dark:"dark",light:"light"},gT={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},yT=e=>{const t=$o("Collapse",e);return!0===$o("Repeat",e)?"auto":!1===t?"manual":null},ET=async e=>{let{url:t,vmapLoadParams:i,timeout:r}=e;const n=Date.now();let o;Wa.ot.event({name:"VmapLoadStart",data:i,probability:Fa.yl});try{const e=!(0,As.m)((0,xl.x)(window)),i="boolean"===typeof Rl?Rl:e;o=await le({url:t,data:null,timeout:r,withCredentials:i})}catch(d){const e=dc({thrownError:d,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw Wa.ot.error({error:e}),e}const{responseStatus:a,responseText:s}=o;if(200!==a){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(s);if(l(e))throw new Ha.w({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:sa({},i,{responseStatus:a,disabledPageId:e})});throw new Ha.w({code:"INVALID_VMAP_RESPONSE_STATUS",details:sa({},i,{responseStatus:a,responseText:o.responseText})})}try{const e=aa(i.config),{vmap:t,events:r,errors:a}=na({vmapXmlObject:o,vmapLoadParams:i,vmapAdBreaksConfig:e});return ce(a),(0,Ja.E)(r,(e=>Wa.ot.event(sa({labels:void 0},e)))),Wa.ot.values({name:"VmapLoadSuccess",data:sa({},i,{vmap:t}),probability:Fa.yl,labels:{},values:{adBreaksCount:t.adBreaks.length,timeSpent:Date.now()-n}}),t}catch(d){throw Wa.ot.errorToStats(d),d}};var TT=e(9421);const ST=()=>(0,TT.m)()/Vu,wT="adsdksessionwatchedtimesinceadmap";class bT{constructor(){void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:r=ST}=e;if(!i)return;const n=la(i);n[t]=r();try{i.setItem(wT,JSON.stringify(n))}catch(o){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:r=ST}=e;if(!i)return 0;const n=la(i)[t];if(!l(n))return 0;const o=r();if(!l(o))return 0;const a=o-n;return l(a)?a:0}({category:t,storage:this.storage})}}var CT=e(3354);const OT=(0,Pl.O)(window,CT.O9),IT=(0,Pl.O)(window,CT.Ho),PT=(0,Pl.O)(window,CT.Az),DT=(0,Pl.O)(window,CT._$),NT="https://"+("TRUE"===Fc("REQUEST_VMAP_FROM_YANDEX_RU")&&!Bl.d.LOADER_LOADED_FROM_AN_YANDEX_RU?ts.FN+"/an/vmap/":ts.l3+"/vmap/");class RT{constructor(){this.adBreaks=[],this.isSingleVideoSession=!1}static async load(e,t){const i=ha(e),r=ca({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:n}=i;let o=3e3;n&&(o=n);const a={url:r,config:e,timeout:o};return await ET({url:r,vmapLoadParams:a,timeout:o})}}const kT={impId:0,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},VT={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},LT=pa({adType:"preroll"},VT,kT),MT=e=>{if(!(0,as.K)(e))return;const{preferableAdSize:t}=e;if(!(0,as.K)(t))return;const{width:i,height:r}=t;return l(i)&&l(r)?{width:i,height:r}:void 0},BT=(0,dl.Z)(vc),xT="Unsafe",UT=e=>{if(!(0,as.K)(e))return xT;const{secureMode:t}=e;return t&&-1!==BT.indexOf(t)?t:xT},FT=ga({adType:"inpage",replayMode:null,stick:!1},VT,kT),HT=ya({adType:"midroll",broadcastReplace:!1},VT,{repeatAfter:0,maxRepeatCount:0,repeatNumber:0,timeOffset:10},kT),WT=Ea({adType:"postroll"},VT,kT),zT={inpage:FT,preroll:LT,midroll:HT,postroll:WT},jT=(0,dl.Z)(zT),GT=["vastBase64","adBreakType"],qT=["videoContentId"],KT={width:16,height:9},YT={width:"",height:"",marginLeft:"",marginTop:""},ZT=(XT=nf,JT=rf,e=>{let t,i;const r=()=>{XT(i),i=NaN},n=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r(),i=JT((r=>{i=NaN,t=e.call(this,r,...o)})),t};return n.cancel=r,n});var XT,JT;class QT extends Sl.V{constructor(e){super(),this.overlapVisibility=new cl.R(!1),this.recalculateElementOverlap=ZT((()=>{if(this.isDestroyed)return;const e=!Ji(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.params=e,this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(Yt(this.recalculateElementOverlap));const{promise:e,clear:t}=(0,El.n)(0);e.then(this.recalculateElementOverlap).catch(ol.L),this.addDestroyHandler(t)}}const $T=[0,0];class eS extends Sl.V{constructor(e,t){super(),this.placeholderSlot=e,this.containerElement=t}waitTillContainerVisibleWithOffset(e){const t=this.containerElement.ownerDocument.defaultView.IntersectionObserver;let i=za.Z;const r=new Promise((r=>{const n=new t((e=>{let[{isIntersecting:t,intersectionRatio:n}]=e;(t||n>0)&&(i(),r())}),{threshold:0,rootMargin:e+" 0px"});n.observe(this.containerElement),i=()=>{n.disconnect()}}));return this.addDestroyHandler(i),r}whenCanShow(){const e=this.placeholderSlot,t=WA;if((0,ja.q)("whenCanShow: start logic with threshold=[0.5]"),function(e,t){const i=e.ownerDocument;return(0,UA.s)(i)&&nr(e)>=t}(e,t))return(0,ja.q)("whenCanShow: element is already visible"),Promise.resolve(void 0);if(Pa(e)&&Ca(e))return(0,ja.q)("whenCanShow: element is at the end of the <body>"),Promise.resolve(void 0);const i=[],r=()=>{(0,ja.q)("whenCanShow: stop logic"),(0,Ka.p)((0,Ga.U)(i,(e=>()=>(0,Ys.Y)(e))))};let n=za.Z;if(tl&&!function(e){return e.top!==e.self}(window)){(0,ja.q)("whenCanShow: use intersection observer");const i=e.getBoundingClientRect().height*t;this.waitTillContainerVisibleWithOffset("-"+i+"px").then((()=>{(0,ja.q)("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+i+"]"),n()})).catch(ol.L)}return i.push(Yt((()=>{const i=(0,UA.s)(document),o=nr(e),a=i&&o>=t,s=Pa(e)&&Ca(e);a||s?((0,ja.q)("whenCanShow: visibility detected by interval isVisible=["+a+"] isAtTheEndOfTheBody=["+s+"]"),n(),r()):(0,ja.q)("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+i+"}] elementVisibilityRatio=["+o+"] threshold=["+"0.5]")}))),this.addDestroyHandler(r),new Promise((e=>{n=e}))}getVisualVisibilitySensor(){const e=new jA(this.placeholderSlot,{considerDocumentVisibility:!1}),t=new cl.R(!1);e.totalVisibilityValueSignal.add((e=>t.dispatch(e)));const i=new QT({element:this.placeholderSlot,points:[$T]}),r=new cl.R(e.totalVisibilityValueSignal.getValue()&&i.overlapVisibility.getValue());return Mi([t,i.overlapVisibility],((e,t)=>e&&t),(e=>r.dispatch(e))),this.addDestroyHandler((()=>{i.destroy(),e.destroy()})),r}waitForWarmingUpPosition(){return tl?this.waitTillContainerVisibleWithOffset("200%"):Promise.resolve()}}const tS="_displayController_"+Math.floor(1e3*Math.random());class iS extends class{constructor(e){var t;this.adStarted=!1,this.paused=!0,t=e,this[tS]=t,Da(this).onBeforeAdStart.add((e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(Lm){console.error(Lm)}})),Da(this).onAdStartRejected.add((()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(Lm){console.error(Lm)}})),Da(this).onAdStart.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(Lm){console.error(Lm)}})),Da(this).onAdMediaStart.add((e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{(0,ja.q)("PublicController: call onPlayStateChanged(true) within onAdMediaStart"),this.onPlayStateChanged(!0)}catch(Lm){console.error(Lm)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(Lm){console.error(Lm)}})),Da(this).onAdMediaEnd.add((e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(Lm){console.error(Lm)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(Lm){console.error(Lm)}if("function"===typeof this.onPlayStateChanged)try{(0,ja.q)("PublicController: call onPlayStateChanged(false) within onAdMediaEnd"),this.onPlayStateChanged(!1)}catch(Lm){console.error(Lm)}})),Da(this).onAdEnd.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(Lm){console.error(Lm)}})),Da(this).onClickThrough.add((()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(Lm){console.error(Lm)}})),Da(this).onAdSkipped.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(Lm){console.error(Lm)}})),Da(this).onAdPodClose.add((()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(Lm){console.error(Lm)}}));const i=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{(0,ja.q)("PublicController: call onPlayStateChanged(true) within start or resume"),this.onPlayStateChanged(!0)}catch(Lm){console.error(Lm)}};Da(this).onAdPodResume.add(i),Da(this).onAdPodStart.add(i),Da(this).onAdPodPause.add((()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{(0,ja.q)("PublicController: call onPlayStateChanged(false) within onAdPodPause"),this.onPlayStateChanged(!1)}catch(Lm){console.error(Lm)}})),Da(this).adSkippableState.add((e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(Lm){console.error(Lm)}})),Da(this).onAdPodImpression.add((()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(Lm){console.error(Lm)}})),Da(this).adContentSize.add((()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(Lm){console.error(Lm)}})),Da(this).adPodRemainingTime.add((()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(Lm){console.error(Lm)}}))}getCurrentContentType(){const e=Da(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}usesVideoNode(){const e=Da(this);if(void 0!==e&&null!==e)return e.usesVideoNode()}play(e){void 0===e&&(e=0===Da(this).getVolume());const t=async()=>{Da(this).setMuted(Da(this).autoplayAbilitySignal.getValue().requireMute||e);try{await Da(this).play()}catch(t){Wa.ot.error({error:new Ha.w(t,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===Da(this).getCurrentContentType()?Da(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){Da(this).pause()}skip(){Wa.ot.event({name:"PublicControllerSkip",probability:Fa.yl,data:{}}),Da(this).skipAllViewers()}clickThrough(){Da(this).clickThrough({},"PublicControllerMethodCall")}getPaused(){return Da(this).getPaused()}getMuted(){return 0===Da(this).getVolume()}getVolume(){return Da(this).getVolume()}setVolume(e){Da(this).setVolume(e)}getDuration(){return Da(this).getDuration()}getAdWidth(){return Da(this).getAdWidth()}getAdHeight(){return Da(this).getAdHeight()}getCurrentTime(){return Da(this).getCurrentTime()}getAdSkippableState(){return Da(this).adSkippableState.getValue()}getAdContentSize(){return Da(this).adContentSize.getValue()}setStatsRootFields(e){Wa.ot.event({name:"UsingSetStatsRootFieldsInPublicController",probability:Fa.yl,data:void 0}),Wa.ot.setRootFields(e)}destroy(){Da(this).destroy({reason:"stopAd",details:void 0})}setControlsVisibility(e){Da(this).setPublicApiControlsSettings(e)}}{constructor(e){super(e.displayController),this.play=e=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.play(e)),this.resume=()=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.resume()),this.pause=()=>(this.params.pauseByPublicMethodSignal.dispatch(!0),super.pause()),this.params=e}}let rS=!1;const nS=()=>{rS=!0},oS=()=>{rS=!1},aS=()=>rS,sS={stickTo:"auto",stickyColorScheme:"dark"},lS=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class dS extends Sl.V{constructor(){super(),this.initialState="Inline",this.currentState=this.initialState,this.transitionWays={Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"},this.onStateChange=[],this.subscribeForStateTransition=(e,t)=>this.subscribeForStateChange((i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler((()=>{this.onStateChange.length=0}))}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=(0,_l.h)(this.onStateChange,(t=>t!==e))}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var cS=e(9881),uS=e.n(cS);const{locals:hS}=uS(),pS=e(4738);class AS extends Sl.V{constructor(e){super(),this.setDescription=za.Z,this.description="",this.withDisabledAnimation=e=>{this.setAnimationEnabled(!1),e(),this.params.layout.stickyWrapperElement.offsetLeft,this.setAnimationEnabled(!0)},this.waitForAnimationEnd=()=>{const e=(0,El.n)(400),t=e=>e.target===this.params.layout.stickyWrapperElement&&("width"===e.propertyName||"transform"===e.propertyName);let i=za.Z;const r=new Promise((e=>i=(0,qa.V)({element:this.params.layout.stickyWrapperElement,eventName:"transitionend",listener:i=>{t(i)&&e()}}))),n=()=>{e.clear(),i()};this.addDestroyHandler(n);return Promise.race([e.promise,r]).then(n)},this.params=e,this.render(),this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper,!0),lS(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__variant__flyroll,!0):this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__variant__covering,!0)}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=lS(this.params.stickyConfig.stickTo)||(e=>{let{adWidth:t,adHeight:i,windowWidth:r,description:n,isAdaptiveCreative:o}=e;if(!n)return!1;if(o)return!0;const a=t/i*180;return!!l(a)&&a/r<.55})({adWidth:(null==e?void 0:e.width)||0,adHeight:(null==e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__additionalContent_enabled,t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":case"Attached":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__unAnimated,!0)}render(){const e=this.params.layout.stickyWrapperElement,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler((()=>{(0,Ua.L)(t),(0,Ua.L)(i)}))}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,hS.yaInpageAdditionalContent,!0),lS(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,hS.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{if("dark"===this.params.stickyConfig.stickyColorScheme)this.toggleClassName(e,hS.yaInpageAdditionalContent_dark,!0);else(0,za.Z)();e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,hS.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,hS.yaInpageAdditionalContent__description,!0),this.addDestroyHandler((0,qa.V)({element:t,eventName:"click",listener:this.params.onActionClick})),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,hS.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,hS.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler((0,qa.V)({element:t,eventName:"click",listener:this.params.onActionClick})),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,hS.yaInpageCross,!0),e.innerHTML=pS,this.addDestroyHandler((0,qa.V)({element:e,eventName:"click",listener:this.params.onCrossClick})),e}toggleClassName(e,t,i){const{classList:r}=e;return i?r.add(t):r.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.layout.stickyWrapperElement,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__sticky,e),lS(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__sticky__covering,e),!lS(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:(0,za.Z)()}}setAttachStateClassNames(e){this.toggleStickyWrapperClassName(hS.yaInPageStickyWrapper__detached,!e)}}const mS={covering:{x:0,y:0},flyroll:{x:32,y:24}};class vS{constructor(e){this.intrinsicStickPosition={horizontal:"right",vertical:"bottom"},this.params=e,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},(()=>this.actualizeStickPosition()))}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return lS(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:320,height:180}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=lS(this.params.stickyConfig.stickTo)?mS.flyroll:mS.covering,i={x:lS(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:r,scale:n,translation:o}=(e=>{let{direction:t,offsets:i,getInpageCurrentRect:r,getViewDimensions:n,getStickyDimensions:o,getPlaceholderDimensions:a}=e;const s=i.x*-t.x,l=i.y*-t.y,d=r(),c=d.left,u=d.top,h=n(),p={x:(-1===t.x?0:h.width-d.width)-c+s,y:(-1===t.y?0:h.height-d.height)-u+l},A=o(),m=a(),v={x:A.width/m.width,y:A.height/m.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:p,scale:v}})({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:r,transform:"translate("+o.x+"px, "+o.y+"px) scale("+n.x+", "+n.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return Na({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getStickyWrapperDOMRect(),{width:o,height:a}=this.getViewDimensions(),s="bottom"===e.vertical?a-n+"px":"";return Na({top:"top"===e.vertical?r+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?o-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=lS(this.params.stickyConfig.stickTo)?mS.flyroll:mS.covering,i="top"===e.vertical?t.y+"px":"",r="bottom"===e.vertical?t.y+"px":"",n="left"===e.horizontal?t.x+"px":"",o="right"===e.horizontal?t.x+"px":"",a=this.getStickyDimensions();return{top:i,right:o,bottom:r,left:n,width:lS(this.params.stickyConfig.stickTo)?a.width+"px":"100%",height:a.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getPlaceholderDOMRect(),{left:o,right:a,top:s,bottom:l,width:d,height:c}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-r+"px":"",bottom:"bottom"===e.vertical?n-l+"px":"",left:"left"===e.horizontal?o-t+"px":"",right:"right"===e.horizontal?i-a+"px":"",width:d+"px",height:c+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const _S=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class fS{constructor(e){this.storedStyles=[],this.elements=e}save(){(0,Ja.E)(this.elements,(e=>{this.storedStyles.push(this.extract(e))}))}restore(){(0,Ja.E)(this.elements,((e,t)=>{Zi(e,this.storedStyles[t])})),this.storedStyles.length=0}extract(e){return(0,gl.u)(_S,((t,i)=>(t[i]=e.style[i],t)),{})}}class gS extends Sl.V{constructor(e){super(),this.handleWindowResize=ZT((()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),this.setDescription=e=>this.stickyInpageLayout.setDescription(e),this.handleFromInlineToDetachTransition=()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation((()=>{Zi(this.params.layout.stickyWrapperElement,Ra({position:"fixed"},this.stickyPositioning.getDetachedStateRect()))})),lS(this.stickyConfig.stickTo)||Zi(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions())),this.stickyInpageLayout.handleClassNames()},this.handleFromDetachToStickyTransition=async()=>{lS(this.stickyConfig.stickTo)?Zi(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles()):(Zi(this.params.layout.stickyWrapperElement,this.stickyPositioning.getStickyStateRect()),Zi(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation((()=>{Zi(this.params.layout.stickyWrapperElement,Ra({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()))})),this.stickyInpageLayout.handleClassNames()},this.handleFromStickyToAttachTransition=async()=>{this.stickyInpageLayout.withDisabledAnimation((()=>{Zi(this.params.layout.stickyWrapperElement,Ra({position:"absolute"},this.stickyPositioning.getAttachedStateRect()))})),this.stickyInpageLayout.handleClassNames()},this.handleFromAttachToInlineTransition=async()=>{this.stickyInpageLayout.handleClassNames(),lS(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation((()=>{Zi(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect())})),this.stickyInpageLayout.withDisabledAnimation((()=>{Zi(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles())})),Zi(this.params.layout.stickyWrapperElement,{transform:""},!0)):(Zi(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect()),Zi(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation((()=>this.stylesStore.restore()))},this.params=e,this.win=this.params.layout.containerWindow,this.stickyFSA=new dS,this.addDestroyHandler((()=>this.stickyFSA.destroy())),this.stickyConfig=Ra({},sS,_(this.params.stickyConfig)),this.stickyInpageLayout=new AS({stickyFSA:this.stickyFSA,layout:this.params.layout,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler((()=>this.stickyInpageLayout.destroy())),this.stickyPositioning=new vS({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.layout.placeholderElement.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect()}),this.stylesStore=new fS([this.params.layout.stickyWrapperElement,this.params.layout.wrapperElement]),this.addDestroyHandler((0,qa.V)({element:this.win,eventName:"resize",listener:this.handleWindowResize})),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}class yS extends Sl.V{constructor(e){var t;super(),this.replayMode=null,this.pausedByContainerVisibility=!1,this.pausedByDocumentVisibility=!1,this.isSticky=new cl.R(!1),this.documentVisibility=new cl.R(!1),this.pauseByPublicMethodSignal=new cl.R(!1),this.packshotPlayingState=new cl.R(!1),this.showAds=async e=>{const{layout:t}=this.params,[i]=e.slice(-1),{vastAd:r}=i,{clickThrough:n}=r,a=zn(r,this.params.layout.placeholderSize.getValue());a&&"manual"===this.replayMode&&((0,ja.q)("InPage: packshot image found for manual mode ["+a+"]"),this.displayController.onAdPodThirdQuartile.addOne((()=>{o(a)})));try{let i;if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.onAdMediaStart.addOne((e=>{let{viewer:t}=e;i=t})),this.displayController.autoplayAbilitySignal.getValue().requireUserGesture?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.add((()=>{(this.displayController.getViewersWithVideoCountBeforeCurrent()>0||!this.displayController.autoplayAbilitySignal.getValue().requireUserGesture)&&this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")})),(0,ja.q)("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),Wa.ot.event({name:"InPageWaitingForUserGesture",probability:Fa.yl,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})):((0,ja.q)("inPage: start to play ad"),this.displayController.play().catch((e=>{Wa.ot.error({error:new Ha.w(e,{code:"InPageOnReadyPlayError"})})})),Wa.ot.event({name:"InPageAutoplay",probability:Fa.yl,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,"auto"===this.replayMode)return;if("manual"===this.replayMode){const e=t.packshotContainer;t.setPackshotContainerVisibility(!0),t.setSlotVisibility(!1),(0,ja.q)("inPage: ad played. show packshot");const{disableObjectFit:o,disableOverlay:s,disableButton:l}=this.params.adConfig.packshotSettings||{};let d;if(a?Wa.ot.event({name:"InPagePackshotBackgroundImage",data:{vastAd:r}}):this.displayController.isLastAdPodRetainedMedia()?(o||(t.videoSlot.style.objectFit="cover"),Wa.ot.event({name:"InPagePackshotBackgroundLoopedVideo",probability:Fa.yl,data:{vastAd:r}})):Wa.ot.event({name:"InPagePackshotBackgroundEmpty",data:{vastAd:r}}),!l){const e=r.adParametersObject&&Hn(r.adParametersObject),t=vl("LEARN_MORE",this.params.adConfig.lang);d=e||t}const c=this.displayController.isLastAdPodRetainedMedia()?this.displayController.videoNodeController:void 0,u=new Qv({parent:e,parentSize:t.videoSlotContainerSize,videoNodeController:c,imageUrl:a,win:t.containerWindow,clickUrl:n,disableOverlay:s,buttonText:d,descriptionText:r.description,duration:1/0,openClickThroughUrl:()=>{var e;null==(e=i)||e.clickThrough({url:n,id:void 0,playerHandles:void 0})}});this.packshotPlayingState.add((e=>{u.setPlaying(e)})),this.addDestroyHandler((e=>{let{reason:t}=e;"unload"!==t?u.destroy({reason:"stopAd",details:void 0}):u.destroy({reason:"unload",details:void 0})}))}else(0,ja.q)("inPage: finish playing ad"),this.isSticky.getValue()&&await this.turnOffStickyMode({animated:!0}),this.destroy({reason:"adComplete",details:void 0})}catch(s){this.destroy(s)}},this.handleDocumentVisibilityChange=e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&((0,ja.q)("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,Wa.ot.event({name:"InPageDocumentVisibilityResume",probability:Fa.yl,data:{}})):((0,ja.q)("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,Wa.ot.event({name:"InPageDocumentVisibilityPause",probability:Fa.yl,data:{}}))},this.handleVisibilityChange=e=>{this.documentVisibility.getValue()&&(this.packshotPlayingState.dispatch(e),e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?((0,ja.q)("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):!this.isSticky.getValue()&&this.pausedByContainerVisibility&&this.displayController.getPaused()&&((0,ja.q)("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),Wa.ot.event({name:"InPageElementVisibilityResume",probability:Fa.yl,data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?((0,ja.q)("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isSticky.getValue()||this.pausedByContainerVisibility||this.displayController.getPaused()||((0,ja.q)("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),Wa.ot.event({name:"InPageElementVisibilityPause",probability:Fa.yl,data:{}})))},this.onceWhenCanShowInpage=()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(Lm){console.error(Lm)}},this.handleStickyInpageCrossClick=()=>{this.stickyInPageController&&((0,ja.q)("inPage: handle cross click"),Wa.ot.event({name:"InPageStickyCrossClick",probability:Fa.yl,data:{}}),this.turnOffStickyMode({animated:!0}),this.placeholderVisibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))},this.makeStickAction=async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(t){Wa.ot.error({error:new Ha.w(t,{code:"InPageOnStickError"})})}},this.handlePauseByMethodCall=e=>{e&&this.isSticky.getValue()&&((0,ja.q)("inPage: set to inline mode because of pause"),this.changeStickyState({willBeSticky:!1}))},this.params=e,(0,ja.q)("inPage: run constructor"),this.addDestroyHandler((e=>{(0,ja.q)("inPage: destroy error=["+JSON.stringify(e)+"]")}));const{layout:i,adConfig:r,initialContainerRect:n}=e,{containerElement:a,placeholderElement:s,placeholderSize:l,videoSlotContainerSize:d,wrapperElement:c}=i;this.replayMode="replayMode"in r?r.replayMode:null,this.isContainerSizeFixed=n.height>0,(0,ja.q)("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(n)+"]"),this.isContainerSizeFixed?(Zi(s,{height:"100%"}),Zi(a,{height:"100%"})):((0,ja.q)("inPage: adjust to default ad size"),ka({placeholderElement:s,placeholderWidth:l.getValue().width,adContentSize:KT})),this.placeholderVisibilitySlot=null!=(t=r.visibilitySlot)?t:s;const u=new yA(c),h=new jA(c,{numberOfMeasurementSteps:10}),p=new jA(this.placeholderVisibilitySlot,{numberOfMeasurementSteps:10}),A=er([this.isSticky,p.totalVisibilityRatioValueSignal,h.totalVisibilityRatioValueSignal],((e,t,i)=>e?i:t)),m=er([this.isSticky,l,u.onResize],((e,t,i)=>e?i:t));this.addDestroyHandler((()=>{u.destroy(),h.destroy(),p.destroy(void 0),A.teardown(),m.teardown()}));const v={element:this.placeholderVisibilitySlot,size:m.valueSignal,visibilityRatio:A.valueSignal},_=Va({},r,{backgroundBlur:!1},"manual"===this.replayMode?{packshotSettings:{isEnabled:!1}}:{}),g=new Rf({config:_,videoNode:i.videoSlot,videoWrapperNode:i.slot,backgroundSlot:i.backgroundContainer,visibilitySlotParameters:v,skinParameters:{renderSkinFunction:rT,skinVariant:"videoInCombo"},measurersSlot:r.visibilitySlot,retainLastMediaAfterPlayback:"manual"===this.replayMode});this.displayController=g,this.subscribeDisplayControllerEvents(g);const y=new eS(this.placeholderVisibilitySlot,this.params.layout.containerElement);this.addDestroyHandler((()=>y.destroy())),this.placeholderVisibility=y.getVisualVisibilitySensor();const E=new cl.R(ji(i.videoSlot),Rn);if(this.addDestroyHandler(Ao(i.videoSlot,(e=>E.dispatch(e)))),this.addDestroyHandler((()=>{E.removeAll()})),this.isContainerSizeFixed){const{allowedToHideVideoSlotAreaPortion:e}=r;e&&this.addDestroyHandler(Mi([d,E],((t,i)=>Lt({slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:e})),(e=>{const t=d.getValue(),r=E.getValue();(0,ja.q)("InPage: compensate videoEars=["+JSON.stringify(e)+"] slotSize=["+JSON.stringify(t)+"] adContentSize=["+JSON.stringify(r)+"]");const n=function(e){let{slotSize:{width:t,height:i},videoEarsCompensation:{isVertical:r,multiplier:n}}=e;if(1===n||!t||!i)return;const o=r?t:i,a=r?i:t,s=a*n,l=a*(n-1)*-1/2;return{width:r?o:s,height:r?s:o,marginLeft:r?0:l,marginTop:r?l:0}}({slotSize:t,videoEarsCompensation:e}),o=n?f(n,(e=>e+"px")):YT;Zi(i.videoSlot,o)})))}else{const e=e=>{ka({placeholderElement:s,placeholderWidth:l.getValue().width,adContentSize:e})};e(g.adContentSize.getValue()),this.addDestroyHandler(g.adContentSize.add(e))}this.displayController.abuseDisplayStatus.add((e=>{if("hidden"===e){this.displayController.pauseByOpenAbuseScreen.getValue()&&this.placeholderVisibility.getValue()&&this.displayController.resume()}})),this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch((0,UA.s)(i.containerDocument)),this.addDestroyHandler(or(i.containerDocument,(e=>this.documentVisibility.dispatch(e)))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.pauseByPublicMethodSignal.add(this.handlePauseByMethodCall),this.addDestroyHandler((()=>{this.pauseByPublicMethodSignal.removeAll(),this.isSticky.removeAll(),this.packshotPlayingState.removeAll()})),this.publicController=new iS({pauseByPublicMethodSignal:this.pauseByPublicMethodSignal,displayController:this.displayController});let{backgroundSlot:T}=r;T||(T=i.backgroundContainer);const S=new of({container:T,videoNode:i.videoSlot});Wa.ot.event({name:"InitBackgroundBlurInPage",data:{},probability:Fa.yl}),r.backgroundSlot?S.setPlaying(!0):this.addDestroyHandler(Mi([E,d],((e,t)=>{if(void 0===e)return!1;const i=t.width/t.height,r=e.width/e.height-i;return Math.abs(r)>.1}),(e=>{S.setPlaying(e)}))),this.addDestroyHandler((()=>{S.destroy()})),i.makeVisible(),(0,ja.q)("inPage: call constructor callback"),this.processInPage(y).catch((e=>this.destroy({reason:"error",details:e})))}async processInPage(e){const{adConfig:t,layout:i}=this.params,r=e.whenCanShow();(0,ja.q)("inPage: create adLoader");const n=function(e){const{config:t}=ba(e);return t?new mT(t):null}({rawAdConfig:Va({},t,{adBreakType:"inpage"}),adPlacementOptions:this.displayController.getAdPlacementOptions()});if(!n)throw new Ha.w({code:"FAILED_TO_CREATE_INPAGE_AD_LOADER",details:void 0});this.addDestroyHandler((()=>{n.destroy()}));const o=n.getInPageBlock();if(!o)throw new Ha.w({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:t}});(e=>{let{win:t,inPageConfig:i,adBreak:r}=e;return!PA(t)&&("boolean"===typeof i.stick?i.stick:r.stick)})({win:window,inPageConfig:t,adBreak:o})&&((0,ja.q)("inPage: initialize sticky"),this.stickyConfig=Va({stickTo:o.stickTo,stickyColorScheme:o.stickyColorScheme},_(Xo(t))),this.stickyInPageController=new gS({layout:i,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough({},"StickyInPageActionButton"),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler((()=>{this.turnOffStickyMode({animated:!1})}))),(0,ja.q)("inPage: wait for loadAd");const a=await this.loadAd(n,o);tl&&((0,ja.q)("inPage: wait for warming up"),await Promise.race([e.waitForWarmingUpPosition(),r])),(0,ja.q)("inPage: warm up ad"),await this.warmAdUp(a),(0,ja.q)("inPage: wait till visible"),await r,(0,ja.q)("inPage: visibility reached"),this.onceWhenCanShowInpage();let s=this.showAds(a);"auto"===this.replayMode&&this.displayController.onAdEnd.add((async()=>{if(!this.displayController.areAllAdPodsCompleted())return(0,ja.q)("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy({reason:"stopAd",details:void 0});(0,ja.q)("inPage: all AdPods has been completed"),await s,this.isDestroyed||((0,ja.q)("inPage: play ad again"),Wa.ot.event({name:"InPageReplayAdAutomatically",probability:Fa.yl,data:{}}),s=this.showAds(a))}))}subscribeDisplayControllerEvents(e){e.addDestroyHandler((e=>this.destroy(e))),e.onAdPodStart.addOne((async()=>{const{placeholderVisibility:e}=this;e.add(function(e,t,i,r){function n(){null!==o&&clearTimeout(o),o=null}3===arguments.length&&"boolean"!==typeof i&&(r=i,i=!1);let o=null;const a=function(){const a=arguments;r=r||this,i&&null===o&&e.apply(r,a),n(),o=window.setTimeout((function(){i||e.apply(r,a),o=null}),t)};return a.cancel=n,a}((e=>{(0,ja.q)("handle visual state change ["+e+"]"),this.handleVisibilityChange(e)}),400));const t=e.getValue();(0,ja.q)("handle AdPodStart with visualVisibilityValue=["+t+"] visibility=["+this.displayController.visibilitySlotParameters.visibilityRatio.getValue()+"]"),this.handleVisibilityChange(t)})),e.onAdStop.add((()=>{this.displayController.destroy({reason:"stopAd",details:void 0})})),e.onAdMediaStart.add((e=>{var t;let{viewer:i}=e;null==(t=this.stickyInPageController)||t.setDescription(i.mediaAd.vastAd.description)}))}async loadAd(e,t){const i=await e.load(t);return i.length>1&&Wa.ot.event({name:"InPageHasMultipleMediaAds",probability:Fa.yl,data:{mediaAdsCount:i.length}}),i}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(za.Z),await this.displayController.prepareToPlayAd(e)}async warmAdUp(e){const{layout:t}=this.params;Wa.ot.event({name:"InPageWarmUpStart",probability:Fa.yl,data:{relativeCoordinates:tr(t.videoSlot),verticalScroll:(0,Ys.Y)((()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop))}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},r=this.changeStickyState({willBeSticky:!1,animated:t});return sl(r)?r.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isSticky.getValue()!==t&&(t&&aS()?((0,ja.q)("InPage: cannot transition INTO sticky because of lock"),!1):t&&this.displayController.getPaused()?((0,ja.q)("InPage: cannot transition INTO sticky because of paused state"),!1):((0,ja.q)("InPage: can change sticky state: return willBeSticky="+t),!0)))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:r}=this;if(!r)return;const n=()=>{const e=this.stickyConfig.stickTo;Wa.ot.event({name:"InPageChangeStickyState",probability:Fa.yl,data:{willBeSticky:t,stickTo:e}});const n=!t;if(this.displayController.setSkinControlHideReason("timeline",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",n,"INPAGE_STICKY_RETAINS_CONTROL"),(0,ja.q)("inPage: change sticky state, willBeSticky=>"+t),t)return nS(),this.isSticky.dispatch(!0),this.displayController.setBlurDisplay(!1),i?r.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};oS(),this.isSticky.dispatch(!1);const t=i?r.unSticky():void 0;return t?t.then(e).catch(ol.L):e(),t}};return i?this.makeStickAction(n):n()}}const ES=function(e){void 0===e&&(e=window);try{const t=e.document;if(!Boolean(t.body.attachShadow))return!1;const i=t.createElement("div");return hi(function(e,t){try{if((0,rs.E)(e.attachShadow))return e.attachShadow(t);if((0,rs.E)(e.createShadowRoot))return e.createShadowRoot();if((0,rs.E)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(Lm){}return null}(i,{mode:"open"}))}catch(t){return!1}},{locals:TS}=uS();class SS extends Sl.V{constructor(e){super(),this.containerElement=e,this.containerWindow=(0,Ys.Y)((()=>e.ownerDocument.defaultView),(e=>{Wa.ot.error({error:new Ha.w(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})}))||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.classList.add(TS.yaInPagePlaceholderElement),this.placeholderElement=t;const i=this.containerDocument.createElement("div");Zi(i,{width:"100%",height:"100%"}),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const r=this.containerDocument.createElement("div");r.classList.add(TS.yaInPageWrapper),this.wrapperElement=r,this.stickyWrapperElement.appendChild(this.wrapperElement),this.backgroundContainer=document.createElement("div"),Zi(this.backgroundContainer,{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",margin:"0px",padding:"0px",overflow:"hidden"}),this.wrapperElement.appendChild(this.backgroundContainer),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(TS.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer),this.slot=this.containerDocument.createElement("div"),this.slot.classList.add(TS.InPageLayout__slot),this.wrapperElement.appendChild(this.slot),this.packshotContainer=this.containerDocument.createElement("div"),this.packshotContainer.classList.add(TS.InPageLayout__packshotContainer),this.wrapperElement.appendChild(this.packshotContainer),this.videoSlot=(e=>{const t=function(e){return e.createElement("video")}(e);var i;return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=.5,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(TS.InPageLayout__videoSlot),(i=t).setAttribute("playsinline","playsinline"),i.setAttribute("webkit-playsinline","webkit-playsinline"),t})(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.containerElement.appendChild(this.placeholderElement);const n=fn(this.containerElement,uS().toString());this.addDestroyHandler((()=>{(0,Ua.L)(n)}));const o=new yA(t);this.placeholderSize=o.onResize,this.addDestroyHandler((()=>o.destroy()));const a=new yA(this.videoSlotContainer);this.videoSlotContainerSize=a.onResize,this.addDestroyHandler((()=>a.destroy()))}makeVisible(){Zi(this.placeholderElement,{visibility:"visible"})}setPackshotContainerVisibility(e){Zi(this.packshotContainer,{display:e?"block":"none"})}setSlotVisibility(e){Zi(this.slot,{display:e?"block":"none"})}}const wS=e=>{let{containerElementOrId:t,insertAfter:i,insertPosition:r,win:n=window}=e;const o=(0,Ys.Y)((()=>n.document.querySelectorAll(""+i))),a={insertAfter:null,insertInto:null,win:n};if(!o||0===o.length||!(0,Cl.H)(i)||!i)return a.insertInto="string"===typeof t?n.document.getElementById(t):t,a;const d=r||0;if(!s(parseInt(""+d,10))&&!/^\d+%$/.test(""+d)&&!/^\d+$/.test(""+d))throw new Ha.w({code:"INPAGE_CONTAINER_CONFIG_VALIDATION_ERROR",details:{containerElementOrId:String(t),insertPosition:r,insertAfter:i}});const c=o.length;if(0===c)return a;const u=((e,t)=>{let i=(0,Cl.H)(e)?parseInt(e,10):e;if((0,Cl.H)(e)&&-1!==e.indexOf("%")){const e=i/100;i=Math.round(e*(t-1))}else l(i)&&(i-=1);return i=(0,ju.u)(i,0,t-1),i})(d,c),h=o[u];return a.insertAfter=h,a},bS=e=>{let{insertAfter:t,insertInto:i}=e;return null!=t?t:i},CS=(0,rs.E)(window.WeakSet)?new window.WeakSet:[],OS={place(e){const t=bS(e);return(0,fl.k)(CS)?CS.push(t):CS.add(t)},free(e){const t=bS(e);return(0,fl.k)(CS)?CS.splice(CS.indexOf(t),1):CS.delete(t)},isFree(e){const t=bS(e);return(0,fl.k)(CS)?-1===CS.indexOf(t):!1===CS.has(t)}},IS=(e,t)=>{(0,ja.q)("inPage: normalizeInPageConfig");const i=(e=>{if(!(0,as.K)(e))throw new Ha.w({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=Yn($(e),{controlsVisibility:{skip:!1}});let i=e.vastUrl;e.vastUrl&&r(e.vastUrl)&&(i=(0,Qa.Sr)(e.vastUrl,{tags:"inpage"}));const{allowedToHideVideoSlotAreaPortion:n}=e;if(void 0!==n&&(!(0,$d.f)(n)||n>=1))throw new Ha.w({code:"INVALID_ALLOWED_TO_HIDE_VIDEO_SLOT_AREA_PORTION_PARAMETER",details:{value:n}});let o;if(ap(e.visibilitySlot))o=e.visibilitySlot,Wa.ot.event({name:"UsingVisibilitySlot",probability:Fa.yl,data:{config:e}});else if(void 0!==e.visibilitySlot)throw new Ha.w({code:"VISIBILITY_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}});const a="EXP"===ms.L.getFlagValueAndActivateTestId("VAS_INPAGE_STICKY_DISABLED");return La({},e,{visibilitySlot:o,controlsSettings:t,vastUrl:i,backgroundBlur:!0,videoTimeout:1e4,vpaidTimeout:1e4,allowedToHideVideoSlotAreaPortion:null!=n?n:0,stick:!a&&e.stick,stickTo:a?void 0:e.stickTo})})(t),{insertPosition:n,insertAfter:o}=i;(0,ja.q)("inPage: prepareGetOrCreateContainerElementParams");const a=wS({insertPosition:n,insertAfter:o,containerElementOrId:e});if(s=a,!Boolean(s.insertAfter||s.insertInto))throw new Ha.w({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e),insertPosition:n,insertAfter:o}});var s;if(!OS.isFree(a))throw new Ha.w({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e),insertPosition:n,insertAfter:o}});OS.place(a);const l=(e=>{let{insertAfter:t,insertInto:i,win:r=window}=e;if(void 0===t||null===t)return i;const n=r.document.createElement("div");return t.parentNode.insertBefore(n,t.nextSibling)})(a),d=l.getBoundingClientRect();if(0===d.width)throw new Ha.w({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),insertAfter:o,insertPosition:n,containerRect:d}});const c=l.ownerDocument.defaultView,u=Nn(l);let h;ES(c)&&!u&&Wa.ot.error({error:new Ha.w({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:(0,Ys.Y)((()=>l.outerHTML))}})}),(0,ja.q)("inPage: create InPageLayout"),u?h=u:(h=document.createElement("div"),l.appendChild(h));const p=new SS(h);return p.addDestroyHandler((()=>{OS.free(a)})),{layout:p,adConfig:i,initialContainerRect:d,containerElementByParams:l}};!function(e,t){const i={videoAd:{loadedModules:{[e]:t},modules:{[bs.b]:{[e]:t}}}};Ba(window,i,"ya")}("InPage",{addInPageVideo:(e,i,r)=>{(0,ja.q)("inPage: add inpage video");const n="function"===typeof r?(0,Xa.O)(r,"INPAGE_CALLBACK_ERROR"):za.Z;let o;try{o=IS(e,i)}catch(a){return(0,ja.q)("inPage: prepareInPageParameters error=["+a+"]"),m(a),void n(a)}Wa.ot.event({name:"AddInPageVideo",probability:Fa.yl,data:{adConfig:i,containerElementOrId:String(e),containerRect:o.initialContainerRect}});try{const e=new yS(o);(0,ja.q)("inPage: call public callback"),n(e.publicController),e.addDestroyHandler((e=>{(0,Ua.L)(o.containerElementByParams),o.layout.destroy(),"error"===e.reason&&e.details&&(m(e.details),n(e.details))})),e.addDestroyHandler(t((()=>{e.destroy({reason:"unload",details:void 0})}),null!=xa.h?xa.h:window))}catch(a){(0,ja.q)("inPage: create InPage error=["+a+"]"),Wa.ot.error({error:new Ha.w(a,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),n(a)}}})}()}();